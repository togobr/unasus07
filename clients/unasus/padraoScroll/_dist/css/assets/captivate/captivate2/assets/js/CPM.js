if(!window.cp)window.cp = function(str){return document.getElementById(str)};cp.CPProjInit = function(){if(cp && cp.model && cp.model.data) return; cp.model = {}; cp.D = cp.model.data = {pref:{acc:1,rkt:0,hsr:0},sf_3902:{from:76,to:81,mdi:'sf_3902c'},sf_3902c:{id:'sf_3902c',b:[0,0,23,16],l:169,t:240,dn:'sf_3902',visible:'1',ip:'dr/sfs0.png'},sf_4665:{from:76,to:81,mdi:'sf_4665c'},sf_4665c:{id:'sf_4665c',b:[23,0,256,2],l:192,t:240,dn:'sf_4665',visible:'1',ip:'dr/sfs0.png'},sf_4669:{from:76,to:81,mdi:'sf_4669c'},sf_4669c:{id:'sf_4669c',b:[279,0,56,16],l:448,t:240,dn:'sf_4669',visible:'1',ip:'dr/sfs0.png'},sf_4673:{from:76,to:81,mdi:'sf_4673c'},sf_4673c:{id:'sf_4673c',b:[335,0,23,3],l:169,t:256,dn:'sf_4673',visible:'1',ip:'dr/sfs0.png'},sf_4677:{from:76,to:81,mdi:'sf_4677c'},sf_4677c:{id:'sf_4677c',b:[358,0,256,2],l:192,t:257,dn:'sf_4677',visible:'1',ip:'dr/sfs0.png'},sf_4681:{from:76,to:81,mdi:'sf_4681c'},sf_4681c:{id:'sf_4681c',b:[614,0,56,3],l:448,t:256,dn:'sf_4681',visible:'1',ip:'dr/sfs0.png'},Highlight_Box_1:{type:14,from:1,to:45,rp:0,rpa:0,mdi:'Highlight_Box_1c',immo:false,apsn:'Slide3887',trin:0,trout:0},Highlight_Box_1c:{b:[159,234,509,269],sr:cp.fd,dn:'Highlight_Box_1',visible:1,JSONEffectData:false,fc:'#800000',sc:'#340015',sw:1,fo:20,foa:0,vb:[158,233,510,270]},Text_Caption_1:{type:19,from:1,to:45,rp:0,rpa:0,mdi:'Text_Caption_1c',immo:false,apsn:'Slide3887',trin:0,trout:0},Text_Caption_1c:{b:[311,136,493,222],sr:cp.fd,ip:'dr/Text_Caption_1.png',dn:'Text_Caption_1',visible:1,JSONEffectData:false,accstr:'Digite Senar ',ti:-1,vb:[311,136,493,222]},Button_1:{type:177,from:1,to:45,rp:0,rpa:0,mdi:'Button_1c',immo:false,apsn:'Slide3887',JSONTT_4:[],cpa:true,oca:'cp.jumpToNextSlide();',JSONTT_5:[],ofa:'cpCmndResume = 1;',chfn:cp.ch,osc:'',osct:0,ofc:'',ofct:0,pa:28,enabled:1,ma:1,pfc:1,dclk:false,amc:true,ca:'Button_1ClkAd',eh:cp.cbKH,siq:false,sat:true,trin:0,trout:0},Button_1c:{b:[153,227,519,277],sr:cp.fd,ip:'dr/Button_1.png',dn:'Button_1',visible:1,JSONEffectData:false,accstr:' Trigger this button to go to the next slide ',ti:2500,vb:[153,227,519,277]},Button_1ClkAd:{src:'ar/Mouse.mp3',du:182},Mouse_1Ad:{src:'ar/Mouse.mp3',from:66,to:80,msa:1,du:182},MC$1:{type:15728652,from:66,to:81,rp:0,mdi:'MC$1c'},MC$1c:{b:[177,243,183,249],sr:cp.mcd,dn:'MC$1',visible:1,data:{c:'#0000ff',r:3}},Mouse_1:{type:12,from:1,to:82,rp:0,rpa:0,mdi:'Mouse_1c',immo:false,apsn:'Slide3887',mp:'mouse',afrom:46,ato:81,mpa:{b:[-1,-1,172,238],t:1,s:0},trin:0,trout:0},Mouse_1c:{b:[-9,-10,23,22],sr:cp.fd,ip:'dr/3914.png',dn:'Mouse_1',visible:1,JSONEffectData:false,vb:[-1,-1,204,270]},Slide3887:{lb:'',id:3887,from:1,to:81,mmot:false,mdi:'Slide3887c',st:'Normal Slide',audCC:[],vidCC:[],accstr:' ',si:[{n:'sf_3902',t:64},{n:'sf_4665',t:64},{n:'sf_4669',t:64},{n:'sf_4673',t:64},{n:'sf_4677',t:64},{n:'sf_4681',t:64},{n:'Highlight_Box_1',t:14},{n:'Text_Caption_1',t:19},{n:'Button_1',t:177,d:{cur:1}},{n:'MC$1',t:15728652},{n:'Mouse_1',t:12}],iph:[],oa:'Mouse_1Ad',ea:'Button_1ClkAd',v:false,bc:'#ffffff',JSONTT_0:[],JSONTT_6:[],qs:''},Slide3887c:{b:[0,0,677,359],sr:cp.fd,ip:'dr/4660.png',dn:'Slide3887',visible:'1'},Text_Caption_3:{type:19,from:82,to:135,rp:0,rpa:0,mdi:'Text_Caption_3c',immo:false,apsn:'Slide4177',trin:0,trout:0},Text_Caption_3c:{b:[38,94,273,198],sr:cp.fd,ip:'dr/Text_Caption_3.png',dn:'Text_Caption_3',visible:1,JSONEffectData:false,accstr:'Pressione a tecla Enter para acessar.  Clique aqui para continuar. ',ti:-1,vb:[38,94,273,198]},Button_4:{type:177,from:82,to:135,rp:0,rpa:0,mdi:'Button_4c',immo:false,apsn:'Slide4177',JSONTT_4:[],cpa:true,oca:'cp.jumpToNextSlide();',JSONTT_5:[],ofa:'cpCmndResume = 1;',chfn:cp.ch,osc:'',osct:0,ofc:'',ofct:0,pa:109,enabled:1,ma:-1,pfc:1,dclk:false,amc:true,ca:'Button_4ClkAd',eh:cp.cbKH,siq:false,sat:true,trin:0,trout:0},Button_4c:{b:[23,83,284,211],sr:cp.fd,ip:'dr/Button_4.png',dn:'Button_4',visible:1,JSONEffectData:false,accstr:' Trigger this button to go to the next slide ',ti:2500,vb:[23,83,284,211]},Button_4ClkAd:{src:'ar/Mouse.mp3',du:182},Slide4177:{lb:'',id:4177,from:82,to:135,mmot:false,mdi:'Slide4177c',st:'Normal Slide',audCC:[],vidCC:[],accstr:' ',si:[{n:'Text_Caption_3',t:19},{n:'Button_4',t:177,d:{cur:1}}],iph:[],ea:'Button_4ClkAd',v:false,bc:'#ffffff',JSONTT_0:[],JSONTT_6:[],qs:''},Slide4177c:{b:[0,0,677,359],sr:cp.fd,ip:'dr/4692.png',dn:'Slide4177',visible:'1'},Mouse_7Ad:{src:'ar/Mouse.mp3',from:159,to:173,msa:1,du:182},MC$2:{type:15728652,from:159,to:174,rp:0,mdi:'MC$2c'},MC$2c:{b:[136,278,142,284],sr:cp.mcd,dn:'MC$2',visible:1,data:{c:'#0000ff',r:3}},Mouse_7:{type:12,from:136,to:175,rp:0,rpa:0,mdi:'Mouse_7c',immo:false,apsn:'Slide4238',mp:'mouse',afrom:136,ato:174,mpa:{b:[180,247,139,281],t:1,s:0},trin:0,trout:0},Mouse_7c:{b:[180,247,212,279],sr:cp.fd,ip:'dr/4172.png',dn:'Mouse_7',visible:1,JSONEffectData:false,vb:[139,247,180,313]},Slide4238:{lb:'',id:4238,from:136,to:174,mmot:false,mdi:'Slide4238c',st:'Normal Slide',audCC:[],vidCC:[],accstr:' ',si:[{n:'MC$2',t:15728652},{n:'Mouse_7',t:12}],iph:[],oa:'Mouse_7Ad',v:false,bc:'#ffffff',JSONTT_0:[],JSONTT_6:[],qs:''},Slide4238c:{b:[0,0,677,359],sr:cp.fd,ip:'dr/4698.png',dn:'Slide4238',visible:'1'},sf_4318:{from:262,to:267,mdi:'sf_4318c'},sf_4318c:{id:'sf_4318c',b:[670,0,8,2],l:664,t:126,dn:'sf_4318',visible:'1',ip:'dr/sfs0.png'},sf_4717:{from:262,to:267,mdi:'sf_4717c'},sf_4717c:{id:'sf_4717c',b:[678,0,8,64],l:664,t:128,dn:'sf_4717',visible:'1',ip:'dr/sfs0.png'},sf_4721:{from:262,to:267,mdi:'sf_4721c'},sf_4721c:{id:'sf_4721c',b:[0,64,8,55],l:664,t:192,dn:'sf_4721',visible:'1',ip:'dr/sfs0.png'},Highlight_Box_5:{type:14,from:175,to:228,rp:0,rpa:0,mdi:'Highlight_Box_5c',immo:false,apsn:'Slide4303',trin:0,trout:0},Highlight_Box_5c:{b:[73,94,330,125],sr:cp.fd,dn:'Highlight_Box_5',visible:1,JSONEffectData:false,fc:'#b21f00',sc:'#550000',sw:1,fo:20,foa:0,vb:[72,93,331,126]},Text_Caption_7:{type:19,from:175,to:228,rp:0,rpa:0,mdi:'Text_Caption_7c',immo:false,apsn:'Slide4303',trin:0,trout:0},Text_Caption_7c:{b:[293,122,550,208],sr:cp.fd,ip:'dr/Text_Caption_7.png',dn:'Text_Caption_7',visible:1,JSONEffectData:false,accstr:'Clique para ver o site do Senar ',ti:-1,vb:[293,122,550,208]},Button_2:{type:177,from:175,to:228,rp:0,rpa:0,mdi:'Button_2c',immo:false,apsn:'Slide4303',JSONTT_4:[],cpa:true,oca:'cp.jumpToNextSlide();',JSONTT_5:[],ofa:'cpCmndResume = 1;',chfn:cp.ch,osc:'',osct:0,ofc:'',ofct:0,pa:202,enabled:1,ma:-1,pfc:1,dclk:false,amc:true,ca:'Button_2ClkAd',eh:cp.cbKH,siq:false,sat:true,trin:0,trout:0},Button_2c:{b:[67,89,335,128],sr:cp.fd,ip:'dr/Button_2.png',dn:'Button_2',visible:1,JSONEffectData:false,accstr:' Trigger this button to go to the next slide ',ti:2500,vb:[67,89,335,128]},Button_2ClkAd:{src:'ar/Mouse.mp3',du:182},Mouse_10Ad:{src:'ar/Mouse.mp3',from:252,to:266,msa:1,du:182},MC$3:{type:15728652,from:252,to:267,rp:0,mdi:'MC$3c'},MC$3c:{b:[245,113,251,119],sr:cp.mcd,dn:'MC$3',visible:1,data:{c:'#0000ff',r:3}},Mouse_10:{type:12,from:175,to:268,rp:0,rpa:0,mdi:'Mouse_10c',immo:false,apsn:'Slide4303',mp:'mouse',afrom:229,ato:267,mpa:{b:[899,257,244,112],t:1,s:0},trin:0,trout:0},Mouse_10c:{b:[895,257,927,289],sr:cp.fd,ip:'dr/4330.png',dn:'Mouse_10',visible:1,JSONEffectData:false,vb:[244,112,899,257]},Slide4303:{lb:'',id:4303,from:175,to:267,mmot:false,mdi:'Slide4303c',st:'Normal Slide',audCC:[],vidCC:[],accstr:' ',si:[{n:'sf_4318',t:64},{n:'sf_4717',t:64},{n:'sf_4721',t:64},{n:'Highlight_Box_5',t:14},{n:'Text_Caption_7',t:19},{n:'Button_2',t:177,d:{cur:1}},{n:'MC$3',t:15728652},{n:'Mouse_10',t:12}],iph:[],oa:'Mouse_10Ad',ea:'Button_2ClkAd',v:false,bc:'#ffffff',JSONTT_0:[],JSONTT_6:[],qs:''},Slide4303c:{b:[0,0,677,359],sr:cp.fd,ip:'dr/4712.png',dn:'Slide4303',visible:'1'},Text_Caption_8:{type:19,from:268,to:321,rp:0,rpa:0,mdi:'Text_Caption_8c',immo:false,apsn:'Slide4335',trin:0,trout:0},Text_Caption_8c:{b:[209,207,448,284],sr:cp.fd,ip:'dr/Text_Caption_8.png',dn:'Text_Caption_8',visible:1,JSONEffectData:false,accstr:'Este é o site do Senar. ',ti:-1,vb:[209,207,448,284]},Slide4335:{lb:'',id:4335,from:268,to:321,mmot:false,mdi:'Slide4335c',st:'Normal Slide',audCC:[],vidCC:[],accstr:' ',si:[{n:'Text_Caption_8',t:19}],iph:[],v:false,bc:'#ffffff',JSONTT_0:[],JSONTT_6:[],qs:''},Slide4335c:{b:[0,0,677,359],sr:cp.fd,ip:'dr/4723.png',dn:'Slide4335',visible:'1'},quizzingData:{allowBackwardMovement:true,allowReviewMode:true,isInReviewMode:false,allowSkipAnyScoreSlide:true,allowSkipFailScoreSlide:true,allowSkipPassScoreSlide:true,anyGradeAction:'',anyGradeActionArg1:'',anyGradeActionArg2:'',defaultActionType:'continue',defaultActionArg1:'',defaultActionArg2:'',failedScoreFeedback:'Infelizmente você foi reprovado.',failingGradeAction:'cpCmndResume = 1;',JSONTT_5:[],passedScoreFeedback:'Parabéns! Você foi aprovado no quiz!',passingGradeAction:'cpCmndResume = 1;',JSONTT_4:[],pretestAction:'',it:false,anyScoreSlide:-1,firstSlideInQuiz:-1,lastSlideInQuiz:-1,quizScopeEndSlide:-1,maxScore:0,minScore:0,maxPretestScore:0,numQuestionsInQuiz:0,numQuizAttemptsAllowed:1,passingScore:0,quizInfoCurrentAttempt:0,quizInfoPercentScored:0,quizProgress:'',questionAdvance:'optional',quizAdvance:'optional',quizID:455,showFinishButton:true,showProgress:true,questionPoolsInitialized:true,quizInfoAnswerChoice:'',quizInfoAttempts:1,quizInfoLastSlidePointScored:0,quizInfoMaxAttemptsOnCurrentQuestion:1,quizInfoPassFail:0,quizInfoPointsPerQuestionSlide:0,quizInfoPointsScored:0,quizInfoQuestionSlideTiming:0,quizInfoQuestionSlideType:'',quizInfoQuizPassPercent:80,quizInfoQuizPassPoints:0,quizInfoTotalCorrectAnswers:0,quizInfoTotalProjectPoints:0,quizInfoTotalQuestionsPerProject:0,quizInfoTotalQuizPoints:0,quizInfoTotalUnansweredQuestions:0,reportingVariables:0,reportingEnabled:false,submitAll:false,hidePlaybarInQuiz:false,quizBranchAware:false,passFailPassingScoreTypeInPrecent:true,passFailPassingScoreValue:80,progressIndicatorType:0,progressIndicatorString:'Pergunta %d de %d    '},rtDialog:{rtbgfc:'#4d4d4d',rtbgsc:'#ffffff',rtbtnfc:'#1a1a1a',rtbtnsc:'#ffffff',rtsc:'#ffffff',rttc:'#ffffff',rttsc:'#1a1a1a',rtfn:'MyriadPro-Regular',rtt:'Enviar tudo',rtsam:'Você respondeu todas as perguntas. O que deseja fazer a seguir?',rtiqm:'Uma ou mais perguntas estão incompletas. Responda todas as perguntas para continuar.',rtsiqm:'Você ainda não respondeu algumas perguntas. Tem certeza de que deseja prosseguir sem respondê-las?',rtsanym:'Você chegou ao fim do quiz, mas tem perguntas não respondidas. O que deseja fazer?',rtmtqm:'Responda pelo menos uma pergunta para continuar.',rtokb:'OK',rtcb:'CANCELAR',rtyb:'SIM',rtnb:'NÃO',rtsab:'Enviar todas as respostas',rtsanyb:'Enviar mesmo assim',rtrtqb:'Retornar ao quiz',rtWarningTitle:'Adobe Captivate',rtUnsupportedBowser:'Este navegador não dá suporte a parte do conteúdo do arquivo que você está tentando exibir. Use um dos seguintes navegadores:<ul><li>Internet Explorer 9 ou posterior</li><li>Safari 5.1 ou posterior</li><li>Google Chrome 17 ou posterior</li></ul>'},sgMgr:{ri:0,sg:[[0,[[1,[23,2]]]],[1,[[2,[23,2]]]],[2,[[3,[23]]]],[3,[[4,[23,2]]]]]},project:{fps:30,hasTOC:0,w:677,h:359,prjBgColor:'#ffffff',pkt:0,htmlBgColor:'#f5f4f1',shc:false,pN:'Demo_IEA'},project_main:{from:1,to:321,currentFrame:1,useWidgetVersion7:false,isPublishedFromLacuna:false,slides:'Slide3887,Slide4177,Slide4238,Slide4303,Slide4335',questions:'',autoplay:true,preloader:false,pprtd:false,peon:false,fadeInAtStart:0,fadeOutAtEnd:0,endAction:'cp.stopMovie();'},borderProperties:{hasBorder:true,l:0,t:0,r:0,b:30,w:677,h:389,hasSqEd:false,bc:'#c0c0c0'},playBarProperties:{hasPlayBar:true,jsfile:'playbarScript.js',cssfile:'playbarStyle.css',position:3,layout:3,showOnHover:false,overlay:false,tworow:false,hasRewind:true,hasBackward:true,hasPlay:true,hasSlider:true,hasForward:true,hasCC:false,hasAudioOn:true,hasExit:true,hasFastForward:true,applyColors:true,BkColor:{bc:'#4d4c4c',alpha:100},FaceColor:{bc:'#e6e6e6',alpha:100},GlowColor:{bc:'#ffffff',alpha:100},IconColor:{bc:'#40424e',alpha:100},alpha:100,noToolTips:false,locale:8},tocProperties:{},ccProperties:{w:677,h:57,lc:3,c:'#ffffff',o:49,f:'Times New Roman',fs:12,tc:'#000000'},trecs:[{link:3887,text:['Digite Senar','']},{link:4177,text:['Pressione a tecla Enter para acessar.  Clique aqui para continuar.','']},{link:4238,text:[]},{link:4303,text:['Clique para ver o site do Senar','']},{link:4335,text:['Este é o site do Senar.']}]};cp.model.projectImages=['assets/htmlimages/img_trans.gif','assets/htmlimages/placeholder.png'];cp.model.images=['dr/4660.png','dr/Text_Caption_1.png','dr/Button_1.png','dr/3914.png','dr/4692.png','dr/Text_Caption_3.png','dr/Button_4.png','dr/4698.png','dr/4172.png','dr/4712.png','dr/Text_Caption_7.png','dr/Button_2.png','dr/4330.png','dr/4723.png','dr/Text_Caption_8.png','dr/sfs0.png'];cp.model.videos=[];cp.model.slideVideos=[];cp.model.tocVideos=[];cp.initVariables = function(){cp.cv('CaptivateVersion','7.0.0',1,1000);cp.cv('cpCmndCC',0,1,15);cp.cv('cpCmndExit',0,1,15);cp.cv('cpCmndMute',0,1,15);cp.cv('cpCmndPause',0,1,15);cp.cv('cpCmndPlaybarMoved',0,1,15);cp.cv('cpCmndPrevious',0,1,15);cp.cv('cpCmndResume',0,1,15);cp.cv('cpCmndShowPlaybar',1,1,15);cp.cv('cpCmndTOCVisible',0,1,15);cp.cv('cpCmndVolume',100,1,15);cp.cv('cpInQuizScope',0,1,15);cp.cv('cpInReviewMode',0,1,15);cp.cv('cpInfoAuthor','author',1,15);cp.cv('cpInfoCompany','company',1,15);cp.cv('cpInfoCopyright','copyright',1,15);cp.cv('cpInfoCourseID',-1,1,15);cp.cv('cpInfoCourseName','Course Name',1,15);cp.cv('cpInfoCurrentDate','dd',1,15);cp.cv('cpInfoCurrentDateString','mm/dd/yyyy',1,15);cp.cv('cpInfoCurrentDateStringDDMMYYYY','dd/mm/yyyy',1,15);cp.cv('cpInfoCurrentDay',1,1,15);cp.cv('cpInfoCurrentFrame',1,1,15);cp.cv('cpInfoCurrentHour','hh',1,15);cp.cv('cpInfoCurrentLocaleDateString','',1,15);cp.cv('cpInfoCurrentMinutes','mm',1,15);cp.cv('cpInfoCurrentMonth','mm',1,15);cp.cv('cpInfoCurrentSlide',1,1,15);cp.cv('cpInfoCurrentSlideLabel','slide',1,15);cp.cv('cpInfoCurrentSlideType','Normal',1,15);cp.cv('cpInfoCurrentTime','hh:mm:ss',1,15);cp.cv('cpInfoCurrentYear','yyyy',1,15);cp.cv('cpInfoDescription','project description',1,15);cp.cv('cpInfoElapsedTimeMS',0,1,15);cp.cv('cpInfoEmail','author@company.com',1,15);cp.cv('cpInfoEpochMS',0,1,15);cp.cv('cpInfoFPS',1,1,15);cp.cv('cpInfoFrameCount',1,1,15);cp.cv('cpInfoHasPlaybar',1,1,1000);cp.cv('cpInfoIsStandalone',1,1,15);cp.cv('cpInfoLastVisitedSlide',0,1,15);cp.cv('cpInfoPercentage',0,1,15);cp.cv('cpInfoPrevSlide',-1,1,15);cp.cv('cpInfoProjectName','',1,15);cp.cv('cpInfoSlideCount',1,1,15);cp.cv('cpInfoSlidesInProject',11,1,1000);cp.cv('cpInfoWebsite','www.company.com',1,15);cp.cv('cpLockTOC',0,1,1000);cp.cv('cpQuizInfoAnswerChoice','',1,15);cp.cv('cpQuizInfoAttempts',0,1,15);cp.cv('cpQuizInfoLastSlidePointScored',0,1,15);cp.cv('cpQuizInfoMaxAttemptsOnCurrentQuestion',0,1,15);cp.cv('cpQuizInfoNegativePointsOnCurrentQuestionSlide',0,1,15);cp.cv('cpQuizInfoPassFail',0,1,15);cp.cv('cpQuizInfoPointsPerQuestionSlide',0,1,15);cp.cv('cpQuizInfoPointsscored',0,1,15);cp.cv('cpQuizInfoPreTestMaxScore',0,1,15);cp.cv('cpQuizInfoPreTestTotalCorrectAnswers',0,1,15);cp.cv('cpQuizInfoPreTestTotalQuestions',0,1,1000);cp.cv('cpQuizInfoPretestPointsscored',0,1,15);cp.cv('cpQuizInfoPretestScorePercentage',0,1,15);cp.cv('cpQuizInfoQuestionPartialScoreOn',0,1,15);cp.cv('cpQuizInfoQuestionSlideTiming',0,1,15);cp.cv('cpQuizInfoQuestionSlideType','choice',1,15);cp.cv('cpQuizInfoQuizPassPercent',80,1,1000);cp.cv('cpQuizInfoQuizPassPoints',0,1,1000);cp.cv('cpQuizInfoTotalCorrectAnswers',0,1,15);cp.cv('cpQuizInfoTotalProjectPoints',0,1,15);cp.cv('cpQuizInfoTotalQuestionsPerProject',0,1,15);cp.cv('cpQuizInfoTotalQuizPoints',0,1,1000);cp.cv('cpQuizInfoTotalUnansweredQuestions',0,1,15);cp.cv('cpInfoPrevFrame',0,1,15);cp.cv('cpQuizInfoStudentID','',0,15);cp.cv('cpQuizInfoStudentName','',0,15);}};cp.sbw=0;;var RuntimeBrowserDetect={init:function(a,c,e){this.BrowserEnum||(this.BrowserEnum={},this.BrowserEnum.UNKNOWN=0,this.BrowserEnum.MSIE=1,this.BrowserEnum.FIREFOX=2,this.BrowserEnum.CHROME=3,this.BrowserEnum.SAFARI=4,this.BrowserEnum.NETSCAPE=5,this.BrowserEnum.OPERA=6,this.BrowserEnum.CAMINO=7,this.BrowserEnum.FIREBIRD=8,this.BrowserEnum.MSIE_MIN_SUPPORTED_VERSION=9,this.BrowserEnum.CHROME_MIN_SUPPORTED_VERSION=17,this.BrowserEnum.SAFARI_MIN_SUPPORTED_VERSION=5.1);this.DeviceEnum||(this.DeviceEnum=
{},this.DeviceEnum.DESKTOP=0,this.DeviceEnum.IDEVICE=1,this.DeviceEnum.ANDROID=2);this.browserVersion=this.browser=this.BrowserEnum.UNKNOWN;this.device=this.DeviceEnum.DESKTOP;navigator.userAgent.match(/(iPhone|iPad|iPod)/i)?this.device=this.DeviceEnum.IDEVICE:navigator.userAgent.match(/android/i)&&(this.device=this.DeviceEnum.ANDROID);navigator.userAgent.match(/MSIE/i)?(this.browser=this.BrowserEnum.MSIE,this.browserVersion=this.getCurrentBrowserVersion(navigator.userAgent,"MSIE")||this.getCurrentBrowserVersion(navigator.appVersion,
"MSIE")||this.BrowserEnum.UNKNOWN):navigator.userAgent.match(/Firefox/i)?(this.browser=this.BrowserEnum.FIREFOX,this.browserVersion=this.getCurrentBrowserVersion(navigator.userAgent,"Firefox")||this.getCurrentBrowserVersion(navigator.appVersion,"Firefox")||this.BrowserEnum.UNKNOWN):navigator.userAgent.match(/Chrome/i)?(this.browser=this.BrowserEnum.CHROME,this.browserVersion=this.getCurrentBrowserVersion(navigator.userAgent,"Chrome")||this.getCurrentBrowserVersion(navigator.appVersion,"Chrome")||
this.BrowserEnum.UNKNOWN):navigator.userAgent.match(/Safari/i)?(this.browser=this.BrowserEnum.SAFARI,this.browserVersion=this.getCurrentBrowserVersion(navigator.userAgent,"Version")||this.getCurrentBrowserVersion(navigator.appVersion,"Version")||this.BrowserEnum.UNKNOWN):navigator.userAgent.match(/Netscape/i)?(this.browser=this.BrowserEnum.NETSCAPE,this.browserVersion=this.getCurrentBrowserVersion(navigator.userAgent,"Netscape")||this.getCurrentBrowserVersion(navigator.appVersion,"Netscape")||this.BrowserEnum.UNKNOWN):
navigator.userAgent.match(/Opera/i)?(this.browser=this.BrowserEnum.OPERA,this.browserVersion=this.getCurrentBrowserVersion(navigator.userAgent,"Version")||this.getCurrentBrowserVersion(navigator.appVersion,"Version")||this.BrowserEnum.UNKNOWN):navigator.userAgent.match(/Camino/i)?(this.browser=this.BrowserEnum.CAMINO,this.browserVersion=this.getCurrentBrowserVersion(navigator.userAgent,"Camino")||this.getCurrentBrowserVersion(navigator.appVersion,"Camino")||this.BrowserEnum.UNKNOWN):navigator.userAgent.match(/Firebird/i)?
this.browser=this.BrowserEnum.FIREBIRD:navigator.userAgent.match(/Trident/i)&&"netscape"==navigator.appName.toLowerCase()&&(this.browser=this.BrowserEnum.MSIE,this.browserVersion=this.getCurrentBrowserVersion(navigator.userAgent,"rv")||this.BrowserEnum.UNKNOWN);this.getIsBrowserSupported()||this.showRuntimeWarning(a,c,e)},getCurrentBrowserVersion:function(a,c){var e=a.indexOf(c);return-1==e?this.BrowserEnum.UNKNOWN:parseFloat(a.substring(e+c.length+1))},getIsBrowserSupported:function(){var a=!1;this.browser==
this.BrowserEnum.MSIE&&this.browserVersion>=this.BrowserEnum.MSIE_MIN_SUPPORTED_VERSION?a=!0:this.browser==this.BrowserEnum.CHROME&&this.browserVersion>=this.BrowserEnum.CHROME_MIN_SUPPORTED_VERSION?a=!0:this.browser==this.BrowserEnum.SAFARI&&this.browserVersion>=this.BrowserEnum.SAFARI_MIN_SUPPORTED_VERSION&&(a=!0);return a},getPanelElement:function(a,c,e,d,f){var b=document.createElement("div");b.style.left=a;b.style.top=c;b.style.width=e;b.style.height=d;b.style.backgroundColor=f;b.style.border=
"1px solid #666666";b.style.borderRadius="14px";return b},getTextElement:function(a,c,e,d,f){var b=document.createElement("div");b.style.color=e;b.style.fontFamily=d;b.style.fontSize="14px";b.style.textAlign="left";b.style.left=a;b.style.top=c;b.style.position="relative";b.style.opacity=1;b.innerHTML=f;return b},showRuntimeWarning:function(a,c,e){if(document.body){var d=document.createElement("div");d.id="CPUnSupportedBrowserWarning_ID";var f=this.getPanelElement("0px","0px","455px","220px","#CCCCCC");
f.style.margin="100px auto";"boxShadow"in f.style&&(f.style.boxShadow="1px 1px 1px #000000");d.appendChild(f);var b=this.getPanelElement("2px","2px","450px","215px","#FEFEFE");b.style.position="relative";f.appendChild(b);c=this.getTextElement("10px","10px","#000000","Tahoma",c);b.appendChild(c);c=document.createElement("div");c.style.height="2px";c.style.backgroundColor="#000000";c.style.opacity=0.5;c.style.position="relative";c.style.marginLeft="10px";c.style.marginRight="10px";c.style.top="20px";
b.appendChild(c);a=this.getTextElement("10px","30px","#000000","Tahoma",a);a.style.marginRight="10px";b.appendChild(a);a=this.getPanelElement("0px","auto","100px","33px","#CCCCCC");a.style.bottom="10px";a.style.opacity=0.7;a.style.position="absolute";a.style.cursor="pointer";a.onclick=function(){var a=document.getElementById("CPUnSupportedBrowserWarning_ID");a!=void 0&&document.body.removeChild(a)};"boxShadow"in a.style&&(a.style.boxShadow="1px 1px 1px #000000");e=this.getTextElement("0px","5px",
"#000000","Tahoma",e);e.style.textAlign="center";a.appendChild(e);b.appendChild(a);document.body.appendChild(d);d.style.visibility="visible";d.style.position="absolute";d.style.left="0px";d.style.top="0px";d.style.width="100%";d.style.height="100%";d.style.textAlign="center";d.style.zIndex="1000";d.style.backgroundColor="CCCCCC";a.style.left=(b.clientWidth-a.clientWidth)/2+"px"}}};
cp.rtInherits=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.baseConstructor=b;a.superClass=b.prototype};cp.HexToRGBA=function(a,b){if(void 0==a)return a;var c=a;"#"==c.charAt(0)&&(c=c.substring(1));if(6>c.length)return a;var d=parseInt(c.substring(0,2),16),e=parseInt(c.substring(2,4),16),c=parseInt(c.substring(4,6),16);return"rgba("+d+","+e+","+c+","+b+")"};
cp.RuntimeDialogSeparator=function(a,b,c){this.m_parent=a;this.m_XPos=b;this.m_YPos=c;this.m_color="#000000";this.m_alpha=0.5;this.m_size=10;this.m_strokeWidth=2;this.m_shadowColor="#FFFFFF";this.m_shadowAlpha=0.65;this.m_shadowAngle=270;this.m_shadowBlur=2;this.m_shadowDistance=1};
cp.RuntimeDialogSeparator.prototype={setColor:function(a){this.m_color=a},setAlpha:function(a){this.m_alpha=a},setSize:function(a){this.m_size=a},setShadowColor:function(a){this.m_shadowColor=a},getComponentDiv:function(){var a=document.createElement("div");a.style.height=this.m_strokeWidth+"px";a.style.backgroundColor=this.m_color;a.style.opacity=this.m_alpha;a.style.position="relative";a.style.marginLeft=this.m_XPos+"px";a.style.marginRight=this.m_XPos+"px";a.style.top=this.m_YPos+"px";"webkitBoxShadow"in
a.style?a.style.webkitBoxShadow=this.m_shadowDistance+"px "+this.m_shadowDistance+"px "+this.m_shadowBlur+"px "+this.m_shadowColor:"MozBoxShadow"in a.style?a.style.MozBoxShadow=this.m_shadowDistance+"px "+this.m_shadowDistance+"px "+this.m_shadowBlur+"px "+this.m_shadowColor:a.style.boxShadow=this.m_shadowDistance+"px "+this.m_shadowDistance+"px "+this.m_shadowBlur+"px "+this.m_shadowColor;return a}};
cp.RuntimeDialogText=function(a,b,c){this.m_parent=a;this.m_fontName="Myriad Pro";this.m_XPos=b;this.m_YPos=c;this.m_fontSize=14;this.m_fontColor="#ff0000";this.m_text="Sample Text";this.m_multiline=!1;this.m_maxWidth=400;this.m_maxHeight=80;this.m_shadowColor="#FFFFFF";this.m_shadowAlpha=0.35;this.m_shadowAngle=270;this.m_shadowBlur=2;this.m_shadowDistance=1};
cp.RuntimeDialogText.prototype={setFontName:function(a){this.m_fontName=a},setFontSize:function(a){this.m_fontSize=a},setFontColor:function(a){this.m_fontColor=a},setText:function(a){this.m_text=a},setMultiline:function(a){this.m_multiline=a},setMaxWidth:function(a){this.m_maxWidth=a},setShadowColor:function(a){this.m_shadowColor=a},getTruncatedText:function(a){if(void 0==a)return this.m_text;var b=this.getMaxPossibleWidth(this.m_text);if(b<=a)return this.m_text;for(var c=this.m_text,d=c+"...",b=
this.getMaxPossibleWidth(d);0<d.length&&b>a;)c=c.substring(0,c.length-1),d=c+"...",b=this.getMaxPossibleWidth(d);return d},getMaxPossibleWidth:function(a){var b=document.createElement("div");b.style.color=this.m_fontColor;b.style.fontFamily=this.m_fontName;b.style.fontSize=this.m_fontSize+"px";b.style.width="auto";b.style.height="auto";b.style.position="absolute";b.style.visibilty="hidden";b.innerHTML=a;document.body.appendChild(b);a=b.clientWidth+4;document.body.removeChild(b);return a},getComponentDiv:function(){var a=
document.createElement("div");a.style.color=this.m_fontColor;a.style.fontFamily=this.m_fontName;a.style.fontSize=this.m_fontSize+"px";a.style.textAlign="left";a.style.left=this.m_XPos+"px";a.style.top=this.m_YPos+"px";a.style.position="relative";a.style.opacity=1;var b=cp.HexToRGBA(this.m_shadowColor,this.m_shadowAlpha);a.style.textShadow=this.m_shadowDistance+"px "+this.m_shadowDistance+"px "+this.m_shadowBlur+"px "+b;a.innerHTML=this.m_text;return a}};
cp.RuntimeDialogTextInput=function(a,b,c){this.m_parent=a;this.m_fontName="Myriad Pro";this.m_XPos=b;this.m_YPos=c;this.m_fontSize=14;this.m_fontColor="#ff0000";this.m_maxWidth=400;this.m_maxHeight=80;this.m_label="Text Input :";this.m_textInput=void 0};
cp.RuntimeDialogTextInput.prototype={setFontName:function(a){this.m_fontName=a},setFontSize:function(a){this.m_fontSize=a},setFontColor:function(a){this.m_fontColor=a},setText:function(a){this.m_text=a},setLabel:function(a){this.m_label=a},setMaxWidth:function(a){this.m_maxWidth=a},getValue:function(){return this.m_textInput.value},getComponentDiv:function(){var a=document.createElement("div");a.style.left=this.m_XPos+"px";a.style.top=this.m_YPos+"px";a.style.width=this.m_maxWidth+"px";var b=document.createElement("table");
b.style.width="100%";b.style.height="100%";a.appendChild(b);var c=document.createElement("tr");c.style.width="100%";c.style.height="50%";b.appendChild(c);var d=document.createElement("td");d.style.width="100%";d.style.height="100%";d.style.paddingBottom="0em";c.appendChild(d);c=new cp.RuntimeDialogText(d,this.MESSAGE_DEFAULT_LEFT_OFFSET,0);c.setText(this.m_label);c.setFontColor(this.m_fontColor);c.setFontName(this.m_fontName);c.setFontSize(14);c.setMultiline(!0);c=c.getComponentDiv();c.style.width=
"100%";d.appendChild(c);d=document.createElement("tr");d.style.width="100%";d.style.height="50%";b.appendChild(d);b=document.createElement("td");b.style.width="100%";b.style.height="100%";d.appendChild(b);d=document.createElement("input");d.type="text";d.value=this.m_text;d.style.color="#000000";d.style.fontFamily=this.m_fontName;d.style.fontSize=this.m_fontSize+"px";d.style.width="100%";d.style.opacity=1;this.m_textInput=d;b.appendChild(d);a.style.position="relative";return a}};
cp.RuntimeDialogPanel=function(a,b,c,d,e){this.m_parent=a;this.m_fillColor="#CCCCCC";this.m_alpha=0.5;this.m_strokeColor="#666666";this.m_XPos=b;this.m_YPos=c;this.m_strokeWidth=1;this.m_width=d;this.m_height=e;this.m_roundness=20;this.m_minHeight=this.m_minWidth=100;this.m_maxWidth=493;this.m_maxHeight=219;this.m_showShadow=!1;this.m_shadowColor="#000000";this.m_shadowAlpha=0.65;this.m_shadowAngle=270;this.m_shadowDistance=this.m_shadowBlur=2};
cp.RuntimeDialogPanel.prototype={setFillColor:function(a){this.m_fillColor=a},setAlpha:function(a){this.m_alpha=a},setStrokeColor:function(a){this.m_strokeColor=a},setStrokeWidth:function(a){this.m_strokeWidth=a},setWidth:function(a){this.m_width=a},getWidth:function(){var a=this.m_width;a<this.m_minWidth&&(a=this.m_minWidth);a>this.m_maxWidth&&(a=this.m_maxWidth);return a},setHeight:function(a){this.m_height=a},setMinWidth:function(a){a<this.m_maxWidth&&(this.m_minWidth=a)},setMinHeight:function(a){a<
this.m_maxHeight&&(this.m_minHeight=a)},setMaxWidth:function(a){a>this.m_minWidth&&(this.m_maxWidth=a)},setMaxHeight:function(a){a>this.m_minHeight&&(this.m_maxHeight=a)},setRoundness:function(a){this.m_roundness=a},showShadow:function(a){this.m_showShadow=a},setShadowColor:function(a){this.m_shadowColor=a},getComponentDiv:function(){var a=this.m_width,b=this.m_height;a<this.m_minWidth&&(a=this.m_minWidth);a>this.m_maxWidth&&(a=this.m_maxWidth);b<this.m_minHeight&&(b=this.m_minHeight);b>this.m_maxHeight&&
(b=this.m_maxHeight);var c=document.createElement("div");c.style.width=a+"px";c.style.height=b+"px";c.style.background=cp.HexToRGBA(this.m_fillColor,this.m_alpha);c.style.border=this.m_strokeWidth+"px solid "+this.m_strokeColor;c.style.borderRadius=this.m_roundness+"px";c.style.left=this.m_XPos+"px";c.style.top=this.m_YPos+"px";this.m_showShadow&&("webkitBoxShadow"in c.style?c.style.webkitBoxShadow=this.m_shadowDistance+"px "+this.m_shadowDistance+"px "+this.m_shadowBlur+"px "+this.m_shadowColor:
"MozBoxShadow"in c.style?c.style.MozBoxShadow=this.m_shadowDistance+"px "+this.m_shadowDistance+"px "+this.m_shadowBlur+"px "+this.m_shadowColor:c.style.boxShadow=this.m_shadowDistance+"px "+this.m_shadowDistance+"px "+this.m_shadowBlur+"px "+this.m_shadowColor);return c}};
cp.RuntimeDialogButton=function(a,b,c,d,e){cp.RuntimeDialogButton.baseConstructor.call(this,a,b,c,d,e);this.m_label=void 0;this.m_labelText="OK";this.m_labelFontName="Myriad Pro";this.m_labelFontSize=16;this.m_labelFontColor="#000000";this.m_labelShadowColor="#FFFFFF";this.BUTTON_LABEL_TOP_PADDING=this.BUTTON_LABEL_LEFT_PADDING=5;this.m_fillColor="#CDCDCD";this.m_alpha=0.3;this.m_strokeColor="#000000";this.m_strokeWidth=1;this.m_maxWidth=230;this.m_minWidth=40;this.m_minHeight=m_maxHeight=25;this.m_roundness=
10};cp.rtInherits(cp.RuntimeDialogButton,cp.RuntimeDialogPanel);cp.RuntimeDialogButton.prototype.setButtonLabel=function(a){this.m_labelText=a};cp.RuntimeDialogButton.prototype.setButtonLabelFontName=function(a){this.m_labelFontName=a};cp.RuntimeDialogButton.prototype.setButtonLabelFontSize=function(a){this.m_labelFontSize=a};cp.RuntimeDialogButton.prototype.setButtonLabelFontColor=function(a){this.m_labelFontColor=a};
cp.RuntimeDialogButton.prototype.setButtonLabelShadowColor=function(a){this.m_labelShadowColor=a};cp.RuntimeDialogButton.prototype.setHandler=function(a){this.m_handler=a};
cp.RuntimeDialogButton.prototype.getComponentDiv=function(){var a=cp.RuntimeDialogButton.superClass.getComponentDiv.call(this);a.style.position="absolute";a.style.cursor="pointer";var b=this.m_fillColor,c=this.m_alpha;a.onmouseover=function(){a.style.background=cp.HexToRGBA(b,0.1)};a.onmouseout=function(){a.style.background=cp.HexToRGBA(b,c)};a.onclick=this.m_handler;a.onkeypress=this.m_handler;var d=new cp.RuntimeDialogText(a,0,5);d.setText(this.m_labelText);d.setFontName(this.m_labelFontName);d.setFontColor(this.m_labelFontColor);
d.setFontSize(this.m_labelFontSize);d.setShadowColor(this.m_labelShadowColor);d.setMaxWidth(this.m_maxWidth-2*this.BUTTON_LABEL_LEFT_PADDING);var e=d.getComponentDiv();e.style.textAlign="center";e.style.top="0px";var f=d.getMaxPossibleWidth(this.m_labelText);f>this.m_width&&(f>this.m_maxWidth&&(f=this.m_maxWidth,e.innerHTML=d.getTruncatedText(this.m_maxWidth)),a.style.width=f+"px");a.appendChild(e);return a};
cp.RuntimeMessageBox=function(a,b,c,d,e,f,g,h,i,j){this.m_parent=a;this.m_MessageBoxElement=void 0;this.m_id="CPRuntimeMsgBox_ID";this.m_titleText="Adobe Captivate";this.m_messageText="This is Adobe Captivate Run Time Message Dialog";this.m_firstButtonText="OK";this.m_secondButtonText="CANCEL";this.m_ChkBoxText="Don't ask me again";this.m_numberOfButtons=b;this.m_secondButtonHandler=this.m_firstButtonHandler=void 0;this.m_DontAskMe=!1;this.m_foregroundFillColor=c;this.m_foregroundStrokeColor=d;this.m_buttonFillColor=
e;this.m_buttonStrokeColor=f;this.m_separatorColor=g;this.m_textColor=h;this.m_textShadowColor=i;this.m_textFontName=j;this.TITLE_DEFAULT_TOP_OFFSET=this.MESSAGE_DEFAULT_LEFT_OFFSET=this.SEPARATOR_DEFAULT_LEFT_OFFSET=this.TITLE_DEFAULT_LEFT_OFFSET=10;this.SEPARATOR_DEFAULT_TOP_OFFSET=20;this.MESSAGE_DEFAULT_TOP_OFFSET=30;this.BUTTON_BOTTOM_OFFSET=10;this.BG_DEFAULT_WIDTH=493;this.BG_DEFAULT_HEIGHT=219;this.FG_DEFAULT_WIDTH=478;this.FG_DEFAULT_HEIGHT=198;this.BUTTON_DEFAULT_WIDTH=100;this.BUTTON_DEFAULT_HEIGHT=
33;this.INTER_BUTTON_OFFSET=15};
cp.RuntimeMessageBox.prototype={getDontAskMeInput:function(){if(this.m_DontAskMe){var a=document.getElementById("dont_ask_me_chk");if(a)return a.checked}return!1},setDontAskMe:function(a){this.m_DontAskMe=a},setDontAskMeText:function(a){this.m_ChkBoxText=a},setTitleText:function(a){this.m_titleText=a},setCheckBoxText:function(a){this.m_ChkBoxText=a},setMessageText:function(a){this.m_messageText=a},setFirstButtonText:function(a){this.m_firstButtonText=a},setSecondButtonText:function(a){this.m_secondButtonText=a},
registerFirstButtonHandler:function(a){void 0!=a&&(this.m_firstButtonHandler=a)},registerSecondButtonHandler:function(a){void 0!=a&&(this.m_secondButtonHandler=a)},isVisible:function(){var a=!1;void 0!=this.m_MessageBoxElement&&"visible"==this.m_MessageBoxElement.style.visibility&&(a=!0);return a},hide:function(){var a=this.m_parent?this.m_parent:document.getElementById("cpDocument"),b=document.getElementById("CPRuntimeMsgBox_ID");void 0!=b&&a.removeChild(b)},show:function(){this.hide();this.m_MessageBoxElement=
document.createElement("div");this.m_MessageBoxElement.id=this.m_id;var a=new cp.RuntimeDialogPanel(this.m_parent,0,0,this.BG_DEFAULT_WIDTH,this.BG_DEFAULT_HEIGHT);a.showShadow(!0);var b=a.getComponentDiv();b.id="bgPanelDiv";b.style.margin="100px auto";this.m_MessageBoxElement.appendChild(b);a=new cp.RuntimeDialogPanel(b,(this.BG_DEFAULT_WIDTH-this.FG_DEFAULT_WIDTH)/2,(this.BG_DEFAULT_HEIGHT-this.FG_DEFAULT_HEIGHT)/2,this.FG_DEFAULT_WIDTH,this.FG_DEFAULT_HEIGHT);a.setFillColor(this.m_foregroundFillColor);
a.setAlpha(1);a.setStrokeColor(this.m_foregroundStrokeColor);a=a.getComponentDiv();b.id="fgPanelDiv";a.style.position="relative";b.appendChild(a);b=new cp.RuntimeDialogText(a,this.TITLE_DEFAULT_LEFT_OFFSET,this.TITLE_DEFAULT_TOP_OFFSET);b.setText(this.m_titleText);b.setFontSize(18);b.setFontColor(this.m_textColor);b.setFontName(this.m_textFontName);b.setShadowColor(this.m_textShadowColor);b=b.getComponentDiv();a.appendChild(b);b=new cp.RuntimeDialogSeparator(a,this.SEPARATOR_DEFAULT_LEFT_OFFSET,this.SEPARATOR_DEFAULT_TOP_OFFSET);
b.setColor(this.m_separatorColor);b=b.getComponentDiv();a.appendChild(b);b=new cp.RuntimeDialogText(a,this.MESSAGE_DEFAULT_LEFT_OFFSET,this.MESSAGE_DEFAULT_TOP_OFFSET);b.setText(this.m_messageText);b.setFontColor(this.m_textColor);b.setFontName(this.m_textFontName);b.setShadowColor(this.m_textShadowColor);b.setFontSize(14);b.setMultiline(!0);b=b.getComponentDiv();a.appendChild(b);this.m_DontAskMe&&(b=new cp.RuntimeDialogText(a,this.MESSAGE_DEFAULT_LEFT_OFFSET,this.MESSAGE_DEFAULT_TOP_OFFSET),b.setText(this.m_ChkBoxText),
b.setFontColor(this.m_textColor),b.setFontName(this.m_textFontName),b.setShadowColor(this.m_textShadowColor),b.setFontSize(14),b.setMultiline(!1),b=b.getComponentDiv(),a.innerHTML+='<input type="checkbox" id="dont_ask_me_chk" style="-webkit-appearance: checkbox;left:10px; bottom: 70px;width:20px; height:20px;position:absolute">',a.appendChild(b),b.style.position="absolute",b.style.top="",b.style.bottom="75px",b.style.left="40px");b=new cp.RuntimeDialogButton(a,0,0,this.BUTTON_DEFAULT_WIDTH,this.BUTTON_DEFAULT_HEIGHT);
b.setFillColor(this.m_buttonFillColor);b.setStrokeColor(this.m_buttonStrokeColor);b.setButtonLabel(this.m_firstButtonText);b.setButtonLabelFontSize(16);b.setButtonLabelFontColor(this.m_textColor);b.setButtonLabelFontName(this.m_textFontName);b.setButtonLabelShadowColor(this.m_textShadowColor);b.setHandler(this.m_firstButtonHandler);b=b.getComponentDiv();b.style.top="auto";b.tabIndex=0;b.style.bottom=this.BUTTON_BOTTOM_OFFSET+"px";a.appendChild(b);var c=void 0;2==this.m_numberOfButtons&&(lSecondButton=
new cp.RuntimeDialogButton(a,0,0,this.BUTTON_DEFAULT_WIDTH,this.BUTTON_DEFAULT_HEIGHT),lSecondButton.setFillColor(this.m_buttonFillColor),lSecondButton.setStrokeColor(this.m_buttonStrokeColor),lSecondButton.setButtonLabel(this.m_secondButtonText),lSecondButton.setButtonLabelFontSize(16),lSecondButton.setButtonLabelFontColor(this.m_textColor),lSecondButton.setButtonLabelFontName(this.m_textFontName),lSecondButton.setButtonLabelShadowColor(this.m_textShadowColor),lSecondButton.setHandler(this.m_secondButtonHandler),
c=lSecondButton.getComponentDiv(),c.tabIndex=0,c.style.top="auto",c.style.bottom=this.BUTTON_BOTTOM_OFFSET+"px",a.appendChild(c));this.m_parent.appendChild(this.m_MessageBoxElement);this.m_MessageBoxElement.style.visibility="visible";this.m_MessageBoxElement.style.position="absolute";this.m_MessageBoxElement.style.left="0px";this.m_MessageBoxElement.style.top="0px";this.m_MessageBoxElement.style.width="100%";this.m_MessageBoxElement.style.height="100%";this.m_MessageBoxElement.style.textAlign="center";
this.m_MessageBoxElement.style.zIndex="1000";this.m_MessageBoxElement.style.background="rgba(240,240,240,0.2)";this.m_MessageBoxElement.style.zIndex=10020;a=a.clientWidth-b.clientWidth;c&&(a=a-this.INTER_BUTTON_OFFSET-c.clientWidth);a/=2;b.style.left=a+"px";c&&(c.style.left=a+b.clientWidth+this.INTER_BUTTON_OFFSET+"px");setTimeout(function(){var a=document.getElementById("dont_ask_me_chk");a&&a.focus()},500)},close:function(){var a=document.getElementById("cpDocument"),b=document.getElementById("CPRuntimeMsgBox_ID");
a.removeChild(b)}};cp.RuntimeMessageBoxDefault=function(a,b){var c=cp.D.rtDialog;cp.RuntimeMessageBoxDefault.baseConstructor.call(this,a,b,c.rtbgfc,c.rtbgsc,c.rtbtnfc,c.rtbtnsc,c.rtsc,c.rttc,c.rttsc,c.rtfn)};cp.rtInherits(cp.RuntimeMessageBoxDefault,cp.RuntimeMessageBox);cp.PostResultsMessageBox=function(a){this.m_StudentNameTextInputLabel="";this.m_StringsMap=a;a=document.getElementById("div_Slide");cp.PostResultsMessageBox.baseConstructor.call(this,a,2)};cp.rtInherits(cp.PostResultsMessageBox,cp.RuntimeMessageBoxDefault);
cp.PostResultsMessageBox.prototype.getLearnerName=function(){return this.m_studentNameTextInput.getValue()};cp.PostResultsMessageBox.prototype.getLearnerID=function(){return this.m_studentIDTextInput.getValue()};cp.PostResultsMessageBox.prototype.hide=function(){var a=document.getElementById("CPRuntimeMsgBox_ID");void 0!=a&&this.m_parent.removeChild(a)};
cp.PostResultsMessageBox.prototype.show=function(){this.setTitleText(this.m_StringsMap.ISRPostResultStr);this.setMessageText(this.m_StringsMap.ISRResultCalculatedStr);this.m_numberOfButtons=2;this.setFirstButtonText("Cancel");this.setSecondButtonText(this.m_StringsMap.ISRSendStr);this.hide();this.m_MessageBoxElement=document.createElement("div");this.m_MessageBoxElement.id=this.m_id;var a=new cp.RuntimeDialogPanel(this.m_parent,0,0,350,230);a.showShadow(!0);var b=a.getComponentDiv();b.id="bgPanelDiv";
b.style.margin="100px auto";this.m_MessageBoxElement.appendChild(b);a=new cp.RuntimeDialogPanel(b,0,0,350,230);a.setFillColor(this.m_foregroundFillColor);a.setAlpha(1);a.setStrokeColor(this.m_foregroundStrokeColor);a=a.getComponentDiv();a.id="fgPanelDiv";a.style.position="relative";b.appendChild(a);b=new cp.RuntimeDialogText(a,0,0);b.setText(this.m_titleText);b.setFontSize(18);b.setFontColor("#ffffff");b.setFontName(this.m_textFontName);b.setShadowColor(this.m_textShadowColor);b=b.getComponentDiv();
b.style.backgroundColor="#000000";b.style["border-top-left-radius"]="20px";b.style["border-top-right-radius"]="20px";b.style["text-align"]="center";a.appendChild(b);b=new cp.RuntimeDialogText(a,this.MESSAGE_DEFAULT_LEFT_OFFSET,10);b.setText(this.m_messageText);b.setFontColor(this.m_textColor);b.setFontName(this.m_textFontName);b.setShadowColor(this.m_textShadowColor);b.setFontSize(14);b.setMultiline(!0);b=b.getComponentDiv();b.style.left="20px";b.style.width="300px";b.style.wordWrap="break-word";
a.appendChild(b);b=new cp.RuntimeDialogTextInput(a,10,10);b.setLabel(this.m_StringsMap.ISREnterNameStr);b.setText("");b.setFontColor(this.m_textColor);b.setFontName(this.m_textFontName);b.setFontSize(14);this.m_studentNameTextInput=b;b=b.getComponentDiv();b.id="studentNameTextInput";b.style.left="20px";b.style.width="300px";a.appendChild(b);b=new cp.RuntimeDialogTextInput(a,10,0);b.setLabel(this.m_StringsMap.ISREmailIDStr);b.setText("");b.setFontColor(this.m_textColor);b.setFontName(this.m_textFontName);
b.setFontSize(14);this.m_studentIDTextInput=b;b=b.getComponentDiv();b.id="studentNameTextInput";b.style.left="20px";b.style.width="300px";a.appendChild(b);b=new cp.RuntimeDialogButton(a,0,0,this.BUTTON_DEFAULT_WIDTH,20);b.setFillColor(this.m_buttonFillColor);b.setStrokeColor(this.m_buttonStrokeColor);b.setButtonLabel(this.m_firstButtonText);b.setButtonLabelFontSize(16);b.setButtonLabelFontColor(this.m_textColor);b.setButtonLabelFontName(this.m_textFontName);b.setButtonLabelShadowColor(this.m_textShadowColor);
b.setHandler(this.m_firstButtonHandler);b=b.getComponentDiv();b.style.top="auto";b.style.bottom=this.BUTTON_BOTTOM_OFFSET+"px";b.style.width=parseFloat(b.style.width)+20+"px";a.appendChild(b);var c=void 0;2==this.m_numberOfButtons&&(lSecondButton=new cp.RuntimeDialogButton(a,0,0,this.BUTTON_DEFAULT_WIDTH,20),lSecondButton.setFillColor(this.m_buttonFillColor),lSecondButton.setStrokeColor(this.m_buttonStrokeColor),lSecondButton.setButtonLabel(this.m_secondButtonText),lSecondButton.setButtonLabelFontSize(16),
lSecondButton.setButtonLabelFontColor(this.m_textColor),lSecondButton.setButtonLabelFontName(this.m_textFontName),lSecondButton.setButtonLabelShadowColor(this.m_textShadowColor),lSecondButton.setHandler(this.m_secondButtonHandler),c=lSecondButton.getComponentDiv(),c.style.top="auto",c.style.bottom=this.BUTTON_BOTTOM_OFFSET+"px",c.style.width=parseFloat(c.style.width)+20+"px",a.appendChild(c));this.m_parent.appendChild(this.m_MessageBoxElement);this.m_MessageBoxElement.style.visibility="visible";this.m_MessageBoxElement.style.position=
"absolute";this.m_MessageBoxElement.style.left="0px";this.m_MessageBoxElement.style.top="0px";this.m_MessageBoxElement.style.width="100%";this.m_MessageBoxElement.style.height="100%";this.m_MessageBoxElement.style.textAlign="center";this.m_MessageBoxElement.style.zIndex="1000";this.m_MessageBoxElement.style.background="rgba(240,240,240,0.5)";a=a.clientWidth-b.clientWidth;c&&(a=a-this.INTER_BUTTON_OFFSET-c.clientWidth);a/=2;b.style.left=a+"px";c&&(c.style.left=a+b.clientWidth+this.INTER_BUTTON_OFFSET+
"px")};
if("undefined"===typeof console||"undefined"===typeof console.log)console={log:function(){}};window.Node||(window.Node={},Node.ELEMENT_NODE=1,Node.ATTRIBUTE_NODE=2,Node.TEXT_NODE=3,Node.CDATA_SECTION_NODE=4,Node.ENTITY_REFERENCE_NODE=5,Node.ENTITY_NODE=6,Node.PROCESSING_INSTRUCTION_NODE=7,Node.COMMENT_NODE=8,Node.DOCUMENT_NODE=9,Node.DOCUMENT_TYPE_NODE=10,Node.DOCUMENT_FRAGMENT_NODE=11,Node.NOTATION_NODE=12);
Array.indexOf||(Array.prototype.indexOf=function(K){for(var C=0;C<this.length;++C)if(this[C]==K)return C;return-1});
(function(){function K(a,b,c){var d=cp.D.project.w,e=cp.D.project.h,f=false,g=b.firstChild;if(!g){g=cp.newElem("div");g.setAttribute("class","cp-frameset");f=true}var k=g.id;g.id="Slide"+a.id;g.style.zIndex="0";g.style.left="0px";g.style.width=d+"px";g.style.height=e+"px";f&&b.appendChild(g);var l,b=false;if(f)b=false;else if(g.firstChild&&g.firstChild.id=="__bgDiv__"){l=g.firstChild;b=true}var m=false,o=false;if(a.gf){o=true;if(!b){l=cp.newElem("div");l.id="__bgDiv__";m=true}if(cp.browser_supports_svg){var n=
cp.getGradientSvgStr(a.gf,d,e);if(n.length>0){l.setAttribute("class","");l.style.position="absolute";l.style.width=d+"px";l.style.height=e+"px";l.innerHTML=n}}else{l.setAttribute("class","cp-gf");l.style.position="absolute";l.style.width=d+"px";l.style.height=e+"px";l.firstChild&&l.firstChild.nodeName=="CANVAS"?l.firstChild.id="Slide"+a.id+"gf":l.innerHTML='<canvas id="Slide'+a.id+'gf"></canvas>'}}else if(a.imgf){o=true;if(!b){l=cp.newElem("div");l.id="__bgDiv__";m=true}l.setAttribute("class","cp-imgf");
l.style.position="absolute";l.style.width=d+"px";l.style.height=e+"px";l.firstChild&&l.firstChild.nodeName=="CANVAS"?l.firstChild.id="Slide"+a.id+"imgf":l.innerHTML='<canvas id="Slide'+a.id+'imgf"></canvas>'}o?m&&(g.firstChild?g.insertBefore(l,g.firstChild):g.appendChild(l)):b&&g.removeChild(l);var p;f||(p=document.getElementById(k+"c"));if(!p){p=cp.newElem("canvas");p.setAttribute("class","cp-shape");g.appendChild(p)}p.id="Slide"+a.id+"c";l=cp.D[p.id];b=l.b;f=b[2]-b[0];k=b[3]-b[1];p.style.width=
f+"px";p.style.height=k+"px";p.style.left=b[0]+"px";p.style.top=b[1]+"px";if(c&&f>0&&k>0)if(c=l.aip?l.aip:l.ip)(c=cp.movie.im.images[c])&&c.nativeImage.complete&&p.getContext("2d").drawImage(c.nativeImage,0,0);if(g.style.backgroundColor!=a.bc&&(f!=d||k!=e))g.style.backgroundColor=a.bc}function C(a,b){var c=[],d=cp.D[cp.movie.stage.slides[a]],e=cp.D[d.mdi],f=e.ip;if(!f&&(cp.device==cp.IDEVICE||cp.device==cp.ANDROID))f=e.aip;f&&c.push(f);d.imgf&&(d.imgf.img&&d.imgf.img.ip&&d.imgf.img.ip.length>0)&&
c.push(d.imgf.img.ip);d=d.si;for(e=0;e<d.length;++e)if(f=cp.D[cp.D[d[e].n].mdi]){var g=f.ip;g&&c.push(g);(g=f.hImg)&&c.push(g);(g=f.pImg)&&c.push(g);(g=f.imgf)&&(g.img&&g.img.ip&&g.img.ip.length>0)&&c.push(g.img.ip);if(f=f[cp.kPPTXSlideImagesStr])for(g=0;g<f.length;++g)f[g].ip.length>0&&c.push(cp.kPPTXSlideImagesDir+f[g].ip)}cp.movie.im.loadImages(a,c,b)}function va(a){a.element&&cp.updateVarText(a.element,true);if(a.pa)cp.movie.stage.noSkipFrames[a.pa]=a.pa;if(a.psv)cp.movie.stage.noSkipFrames[a.psv]=
a.psv}function wa(a){if(a.cpName=="CPVariableValueChangedEvent"){var b=v[cp.VARIABLE_CHANGED_EVENT];z(a,b);for(b=0;b<a.cpData.notify.length;++b)for(var c=a.cpData.notify[b],d=v[cp.SPECIFIC_VARIABLE_CHANGED_EVENT],e=0;e<d.length;++e)if(d[e].n==c){var f=d[e].l;if(d[e].r)a.reciever=d[e].r;var g=a;try{f.id?cp.updateVarText(f):f(g)}catch(k){}}}else if(a.cpName=="CPVariableCreatedEvent"){b=v[cp.VARIABLE_CREATED_EVENT];z(a,b)}else if(a.cpName=="CPSlideEnter"){b=v[cp.SLIDEENTEREVENT];z(a,b)}else if(a.cpName==
"CPSlideExit"){b=v[cp.SLIDEEXITEVENT];z(a,b)}else if(a.cpName=="CPInteractiveItemSubmit"){b=v[cp.INTERACTIVEITEMSUBMITEVENT];z(a,b)}else if(a.cpName=="CPMoviePause"){b=v[cp.MOVIEPAUSEEVENT];z(a,b)}else if(a.cpName=="CPMovieResume"){b=v[cp.MOVIERESUMEEVENT];z(a,b)}else if(a.cpName=="CPMovieStart"){b=v[cp.MOVIESTARTEVENT];z(a,b)}else if(a.cpName=="CPMovieStop"){b=v[cp.MOVIESTOPEVENT];z(a,b)}else if(a.cpName=="CPQuestionSkip"){b=v[cp.QUESTIONSKIPEVENT];z(a,b)}else if(a.cpName=="CPQuestionSubmit"){b=
v[cp.QUESTIONSUBMITEVENT];z(a,b)}else if(a.cpName=="CPStartPlaybarScrub"){b=v[cp.STARTPLAYBARSCRUBBINGEVENT];z(a,b)}else if(a.cpName=="CPEndPlaybarScrub"){b=v[cp.ENDPLAYBARSCRUBBINGEVENT];z(a,b)}else if(a.cpName=="CPMovieFocusIn"){b=v[cp.MOVIEFOCUSINEVENT];z(a,b)}else if(a.cpName=="CPMovieFocusLost"){b=v[cp.MOVIEFOCUSLOSTEVENT];z(a,b)}else if(a.cpName=="CPMovieAudioMute"){b=v[cp.MOVIEAUDIOMUTEEVENT];z(a,b)}}function z(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(d.r)a.reciever=d.r;var d=d.l,e=a;
try{d.id?cp.updateVarText(d):d(e)}catch(f){}}}function E(){return vh._CaptivateVersion?vh._CaptivateVersion:""}function xa(){return vh._cpCmndVolume}function ya(a){var b=a/100;b<0&&(b=0);b>1&&(b=1);cp.movie.am.setVolume(b);cp.movie.vdm.setVolume(b);svvi("cpCmndVolume",a,["cpCmndVolume"])}function S(a){cp.movie.am.mute(a);cp.movie.vdm.mute(a);cp.em.fireEvent("CPMovieAudioMute",cp.movie.am.muted);svvi("cpCmndMute",a,["cpCmndMute","rdcmndMute"])}function T(){return vh._cpCmndMute}function U(){return vh._cpCmndPlaybarMoved}
function V(a){svvi("cpCmndPlaybarMoved",a,["cpCmndPlaybarMoved","rdcmndPlaybarMoved"])}function za(){return vh._cpCmndShowPlaybar}function Aa(a){var b=void 0;cp.movie&&cp.movie.playbackController&&(b=cp.movie.playbackController.GetQuizController());if(b)b.m_showPlaybar=a;b=document.getElementById("playbar");if(b!=void 0){var c=document.getElementById("playbarBkGrnd");if(c)if(a){b.style.display="block";c.style.visibility="visible"}else{b.style.display="none";c.style.visibility="hidden"}}svvi("cpCmndShowPlaybar",
a,["cpCmndShowPlaybar"])}function W(){return vh._cpCmndCC}function Ba(a){cp.movie.cc.style.visibility=a?"":"hidden";svvi("cpCmndCC",a,["cpCmndCC","rdcmndCC"])}function Z(){return vh._cpCmndRewindAndPlay}function $(a){a&&cp.movie.rewind();svvi("cpCmndRewindAndPlay",a,["cpCmndRewindAndPlay","rdcmndRewindAndPlay"])}function aa(){return vh._cpCmndRewindAndStop}function ba(a){if(a){cp.movie.jumpToFrame(1);cp.movie.pause(cp.ReasonForPause.MOVIE_REWIND_STOP)}svvi("cpCmndRewindAndStop",a,["cpCmndRewindAndStop",
"rdcmndRewindAndStop"])}function L(){return vh._cpCmndPreviousSlide}function M(a){a&&cp.jumpToPreviousSlide();svvi("cpCmndPreviousSlide",a,["cpCmndPreviousSlide","cpCmndPrevious","rdcmndPreviousSlide","rdcmndPrevious"])}function Ca(a){if(a&&cp.movie){var b=-1,c=false;if(cp.movie.playbackController){var d=cp.movie.playbackController.GetQuizController();(c=d&&d.GetIsInReviewMode())&&(b=d.GetPreviousQuestionSlideNumber())}c&&b>=0?cpCmndGotoSlideAndResume=b:cpCmndPreviousSlide=a}}function ca(){return!cp.movie.paused}
function da(a){a&&cp.movie.play();svvi("cpCmndResume",a,["cpCmndResume","rdcmndResume"])}function Da(a){if(a&&cp.movie){var b=-1,c=false;if(cp.movie.playbackController){var d=cp.movie.playbackController.GetQuizController();(c=d&&d.GetIsInReviewMode())&&(b=d.GetNextQuestionSlideNumber())}c&&b>=0?cpCmndGotoSlideAndResume=b:cpCmndNextSlide=a}}function ea(a){var b=!cp.movie.paused;cp.movie.pause(cp.ReasonForPause.CPCMNDGOTOFRAME);cp.movie.jumpToFrame(a)?svvi("",a,["cpCmndGotoFrame","rdcmndGotoFrame"]):
b&&cp.movie.play()}function fa(a){cp.movie.jumpToFrame(a);cp.movie.play();svvi("",a,["cpCmndGotoFrameAndResume","rdcmndGotoFrameAndResume"])}function ga(a){if(a<0||a>=cp.movie.stage.slides.length)cpCmndResume=true;else{var b=cp.D[cp.movie.stage.slides[a]];b&&cp.movie.jumpToFrame(b.from);svvi("",a,["cpCmndGotoSlide","rdcmndGotoSlide"])}}function Ea(a){var b=cp.movie.speed;switch(cp.movie.speed){case 1:case 2:cp.movie.speed=cp.movie.speed*2;break;default:cp.movie.speed=1}if(b!=cp.movie.speed){cp.movie.resetFPS();
if(1==cp.movie.speed){cp.movie.am.seekTo(cpInfoCurrentFrame);cp.movie.vdm.seekTo(cpInfoCurrentFrame,false)}else cp.movie.am.pause(cp.ReasonForPause.PLAYBAR_ACTION);if(H!=0){if(0!=H){clearInterval(H);H=0}ha()}svvi("",cpInfoFPS,["cpInfoFPS","rdinfoFPS"]);svvi("cpCmndFastForward",a,["cpCmndFastForward"])}}function Fa(a){svvi("cpLockTOC",a,["cpLockTOC"])}function Ga(){return vh._cpLockTOC}function Ha(a){var b=document.getElementById("toc");if(b!=void 0&&b.animator){a?b.animator.showTOC():b.animator.hideTOC();
svvi("cpCmndTOCVisible",a,["cpCmndTOCVisible"])}}function Ia(){var a=document.getElementById("toc");return a!=void 0&&a.animator?a.animator.isVisible():false}function Ja(a){if(a<0||a>=cp.movie.stage.slides.length)cpCmndResume=true;else{var b=cp.D[cp.movie.stage.slides[a]];if(b){cp.movie.jumpToFrame(b.from);cp.movie.play()}svvi("",a,["cpCmndGotoSlideAndResume"])}}function Ka(a){var b=cp.D["Slide"+a];if(b){cp.movie.jumpToFrame(b.from);cp.movie.play();svvi("",a,["cpCmndGotoSlideByUIDAndResume"])}}function ia(){return vh._cpCmndExit}
function ja(a){svvi("cpCmndExit",a,["cpCmndExit","rdcmndExit"]);window.top.close()}function N(a){a&&cp.jumpToNextSlide();svvi("cpCmndNextSlide",a,["cpCmndNextSlide","cpCmndNext","rdcmndNextSlide","rdcmndNext"])}function ka(a){a&&cp.movie.pause(cp.ReasonForPause.CPCMNDPAUSE);svvi("cpCmndPause",a,["cpCmndPause","rdcmndPause"])}function la(){return cp.movie.paused}function ma(a){svvi("cpCmndInfo",a,["cpCmndInfo","rdcmndInfo"])}function na(){return vh._cpCmndInfo}function La(){return vh._cpInfoAuthor}
function Ma(){return vh._cpInfoDescription}function Na(){return vh._cpQuizInfoLastSlidePointScored}function Oa(a){svvi("cpQuizInfoLastSlidePointScored",a,["cpQuizInfoLastSlidePointScored"])}function Pa(){return vh._cpQuizInfoPointsPerQuestionSlide}function Qa(a){svvi("cpQuizInfoPointsPerQuestionSlide",a,["cpQuizInfoPointsPerQuestionSlide"])}function Ra(){return vh._cpQuizInfoNegativePointsOnCurrentQuestionSlide}function Sa(a){svvi("cpQuizInfoNegativePointsOnCurrentQuestionSlide",a,["cpQuizInfoNegativePointsOnCurrentQuestionSlide"])}
function Ta(){return vh._cpQuizInfoQuestionPartialScoreOn}function Ua(a){svvi("cpQuizInfoQuestionPartialScoreOn",a,["cpQuizInfoQuestionPartialScoreOn"])}function Va(){return vh._cpInfoCurrentSlideLabel}function Wa(){return vh._cpQuizInfoQuizPassPercent}function Xa(a){svvi("cpQuizInfoQuizPassPercent",a,["cpQuizInfoQuizPassPercent"])}function Ya(){return vh._cpQuizInfoTotalProjectPoints}function Za(a){svvi("cpQuizInfoTotalProjectPoints",a,["cpQuizInfoTotalProjectPoints"])}function $a(){return vh._cpInfoPrevSlide}
function ab(){if(!cp.movie)return 0;if(cp.movie.playbackController){var a=cp.movie.playbackController.GetQuizController();if(a)return a.GetTotalCorrectQuestions()}return 0}function bb(a){svvi("cpQuizInfoTotalCorrectAnswers",a,["cpQuizInfoTotalCorrectAnswers"])}function cb(){if(!cp.movie)return 0;if(cp.movie.playbackController){var a=cp.movie.playbackController.GetQuizController();if(a)return a.GetTotalPretestCorrectQuestions()}return 0}function db(a){svvi("cpQuizInfoPreTestTotalQuestions",a,["cpQuizInfoPreTestTotalQuestions"])}
function eb(){return vh._cpQuizInfoPreTestTotalQuestions}function fb(a){svvi("cpQuizInfoPreTestTotalCorrectAnswers",a,["cpQuizInfoPreTestTotalCorrectAnswers"])}function gb(){if(!cp.movie)return 0;if(cp.movie.playbackController){var a=cp.movie.playbackController.GetQuizController();if(a){var b=a.GetScore(),a=a.GetMaxScore();if(a!=0)return Math.round(b*100/a)}}return 0}function hb(a){svvi("cpInfoPercentage",a,["cpInfoPercentage"])}function ib(){return vh._cpQuizInfoTotalQuestionsPerProject}function jb(a){svvi("cpQuizInfoTotalQuestionsPerProject",
a,["cpQuizInfoTotalQuestionsPerProject"])}function kb(){return vh._cpQuizInfoQuizPassPoints}function lb(a){svvi("cpQuizInfoQuizPassPoints",a,["cpQuizInfoQuizPassPoints"])}function mb(){return vh._cpQuizInfoQuestionSlideType}function nb(a){svvi("cpQuizInfoQuestionSlideType",a,["cpQuizInfoQuestionSlideType"])}function ob(){return!cp.movie||!cp.movie.playbackController?0:cp.movie.playbackController.GetTotalUnansweredQuestions()}function pb(a){svvi("cpQuizInfoTotalUnansweredQuestions",a,["cpQuizInfoTotalUnansweredQuestions"])}
function qb(){return vh._cpInfoLastVisitedSlide}function rb(){return vh._cpQuizInfoMaxAttemptsOnCurrentQuestion}function sb(a){svvi("cpQuizInfoMaxAttemptsOnCurrentQuestion",a,["cpQuizInfoMaxAttemptsOnCurrentQuestion"])}function tb(){return vh._cpQuizInfoQuestionSlideTiming}function ub(a){svvi("cpQuizInfoQuestionSlideTiming",a,["cpQuizInfoQuestionSlideTiming"])}function vb(){return vh._cpInfoCompany}function wb(){return vh._cpQuizInfoAnswerChoice}function xb(a){svvi("cpQuizInfoAnswerChoice",a,["cpQuizInfoAnswerChoice"])}
function yb(){return vh._cpQuizInfoNoQuestionsPerQuiz}function zb(a){svvi("cpQuizInfoNoQuestionsPerQuiz",a,["cpQuizInfoNoQuestionsPerQuiz"])}function Ab(){if(!cp.movie)return 0;if(cp.movie.playbackController){var a=cp.movie.playbackController.GetQuizController();if(a)return a.GetScore()}return 0}function Bb(a){svvi("cpQuizInfoPointsscored",a,["cpQuizInfoPointsscored"])}function Cb(){return vh._cpInfoCopyright}function Db(){return vh._cpInfoWebsite}function Eb(){return vh._cpInfoProjectName}function Fb(){return vh._cpInfoEmail}
function Gb(){return false}function Hb(){return vh._cpInfoHasPlaybar}function Ib(){return vh._cpQuizInfoAttempts}function Jb(a){svvi("cpQuizInfoAttempts",a,["cpQuizInfoAttempts"])}function Kb(){return cp.D.project_main.to}function Lb(){return vh._cpQuizInfoTotalQuizPoints}function Mb(a){svvi("cpQuizInfoTotalQuizPoints",a,["cpQuizInfoTotalQuizPoints"])}function oa(a){var b=""+a;a>=0&&a<10&&(b="0"+b);return b}function pa(){var a=new Date;vh._cpInfoEpochMS!=a.getTime()&&svvi("cpInfoEpochMS",a.getTime(),
["cpInfoEpochMS"]);vh._cpInfoElapsedTimeMS!=cpInfoEpochMS-cp.movie.startTime&&svvi("cpInfoElapsedTimeMS",cpInfoEpochMS-cp.movie.startTime,["cpInfoElapsedTimeMS"]);vh._cpInfoCurrentMinutes!=a.getMinutes()&&svvi("cpInfoCurrentMinutes",a.getMinutes(),["cpInfoCurrentMinutes"]);vh._cpInfoCurrentHour!=a.getHours()&&svvi("cpInfoCurrentHour",a.getHours(),["cpInfoCurrentHour"]);var b=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds();vh._cpInfoCurrentTime!=b&&svvi("cpInfoCurrentTime",b,["cpInfoCurrentTime"]);
vh._cpInfoCurrentDay!=a.getDay()+1&&svvi("cpInfoCurrentDay",a.getDay()+1,["cpInfoCurrentDay"]);vh._cpInfoCurrentYear!=a.getFullYear()&&svvi("cpInfoCurrentYear",a.getFullYear(),["cpInfoCurrentYear"]);vh._cpInfoCurrentMonth!=a.getMonth()+1&&svvi("cpInfoCurrentMonth",oa(a.getMonth()+1),["cpInfoCurrentMonth"]);vh._cpInfoCurrentDate!=a.getDate()&&svvi("cpInfoCurrentDate",oa(a.getDate()),["cpInfoCurrentDate"]);b=a.getMonth()+1+"/"+a.getDate()+"/"+a.getFullYear();vh._cpInfoCurrentDateString!=b&&svvi("cpInfoCurrentDateString",
b,["cpInfoCurrentDateString"]);b=a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear();vh._cpInfoCurrentDateStringDDMMYYYY!=b&&svvi("cpInfoCurrentDateStringDDMMYYYY",b,["cpInfoCurrentDateStringDDMMYYYY"]);a=a.toLocaleDateString();vh._cpInfoCurrentLocaleDateString!=a&&svvi("cpInfoCurrentLocaleDateString",a,["cpInfoCurrentLocaleDateString"])}function ha(){if(0==H){pa();H=setInterval(pa,1E3/cpInfoFPS)}}function Nb(){return vh._cpInfoCurrentDateString}function Ob(){return vh._cpInfoCurrentDateStringDDMMYYYY}
function Pb(){return vh._cpInfoCurrentLocaleDateString}function Qb(){return vh._cpInfoCurrentDate}function Rb(){return vh._cpInfoCurrentMonth}function Sb(){return vh._cpInfoCurrentYear}function Tb(){return vh._cpInfoCurrentDay}function Ub(){return vh._cpInfoCurrentTime}function Vb(){return vh._cpInfoCurrentHour}function Wb(){return vh._cpInfoCurrentMinutes}function Xb(){return vh._cpInfoEpochMS}function Yb(){return vh._cpInfoElapsedTimeMS}function Zb(){var a=cp.movie.stage.currentSlide;return a?a.st:
""}function $b(){if(!cp.movie)return false;if(cp.movie.playbackController){var a=cp.movie.playbackController.GetQuizController();if(a)return a.GetIsPassed()}return false}function qa(){return 0}function ac(){return vh._cpInfoPrevFrame}function Q(){return vh._cpInfoCurrentFrame}function I(a,b){var c=Q();svvi("cpInfoPrevFrame",c,[]);svvi("cpInfoCurrentFrame",a,["cpInfoCurrentFrame","rdinfoCurrentFrame"]);b||cp.movie.resetMovieElapsedTime()}function ra(){return cpInfoCurrentSlide-1}function bc(){return vh._cpInfoCurrentSlide}
function sa(){return cp.movie.stage.slides.length}function ta(){return cp.movie.fps*cp.movie.speed}function cc(){return vh._cpQuizScopeSlide}function ua(a){svvi("cpQuizScopeSlide",a,["cpQuizScopeSlide"])}function dc(){return vh._cpInQuizScope}function ec(a){if(cpInfoHasPlaybar&&cp.movie&&cp.movie.playbackController){var b=cp.movie.playbackController.GetQuizController();b&&b.GetHidePlaybarInQuiz()&&(cpCmndShowPlaybar=a&&!b.GetIsInReviewMode()?0:1)}svvi("cpInQuizScope",a,["cpInQuizScope"])}function fc(){if(!cp.movie||
!cp.movie.playbackController)return 0;var a=cp.movie.playbackController.GetQuizController();return a?a.GetPretestScore():0}function gc(){if(!cp.movie||!cp.movie.playbackController)return false;return(lQuizController=cp.movie.playbackController.GetQuizController())?lQuizController.GetIsInReviewMode():false}function hc(){if(!cp.movie||!cp.movie.playbackController)return 0;var a=cp.movie.playbackController.GetQuizController();return a?a.GetMaxPretestScore():0}function ic(){if(!cp.movie||!cp.movie.playbackController)return 0;
var a=cp.movie.playbackController.GetQuizController();if(a){var b=a.GetMaxPretestScore(),a=a.GetPretestScore();return b==void 0||b<=0||a==void 0||a<=0?0:Math.round(a*100/b)}return 0}function jc(a){if(cp.movie&&cp.movie.playbackController){var b=cp.movie.playbackController.GetQuizController();b&&b.GotoQuizScopeSlide(a)}}function kc(){return vh._cpInfoCourseID}function lc(){return vh._cpInfoCourseName}function mc(){}function nc(){return null}function oc(a){eval("(function(){function get"+a+"(){return vh._"+
a+";}function set"+a+'(val){svvi("'+a+'", val, ["'+a+'"]);} asg("'+a+'",set'+a+",get"+a+");})();")}function pc(){eval('function handlePasswordProtected(){if(cp.D.secret){var a=lMainModelData.pwd,b=lMainModelData.pwdRetryMsg,c=function(){var d=document.getElementById("k333"),c=!0;d&&d.value!=a&&(c=!1);if(c)HideEverything();else if(cp.verbose&&cp.log("incorrect pwd"),d=document.getElementById("a5__px"))d.innerHTML=b};cp.passwordDiv.innerHTML="<table id=\'a5__px\' style=\'position:absolute;background-color:#FFFFFF;left:0px;top:0px;width:100%;height:100%\'><tr style=\'width:100%;height:100%;text-align:center;vertical-align:middle\'><td><table style=\'width:100%;text-align:center;vertical-align:middle\'><tr style=\'text-align:center;vertical-align:middle\'><td id=\'a5__px\'>"+lMainModelData.pwdMsg+"</td></tr><tr style=\'text-align:center;vertical-align:middle\'><td><input id=\'k333\' type=\'password\' style=\'width:"+lMainModelData.pwdTxtBoxW+"px;height:"+lMainModelData.pwdTxtBoxH+"px;\'/></td></tr><tr style=\'text-align:center;vertical-align:middle\'><td><button id=\'checkPwdButton\'>Continue</button></td></tr></table></td></tr>";document.getElementById("checkPwdButton").onclick=c;document.getElementById(lPwdTxtBoxVarName).onkeyup=function(){c()};ShowEverything()}}function handleExpiry(){if(cp.D.expiryDate){var a=new Date;a.setFullYear(lMainModelData.prjExpY,lMainModelData.prjExpM-1,lMainModelData.prjExpD-1);(new Date).getTime()<=a.getTime()||(a=lMainModelData.prjExpMsg,cp("__z_21").style.visibility="hidden",cp("a5__px").style.visibility="hidden",cp("md5").style.visibility="hidden",cp.expiryDiv.innerHTML="<div id=\'md5\' style=\'width:380px;height:54px;left:"+(cp.D.project.w-380)/2+"px;top:"+(cp.D.project.h-54)/2+"px;position:absolute\'><div id=\'expImg\' style=\'width:100%;height:100%;background-image:url(assets/htmlimages/movieexpire.png);background-repeat:no-repeat;\'></div><div id=\'a5__px\' style=\'color:#ffffff; width:300px;left:65px; position:absolute; height:15px; top:20px; font-size:12px; text-align:left; text-overflow: clip;overflow: hidden\'/>"+a+"</div></div>")}else cp.expiryDiv.style.display="none",cp.expiryDiv.style.visibility="hidden"}function handleAutoplay(){var a=cp.D[cp.movie.main.id].autoplay;document.getElementById("playImage");a?cp.device==cp.DESKTOP?cp("autoplayDiv").style.display="none":(cp.autoplayImage.style.display="none",cp.autoplayImage.style.visibility="hidden"):(cp.movie.autoplayimagew=0,cp.movie.autoplayimageh=0,a=cp.D[cp.movie.main.id].autoplayFileName,void 0!=a?(cp.autoplayImage.src=a,cp.autoplayImage.style.opacity=0.7,cp.movie.autoplayimagew=cp.D[cp.movie.main.id].autoplayimagew,cp.movie.autoplayimageh=cp.D[cp.movie.main.id].autoplayimageh):(cp.autoplayImage.style.display="none",cp.autoplayImage.style.visibility="hidden"));if(cp.D[cp.movie.main.id].pprtd){var b=cp.D[cp.movie.main.id],c=b.ps,d=function(a){if(a){cp("project").style.visibility="visible";cp("playbar").style.visibility="visible";cp("toc").style.visibility="visible";cp.pwdv.parentNode.removeChild(cp.pwdv)}else{cp("project").style.visibility="hidden";cp("playbar").style.visibility="hidden";cp("toc").style.visibility="hidden"}},g=function(){var a=document.getElementById("pwdt"),e=true;if(a){a=(new cp.sha1).HashUTF16Str(a.value);if(c.length==a.length)for(var f=0;f<a.length&&e;++f)c[f]!=a[f]&&(e=false);else e=false}if(e)d(true);else if(e=document.getElementById("promptMsg"))e.innerHTML=b.prm};cp.pwdv.innerHTML="<table id=\'pwdTable\' style=\'position:absolute;background-color:#FFFFFF;left:0px;top:0px;width:100%;height:100%\'><tr style=\'width:100%;height:100%;text-align:center;vertical-align:middle\'><td><table style=\'width:100%;text-align:center;vertical-align:middle\'><tr style=\'text-align:center;vertical-align:middle\'><td id=\'promptMsg\'>"+b.pm+"</td></tr><tr style=\'text-align:center;vertical-align:middle\'><td><input id=\'pwdt\' type=\'password\' style=\'width:"+b.ptw+"px;height:"+b.pth+"px;\'/></td></tr><tr style=\'text-align:center;vertical-align:middle\'><td><button id=\'checkPwdButton\'>Continue</button></td></tr></table></td></tr>";document.getElementById("checkPwdButton").onclick=g;a=document.getElementById("pwdt");a.focus();a.onkeyup=function(a){a.keyCode==13&&g()};d(!1)}else cp.pwdv.style.display="none",cp.pwdv.style.visibility="hidden"}function handlePreloader(){var a=cp.D[cp.movie.main.id].preloader,b=cp.D[cp.movie.main.id].preloaderFileName;void 0!=b&&""!=b&&a?(cp.preloaderImage.src=b,-1!=b.indexOf("loading.gif")?cp.preloaderImage.defaultImage=!0:cp("loadingString").style.display="none"):cp.preloaderImage.style.display="none";cp.movie.preloadProjectAssets();cp.D[cp.movie.main.id].peon?(a=cp.D[cp.movie.main.id],b=new Date,b.setFullYear(a.pey,a.pem-1,a.ped-1),(new Date).getTime()<=b.getTime()?cp.exdv&&cp.exdv.parentNode.removeChild(cp.exdv):(cp("project").style.visibility="hidden",cp("playbar").style.visibility="hidden",cp("toc").style.visibility="hidden",a="<div id=\'pems\' style=\'width:380px;height:54px;left:"+(cp.D.project.w-380)/2+"px;top:"+(cp.D.project.h-54)/2+"px;position:absolute\'><div id=\'pemi\' style=\'width:100%;height:100%;background-image:url(assets/htmlimages/movieexpire.png);background-repeat:no-repeat;\'></div><div id=\'pet\' style=\'color:#ffffff; width:300px;left:65px; position:absolute; height:15px; top:20px; font-size:12px; text-align:left; text-overflow: clip;overflow: hidden\'/>"+a.pems+"</div></div>",cp.exdv.style.backgroundColor=cp.D[cp.movie.element.id].prjBgColor,cp.exdv.innerHTML=a)):(cp.exdv.style.display="none",cp.exdv.style.visibility="hidden")}function _handleProjOptions(){handleAutoplay();handlePreloader()};_handleProjOptions();')}
window.getPageX=function(a){var b=a;a.changedTouches&&a.changedTouches.length>0&&(b=a.changedTouches[0]);if(b.pageX)return b.pageX;var a=document.documentElement,c=document.body;return b.clientX+(a&&a.scrollLeft||c&&c.scrollLeft||0)-(a&&a.clientLeft||c&&c.clientLeft||0)};window.getPageY=function(a){var b=a;a.changedTouches&&a.changedTouches.length>0&&(b=a.changedTouches[0]);if(b.pageY)return b.pageY;var a=document.documentElement,c=document.body;return b.clientY+(a&&a.scrollTop||c&&c.scrollTop||0)-
(a&&a.clientTop||c&&c.clientTop||0)};cp.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.baseConstructor=b;a.superClass=b.prototype};cp.UNKNOWN=0;cp.WINDOWS=1;cp.MACOS=2;cp.DESKTOP=1;cp.IDEVICE=2;cp.ANDROID=3;cp.KINDLE=4;cp.IPAD2=1;cp.IPAD3=2;cp.IPHONE=3;cp.IOS1=1;cp.IOS2=2;cp.IOS3=3;cp.IOS4=4;cp.IOS5=5;cp.IOS6=6;cp.IOS7=7;cp.MSIE=1;cp.FIREFOX=2;cp.CHROME=3;cp.SAFARI=4;cp.NETSCAPE=5;cp.OPERA=6;cp.CAMINO=7;cp.FIREBIRD=8;cp.MSIE_MIN_SUPPORTED_VERSION=
9;cp.CHROME_MIN_SUPPORTED_VERSION=17;cp.SAFARI_MIN_SUPPORTED_VERSION=5.1;cp.HAVE_NOTHING=0;cp.HAVE_METADATA=1;cp.HAVE_CURRENT_DATA=2;cp.HAVE_FUTURE_DATA=3;cp.HAVE_ENOUGH_DATA=4;cp.disablePaceMaker=false;cp.verbose=false;cp.poolVerbose=false;cp.exceptionalLogs=true;cp.consolidateLogs=false;cp.dynamicLogControl=false;cp.projectContainer=null;cp.project=null;cp.playImage=null;cp.autoplayImage=null;cp.autoplayDiv=null;cp.pwdv=null;cp.exdv=null;cp.preloaderImage=null;cp.log=function(a){cp.customConsole?
cp.customConsole.value=cp.customConsole.value+a:cp.consolidateLogs&&cp.logArray?cp.logArray.push(a):console.log(a)};cp.verbose&&cp.log("navigator.userAgent = "+navigator.userAgent);cp.OS=cp.UNKNOWN;cp.device=cp.DESKTOP;cp.deviceFlavor=cp.UNKNOWN;cp.IOSMajor=cp.UNKNOWN;cp.IOSMinor=cp.UNKNOWN;cp.IOSBuild=cp.UNKNOWN;cp.browser=cp.UNKNOWN;cp.browserVersion=cp.UNKNOWN;cp.browser_supports_svg=true;cp.kCPRolloverCaptionItem=25;cp.kCPRolloverImageItem=26;cp.kCPOTRolloverAutoShape=617;cp.kCPRolloverAreaItem=
27;cp.kCPOTAnimationItem=28;cp.kCPOTCaptionItem=19;cp.kCPHighlight=14;cp.kCPOTImageBoxItem=15;cp.kCPMouse=12;cp.kCPMouseClick=15728652;cp.kCPOTStageAnswerItem=80;cp.kCPOTIncompleteFeedbackItem=97;cp.kCPZoomSource=99;cp.kCPOTStageCorrectFeedback=10086;cp.kCPOTStageIncorrectFeedback=10087;cp.kCPOTStagePartialCorrectFeedback=10139;cp.kCPOTTimeoutFeedbackItem=174;cp.kCPOTRetryFeedbackItem=81;cp.kCPOTStageSingleChoiceMultipleAnswer=10082;cp.kCPOTStageMultipleChoiceMultipleAnswer=10081;cp.kCPOTStageLikertQuestion=
10112;cp.kCPOTStageSequenceAnswer=10096;cp.kCPOTStageMatchingAnswer=10097;cp.kCPOTStageMatchingAnswerEntry=10098;cp.kCPOTStageMatchingQuestion=10110;cp.kCPOTQuestionColumn=87;cp.kCPOTQuestionFillBlank=10011;cp.kCPOTStageShortAnswer=10094;cp.kCPOTItemHotSpot=131;cp.kCPOTFillBlankCaption=10106;cp.kCPOTReviewArea=94;cp.kCPOTProgressIndicator=92;cp.kCPOTScoringResult=111;cp.kCPOTClickBoxItem=13;cp.kCPOTScorableButtonItem=177;cp.kCPTypingText=64;cp.kCPFullMotion=270;cp.kCPOTFLVItem=98;cp.kCPOTVideo=365;
cp.kCPOTVideoResource=359;cp.kCPOTSuccessCaptionItem=21;cp.kCPOTFailureCaptionItem=22;cp.kCPOTHintCaptionItem=23;cp.kCPOTTextEntryBoxItem=24;cp.kCPOTTextEntryButtonItem=75;cp.kCPOTRetakeButton=175;cp.kCPOTLineItem=142;cp.kCPOTOvalItem=167;cp.kCPOTRectangleItem=168;cp.kCPOTPolygon=209;cp.kCPOTAnswerArea=10142;cp.kCPOTMatchingQuestionArea=10143;cp.kCPOTMatchingAnswerArea=10144;cp.kCPOTLikertHeaderArea=10146;cp.kCPOTLikertQuestionArea=10147;cp.kCPOTLikertTotalGroupArea=10148;cp.kCPOTStageQuestionText=
79;cp.kCPOTStageQuestionTitle=86;cp.kCPOTTitleAutoShape=589;cp.kCPOTSubTitleAutoShape=590;cp.kCPOTAutoShape=612;cp.kCPOTWidgetItem=133;cp.kCPOTWebObject=999;cp.kCPOTTAItem=76;cp.kCPOTStageAnswerLabel=10088;cp.kCPOTStageQuestionNextButton=83;cp.kCPOTStageQuestionClearButton=84;cp.kCPOTStageQuestionBackButton=85;cp.kCPOTStageQuestionSubmitButton=91;cp.kCPOTScoringResultItem=112;cp.kCPOTScoringReviewButton=103;cp.kCPOTScoringContinueButton=10119;cp.kCPOTSubmitAllButton=10149;cp.kCPOTResetButton=640;
cp.kCPOTUndoButton=639;cp.kCPOTDDSubmitButton=641;cp.kBeginPath=0;cp.kMoveTo=1;cp.kLineTo=2;cp.kBezierTo=3;cp.kClosePath=4;cp.kNotClosed=5;cp.kNoStroke=6;cp.accOutlineStyleStr="";cp.kPPTXSlideImagesStr="pxi";cp.kPPTXSlideImagesDir="dr/pptxIm/";cp.kTTNone=-1;cp.kTTOnEnter=0;cp.kTTOnClick=1;cp.kTTOnTextEntry=2;cp.kTTOnRollover=3;cp.kTTOnSuccess=4;cp.kTTOnFailure=5;cp.kTTOnSlideExit=6;cp.kTTOnHyperlink=7;cp.kTTOnDropOfType=8;cp.QuestionStatusEnum={};cp.QuestionStatusEnum.INCOMPLETE=0;cp.QuestionStatusEnum.INCORRECT=
1;cp.QuestionStatusEnum.CORRECT=2;cp.QuestionStatusEnum.PARTIAL_CORRECT=3;cp.IsValidObj=function(a){return void 0!=a&&null!=a};cp.getCurrentBrowserVersion=function(a,b){var c=a.indexOf(b);return c==-1?cp.UNKNOWN:parseFloat(a.substring(c+b.length+1))};if(navigator.appVersion.indexOf("Win")!=-1)cp.OS=cp.WINDOWS;else if(navigator.appVersion.indexOf("Mac")!=-1)cp.OS=cp.MACOS;cp.multiAudioTrack=true;cp.waitForAudio=false;if(navigator.userAgent.match(/(iPhone|iPad)/i)){cp.device=cp.IDEVICE;cp.browser_supports_svg=
false;cp.accOutlineStyleStr="outline-style:none";var qc=window.devicePixelRatio?window.devicePixelRatio:1;if(navigator.userAgent.indexOf("iPhone")!=-1)cp.deviceFlavor=cp.IPHONE;else if(navigator.userAgent.indexOf("iPad")!=-1){cp.deviceFlavor=cp.IPAD2;if(qc>=2)cp.deviceFlavor=cp.IPAD3}var J=navigator.userAgent.match(/OS [1-9][0-9]*_[0-9][0-9]*_[0-9][0-9]*/);J||(J=navigator.userAgent.match(/OS [1-9][0-9]*_[0-9][0-9]*/));if(J&&J[0]){var O=J[0].split("_");cp.IOSMajor=parseInt(O[0].substr(2),10);cp.IOSMinor=
parseInt(O[1],10);if(O.length>=3)cp.IOSBuild=parseInt(O[2],10)}if(cp.IOSMajor>=cp.IOS5)cp.waitForAudio=true}else if(navigator.userAgent.match(/android/i)){cp.device=cp.ANDROID;cp.waitForAudio=true;cp.accOutlineStyleStr="outline-style:none"}else if(navigator.userAgent.match(/Silk/i))cp.device=cp.KINDLE;if(navigator.userAgent.match(/MSIE/i)){cp.browser=cp.MSIE;cp.browserVersion=cp.getCurrentBrowserVersion(navigator.userAgent,"MSIE")||cp.getCurrentBrowserVersion(navigator.appVersion,"MSIE")||cp.UNKNOWN}else if(navigator.userAgent.match(/Firefox/i)){cp.browser=
cp.FIREFOX;cp.browserVersion=cp.getCurrentBrowserVersion(navigator.userAgent,"Firefox")||cp.getCurrentBrowserVersion(navigator.appVersion,"Firefox")||cp.UNKNOWN}else if(navigator.userAgent.match(/Chrome/i)){cp.browser=cp.CHROME;cp.accOutlineStyleStr="outline-style:none";cp.browserVersion=cp.getCurrentBrowserVersion(navigator.userAgent,"Chrome")||cp.getCurrentBrowserVersion(navigator.appVersion,"Chrome")||cp.UNKNOWN}else if(navigator.userAgent.match(/Safari/i)){cp.browser=cp.SAFARI;cp.browser_supports_svg=
false;cp.accOutlineStyleStr="outline-style:none";cp.browserVersion=cp.getCurrentBrowserVersion(navigator.userAgent,"Version")||cp.getCurrentBrowserVersion(navigator.appVersion,"Version")||cp.UNKNOWN}else if(navigator.userAgent.match(/Netscape/i)){cp.browser=cp.NETSCAPE;cp.browserVersion=cp.getCurrentBrowserVersion(navigator.userAgent,"Netscape")||cp.getCurrentBrowserVersion(navigator.appVersion,"Netscape")||cp.UNKNOWN}else if(navigator.userAgent.match(/Opera/i)){cp.browser=cp.OPERA;cp.browserVersion=
cp.getCurrentBrowserVersion(navigator.userAgent,"Version")||cp.getCurrentBrowserVersion(navigator.appVersion,"Version")||cp.UNKNOWN}else if(navigator.userAgent.match(/Camino/i)){cp.browser=cp.CAMINO;cp.browserVersion=cp.getCurrentBrowserVersion(navigator.userAgent,"Camino")||cp.getCurrentBrowserVersion(navigator.appVersion,"Camino")||cp.UNKNOWN}else if(navigator.userAgent.match(/Firebird/i))cp.browser=cp.FIREBIRD;if(cp.verbose){cp.log("browser = "+cp.browser);cp.log("browserVersion = "+cp.browserVersion);
cp.log("device = "+cp.device);if(cp.device==cp.IDEVICE){cp.log("device flavor = "+cp.deviceFlavor);cp.log("IOS Version = "+cp.IOSMajor+"_"+cp.IOSMinor+"_"+cp.IOSBuild)}cp.log("browser_supports_svg = "+cp.browser_supports_svg)}cp.canUseWebkitAnimations=function(){var a=0,b=/( AppleWebKit\/)([^ ]+)/.exec(navigator.userAgent);if(!b||b.length<3)return null;var c=b[2],d=/[^\\.0-9]/.exec(c);d&&(c=c.slice(0,d.index));b&&(a=parseFloat(c));cp.verbose&&cp.log("Webkit version : "+a);return a>=534&&cp.device==
cp.IDEVICE};cp.getIsBrowserSupported=function(){var a=false;cp.browser==cp.MSIE&&cp.browserVersion>=cp.MSIE_MIN_SUPPORTED_VERSION?a=true:cp.browser==cp.CHROME&&cp.browserVersion>=cp.CHROME_MIN_SUPPORTED_VERSION?a=true:cp.browser==cp.SAFARI&&cp.browserVersion>=cp.SAFARI_MIN_SUPPORTED_VERSION&&(a=true);return a};cp.ShowWarning=function(a,b,c,d){var e=cp.D.rtDialog,f=e.rtbgfc,g=e.rtbgsc,k=e.rtbtnfc,l=e.rtbtnsc,m=e.rtsc,o=e.rttc,n=e.rttsc,p=e.rtfn,r=e.rtokb,e=e.rtcb,q=1;d&&++q;d=new cp.RuntimeMessageBox(document.getElementById("cpDocument"),
q,f,g,k,l,m,o,n,p);d.setTitleText(b);d.setMessageText(a);d.setFirstButtonText(r);d.registerFirstButtonHandler(d.hide);d.setSecondButtonText(e);c||d.show();return d};cp.alert=function(a,b){b||(b="Adobe Captivate");a||(a="");cp.ShowWarning(a,b)};window.alert=cp.alert;cp.removeAccessibilityOutline=function(a){if(a){switch(cp.browser){case cp.CHROME:case cp.SAFARI:a.style.outlineStyle="none"}switch(cp.device){case cp.IDEVICE:case cp.ANDROID:a.style.outlineStyle="none"}}};cp.complete=function(){if(cp.initiated&&
(!cp.loadedModules.playbar||cp.PB.playbarCreated))if(!cp.loadedModules.toc||cp.toc.tocCreated)if(!cp.loadedModules.border||cp.borderCreated){cp("initialLoading")&&document.body.removeChild(cp("initialLoading"));cp.device==cp.DESKTOP&&cp.D.project_main.autoplay&&cp.movie.play()}};cp.newElem=function(a){a=document.createElement(a);cp.shouldScale&&cp.fixWebkitScaling(a);return a};cp.fixWebkitScaling=function(a){if(cp.shouldScale&&a&&a.style){var b=a.style.WebkitTransform;b&&b.toString().indexOf("translate3d")!=
-1||(a.style.WebkitTransform=a.style.WebkitTransform+"translate3d(0px, 0px, 0px)")}};cp.addDCHDiv=function(a,b){var c=document.createElement("div");c.style.width=a.style.width;c.style.height=a.style.height;c.style.display="block";c.style.position="absolute";c.style.left="0px";c.style.top="0px";c.style.backgroundColor="#ffffff";c.style.opacity=0;c.onclick=b;a.appendChild(c);return c};cp.clearCanvasProperly=function(a){a.element.width=a.element.width};cp.cloneObject=function(a){if(null==a||"object"!=
typeof a)return a;var b=a.constructor(),c;for(c in a)a.hasOwnProperty(c)&&(b[c]=cp.cloneObject(a[c]));return b};cp.enable=function(a){if(a=cp.D[a]){a.enabled=1;if(a.mdi){if(a.type==cp.kCPOTTextEntryBoxItem){var b=cp(a.mdi);if(b)if((b=b.firstChild)&&(b.tagName=="INPUT"||b.tagName=="TEXTAREA"))b.disabled=false}if(b=B[a.mdi])b.enabled=1;a.type==cp.kCPOTAutoShape&&a.canvasPainterObject&&a.canvasPainterObject.addMouseHandlers()}}};cp.markTOCEntryComplete=function(a){(a=cp.D[cp.movie.stage.slides[a]])&&
a.tocEntry&&a.tocEntry.setVisited()};cp.animateItem=function(a,b,c,d,e){c=B[d];d=cp.D[d];if(d!=void 0){d.qtp!=void 0&&(c=B[d.sn]);if(c!=void 0){c.m_triggerTimelineIds=d["JSONTT_"+e];PPTXLib.processTriggerForObject(c,a+"_"+b)}}};cp.disable=function(a){if(a=cp.D[a]){a.enabled=0;if(a.mdi){if(a.type==cp.kCPOTTextEntryBoxItem){var b=cp(a.mdi);if(b)if((b=b.firstChild)&&(b.tagName=="INPUT"||b.tagName=="TEXTAREA"))b.disabled=true}if(b=B[a.mdi])b.enabled=0;a.type==cp.kCPOTAutoShape&&a.canvasPainterObject&&
a.canvasPainterObject.removeMouseHandlers()}}};cp.showHint=function(a,b){b.hintFeedback=new cp.Feedback(a,null,false,cp.FeedbackType.HINT);b.hintFeedback.onRollover()};cp.hideHint=function(a,b){if(b&&b.hintFeedback)b.hintFeedback.onRollout()};cp.addRewrapObjectAsPerRestOfProjectItem=function(a){if(a){var b=cp.movie.stage.getSlideDiv().firstChild;if(b){var c=cp.movie.stage.m_lowestRewrapElementThatIsRestOfProjectAndOnTop;c?b.insertBefore(a,c):b.appendChild(a)}}};cp.addDivObjectAsPerRestOfProjectItem=
function(a){if(a){var b=cp.movie.stage.getSlideDiv();if(b){var c=cp.movie.stage.m_lowestElementThatIsRestOfProjectAndOnTop;c?b.insertBefore(a,c):b.appendChild(a)}}};cp.moveRewrapElemToTop=function(a){if(a){a.parentNode.removeChild(a);cp.addRewrapObjectAsPerRestOfProjectItem(a)}};cp.moveDivElemToTop=function(a){if(a){a.parentNode.removeChild(a);cp.addDivObjectAsPerRestOfProjectItem(a)}};cp.redrawVideo=function(a){cp.DESKTOP==cp.device&&cp.SAFARI===cp.browser&&cp.browserVersion>=7&&a.offsetHeight};
cp.redrawItem=function(a){var b=cp(a);if(b&&!cp("dummyStyle")){var c=b.style.display,d=document.createElement("style");d.id="dummyStyle";document.body.appendChild(d);setTimeout(function(){document.body.removeChild(d);b.style.display=c},50)}};cp.contains=function(a,b){typeof a=="string"||a instanceof String||(a=""+a+"");typeof b=="string"||b instanceof String||(b=""+b+"");return a.indexOf(b)!=-1};cp.show=function(a){var b=0,c=[],d,e=null;c.push(a);cp.movie.stage.getChildrenForParent(a,c);for(b=0;b<
c.length;++b){d=c[b];if(a=cp.D[d]){a.visible=1;if(a.mdi){if(e=cp.D[a.mdi])e.visible=1;if(e=B[a.mdi]){e.visible=1;if(e.type==cp.kCPOTVideo&&e.nativeVideo)e.nativeVideo.style.display="block";if(e.element){var f=e.element.firstElementChild;if(f&&f.tagName=="VIDEO"){e.seekTo(e.from);e.play()}}}}if(e=cp(d)){e.style.visibility="visible";e.style.display="block"}a.ia&&cp.movie.am.showHideObjectAudio(a.ia,true);a.iea&&cp.movie.am.playPauseEventAudio(a.iea,true)}else if(e=cp(d))e.style.visibility="visible";
cp.redrawItem(d)}};cp.hide=function(a){var b=0,c=[],d;c.push(a);cp.movie.stage.getChildrenForParent(a,c);for(b=0;b<c.length;++b){d=c[b];if(a=cp.D[d]){a.visible=0;if(a.mdi){if(canvasDataItem=cp.D[a.mdi])canvasDataItem.visible=0;var e=B[a.mdi];if(e){e.visible=0;if(e.type==cp.kCPOTVideo){if(e.nativeVideo)e.nativeVideo.style.display="none";e.pause&&e.pause()}}}if(d=cp(d))d.style.visibility="hidden";a.ia&&cp.movie.am.showHideObjectAudio(a.ia,false);a.iea&&cp.movie.am.playPauseEventAudio(a.iea,false)}else if(d=
cp(d))d.style.visibility="hidden"}};cp.jumpToPreviousSlide=function(){var a=cp.movie.stage.previousSlideStartFrame;a<=0&&(a=1);cp.movie.jumpToFrame(a)&&cp.movie.play()};cp.jumpToNextSlide=function(){var a=cp.movie.stage.nextSlideStartFrame;a!=-1?cp.movie.jumpToFrame(a)&&cp.movie.play():!cp.movie.virgin&&cp.movie.stage.slides.length-1==cpInfoCurrentSlideIndex&&cp.movie.play()};cp.jumpToLastVisitedSlide=function(){cp.movie.jumpToFrame("cpInfoLastVisitedSlide");cp.movie.play()};cp.openURL=function(a,
b){var c=a;cp.MSIE!=cp.browser&&(c=encodeURI(a));window.open(c,b)};cp.openMovie=function(a,b){return cp.openURL(a,b)};cp.sendEmail=function(a){(a=window.open("mailto:"+a,"_blank"))&&a.close()};cp.showMessage=function(a){cp.alert(a)};cp.runJavascript=function(a){cp.verbose&&cp.log("runJavascript ["+a+"]");try{eval(a)}catch(b){cp.log(b)}};cp.stopMovie=function(){};cp.loopMovie=function(){cpCmndGotoSlideAndResume=0};cp.closeMovie=function(){window.top.close()};cp.pauseWidgetAudio=function(a){var b=cp.movie.am;
if(!b||b.widgetAudios==void 0)return false;a=b.widgetAudios[a];if(a==void 0)return false;a.pause();return true};cp.stopWidgetAudio=function(a){var b=cp.movie.am;if(!b||b.widgetAudios==void 0)return false;a=b.widgetAudios[a];if(a==void 0)return false;a.pause();try{if(a.nativeAudio)a.nativeAudio.currentTime=0}catch(c){cp.verbose&&cp.log("Could not stop the audio.");return false}return true};cp.playWidgetAudio=function(a){var b=cp.movie.am;if(!b)return false;if(b.widgetAudios==void 0)b.widgetAudios=
{};var c=b.widgetAudios[a];if(c==void 0){c=new cp.AudioObject(b,a,a,-1,-1);b.widgetAudios[a]=c}c.play();return true};cp.playAudio2=function(a){return cp.playAudio(a,false)};cp.playAudio=function(a,b){var c=cp.movie.am;if(cp.lastMediaPlayReqTime&&(new Date).getTime()-cp.lastMediaPlayReqTime.getTime()<50){c.verbose&&cp.log("crowded request postponed "+a);setTimeout(function(){cp.playAudio(a,b)},50)}else if(!(c.muted||1!=cp.movie.speed)){c.verbose&&cp.log("cp.playAudio "+a+", "+b);if(cp.device==cp.IDEVICE||
cp.device==cp.ANDROID)if(!cp.multiAudioTrack&&(c.audioPlaying||cp.movie.stage.VideoPlaying)){c.verbose&&cp.log("audioPlaying "+c.audioPlaying+" videoPlaying "+cp.movie.stage.VideoPlaying);return}var d=cp.D["PA"+a].src;void 0==b&&(b=true);c=c.singletonPlayAudio;c.pause();if(c.nativeAudio!=null){c.nativeAudio.cpAudio=null;c.nativeAudio=null}c.onEndAutoPlayMovie=b;c.setSrc(d);c.resetAndPlay()}};cp.stopAudio=function(){cp.movie.am.singletonPlayAudio.pause()};cp.cv=function(a,b,c,d){return cp.vm.createVariable(a,
b,c==1?true:false,d)};cp.ho=function(a){if(typeof a=="string"){var b;try{b=eval(a)}catch(c){}if(void 0!=b){if(typeof b=="string"){var d;try{d=eval(b)}catch(e){}if(void 0!=d)return d}return b}}return a};cp.g_clickTimer=0;cp.isClickTimerRunning=function(){return 0!=cp.g_clickTimer};cp.startClickTimer=function(a,b){if(!cp.isClickTimerRunning())cp.g_clickTimer=setInterval(b,a)};cp.stopClickTimer=function(){if(cp.isClickTimerRunning()){clearInterval(cp.g_clickTimer);cp.g_clickTimer=0}};cp.HandleInteractiveWidget=
function(a,b){if(void 0!=b){var c=B[b];c&&c.HandleClickEvent&&c.HandleClickEvent(a)}};cp.clickSuccessHandler=function(a){if(a){if(a.cpa==false)a.clickedOnce=true;a.ssc&&cp.movie.am.pauseCurrentSlideAudioForInteractiveClick();var b=a.ca;b&&cp.movie.am.playPauseEventAudio(b,true);var b=a.osct,c=a.osc,d=a.oca,e=null,f=true;c==void 0&&(f=false);c!=void 0&&c.length<2&&(f=false);b&&f&&(e=d);var g=a.pfc==1&&b;a.handled&&(g=false);var k=null;f&&(k=new cp.Feedback(c,e,g,cp.FeedbackType.SUCCESS,a));(!b||!f)&&
cp.movie.executeAction(d);f&&k.show();return true}return false};cp.clickFailureHandler=function(a,b,c){var d=false;if(a){if(a.handled&&"cpCmndResume = 1;"==a.oca)return true;var e=a.ofct,d=a.ofc,f=a.ofa;if(!d||d.length<2)c=false;var g=null;e&&(b&&c)&&(g=f);var k=null;c&&(k=new cp.Feedback(d,g,false,cp.FeedbackType.FAILURE,a));d=true;if((!e||!c)&&b){if(a.cpa==false)a.clickedOnce=true;cp.movie.executeAction(f)}else d=false;c?k.show():d=false}return d};cp.cbKH=function(a,b,c){if(!a||(!a||!a.enabled||
!b||!b.visible)||a.actionInProgress)return false;var d,e=0,f=false,f=a.currentAttempt;f!=void 0&&(e=f);if(b!=void 0)d=b.dn;if(c){d&&cp.SubmitInteractions(d,cp.QuestionStatusEnum.CORRECT,e);f=cp.clickSuccessHandler(a);a.handled=true;return f}b=a.ma;e=e+1;a.currentAttempt=e;c=b!=-1&&e==b;f=b==-1||e<=b;d&&cp.SubmitInteractions(d,cp.QuestionStatusEnum.INCORRECT,e-1);f=cp.clickFailureHandler(a,c,f);if(!a.handled)a.handled=b!=-1&&e>=b;return f};cp.qbKH=function(a,b,c){if(!a||!b||!a.enabled||!b.visible)return false;
a=a.qbt;if(!a||!c)return false;b=b.dn;if(!b)return false;b=document.getElementById(b);if(!b)return false;c=false;switch(a){case "clear":cp.quizClearButtonClickHandler(b);c=true;break;case "back":cp.quizBackButtonClickHandler(b);c=true;break;case "skip":cp.quizSkipButtonClickHandler(b);c=true;break;case "submit":cp.quizSubmitButtonClickHandler(b);c=true;break;case "submitAll":cp.quizSubmitAllButtonClickHandler(b);c=true;break;case "continue":cp.quizContinueButtonClickHandler(b);c=true;break;case "review":cp.quizReviewButtonClickHandler(b);
c=true;break;case "retake":cp.quizRetakeButtonClickHandler(b);c=true}return c};cp.isTEBValueCorrect=function(a,b){if(!b.vuin)return true;var c=document.getElementById(a+"_inputField");if(!c)return false;var c=c.value,d=b.exp||[],e=b.cs,f=d.length,g=false;if(0==f&&""==c)return true;for(var k=0;k<f&&!g;++k)g=e?c==d[k]:c.toLowerCase()==d[k].toLowerCase();return g};cp.tebKH=function(a,b,c){var d=false,e=0,d=1E3,f=false,g;if(!a)return false;if(b&&b.keyHandledOnce)return b.keyHandledOnce=false;if(!c||a&&
a.handled||!a||!a.enabled||!b||!b.visible)return false;c=a.currentAttempt;c!=void 0&&(e=c);if(b!=void 0)g=b.dn;if(d=cp.isTEBValueCorrect(a.id,a)){a.handled=true;g&&cp.SubmitInteractions(g,cp.QuestionStatusEnum.CORRECT,e);return cp.clickSuccessHandler(a)}d=a.ma;e=e+1;a.currentAttempt=e;f=d!=-1&&e==d;b=d==-1||e<=d;if(!a.handled)a.handled=d!=-1&&e>=d;g&&cp.SubmitInteractions(g,cp.QuestionStatusEnum.INCORRECT,e-1);return cp.clickFailureHandler(a,f,b)};cp.ClickData=function(a,b,c){this.m_obj=a;this.m_objc=
b;this.m_htmlElem=c;this.m_from=a.from;this.m_to=a.to};cp.ClickData.prototype.isValid=function(){return void 0!=this.m_obj&&void 0!=this.m_objc&&void 0!=this.m_htmlElem&&this.m_to>=this.m_from};cp.ClickData.prototype.isClickable=function(a){return!this.m_obj||!this.m_obj.enabled||!this.m_objc||!this.m_objc.visible?false:this.m_from<=a&&a<=this.m_to};cp.preventEventDefault=function(a){if(a)a.preventDefault?a.preventDefault():a.returnValue=false};cp.getHitTestingRect=function(a){var b={minX:0,minY:0,
maxX:0,maxY:0};if(!a)return b;var c=a.getBoundingClientRect(),a=cp.getScaledPosition(c.left,c.top),c=cp.getScaledPosition(c.right,c.bottom);b.minX=a.X;b.minY=a.Y;b.maxX=c.X;b.maxY=c.Y;b.width=b.maxX-b.minX;b.height=b.maxY-b.minY;return b};cp.IsPointWithElem=function(a,b,c,d,e,f,g){var k=0,l=0,m=0;if(a.rotateAngle)k=a.rotateAngle;a=b-(d+f)/2;c=c-(e+g)/2;l=a*Math.cos(Math.PI*-k/180)-c*Math.sin(Math.PI*-k/180);m=a*Math.sin(Math.PI*-k/180)+c*Math.cos(Math.PI*-k/180);l=l+(d+f)/2;m=m+(e+g)/2;return l>=
d&&l<=f&&m>=e&&m<=g?true:false};cp.handleDblClick=function(a){var b=null,c=null,b=null,b=cp.getScaledPosition(getPageX(a),getPageY(a)),a=b.X,d=b.Y,e=null,f=0,b=cp.movie.stage.getClickManager(),c=b.getDoubleClickArr(cpInfoCurrentFrame);if(!(null==c||0==c.length)){cp.stopClickTimer();for(f=0;f<c.length;++f)if(b=c[f]){e=b.m_htmlElem;if(!b.m_obj||!b.m_obj.actionInProgress){var g=cp.getHitTestingRect(e);if(b.m_obj&&cp.IsPointWithElem(e,a,d,g.minX,g.minY,g.maxX,g.maxY)){var a=0,k,l,d=b.m_obj.currentAttempt;
d!=void 0&&(a=d);b.m_obj.mdi&&(l=cp.D[b.m_obj.mdi]);if(l!=void 0)k=l.dn;k&&cp.SubmitInteractions(k,cp.QuestionStatusEnum.CORRECT,a);cp.clickSuccessHandler(b.m_obj);b.m_obj.handled=true;return}}}if((b=c[0])&&b.m_obj&&!b.m_obj.actionInProgress){a=cp.D[b.m_obj.mdi].visible;c=0;d=b.m_obj.currentAttempt;d!=void 0&&(c=d);c=c+1;b.m_obj.currentAttempt=c;d=b.m_obj.ma;e=d!=-1&&c==d&&a;f=(d==-1||c<=d)&&a;b.m_obj.mdi&&(l=cp.D[b.m_obj.mdi]);if(l!=void 0)k=l.dn;k&&cp.SubmitInteractions(k,cp.QuestionStatusEnum.INCORRECT,
c-1);cp.clickFailureHandler(b.m_obj,e,f);if(!b.m_obj.handled)b.m_obj.handled=d!=-1&&c>=d&&a}}};cp.handleRightClick=function(a){var b=null,c=null,b=null,b=cp.getScaledPosition(getPageX(a),getPageY(a)),d=b.X,e=b.Y,f=null,c=false,g=0,b=cp.movie.stage.getClickManager(),c=b.getRightClickArr(cpInfoCurrentFrame);if(!(null==c||0==c.length)){cp.stopClickTimer();for(g=0;g<c.length;++g)if((b=c[g])&&(!b.m_obj||!b.m_obj.actionInProgress)){var f=b.m_htmlElem,k=cp.getHitTestingRect(f);if(b.m_obj&&cp.IsPointWithElem(f,
d,e,k.minX,k.minY,k.maxX,k.maxY)){var d=0,l,m,e=b.m_obj.currentAttempt;e!=void 0&&(d=e);b.m_obj.mdi&&(m=cp.D[b.m_obj.mdi]);if(m!=void 0)l=m.dn;l&&cp.SubmitInteractions(l,cp.QuestionStatusEnum.CORRECT,d);c=cp.clickSuccessHandler(b.m_obj);b.m_obj.handled=true;c&&cp.preventEventDefault(a);return}}if((b=c[0])&&b.m_obj&&!b.m_obj.actionInProgress){a=cp.D[b.m_obj.mdi].visible;d=0;e=b.m_obj.currentAttempt;e!=void 0&&(d=e);d=d+1;b.m_obj.currentAttempt=d;e=b.m_obj.ma;c=e!=-1&&d==e&&a;f=(e==-1||d<=e)&&a;b.m_obj.mdi&&
(m=cp.D[b.m_obj.mdi]);if(m!=void 0)l=m.dn;l&&cp.SubmitInteractions(l,cp.QuestionStatusEnum.INCORRECT,d-1);cp.clickFailureHandler(b.m_obj,c,f);if(!b.m_obj.handled)b.m_obj.handled=e!=-1&&d>=e&&a}}};cp.handleMouseOut=function(){if(cp.device==cp.DESKTOP){var a=cp.movie.stage.getSlideDiv();if(a){a.touchstartX=null;a.isMoving=false}}};cp.handleMouseMove=function(a){var b=document.getElementById("playbar");b!=void 0&&b.animator&&b.animator.showPlaybar(cpInfoCurrentFrame>=cp.movie.stage.lastFrame?true:false);
if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID)if(!(a.target.parentElement&&a.target.parentElement.className.indexOf("toc")!=-1||a.target.id=="playbar"))if((b=cp.movie.stage.getSlideDiv())&&b.showTOC&&b.isMoving&&a.touches.length){var c=b.touchstartX-a.touches[0].pageX;if(Math.abs(c)>=30){a.preventDefault&&a.preventDefault();b.touchstartX=null;b.isMoving=false;a=document.getElementById("toc");a!=void 0&&a.animator&&(c>0&&b.swipeDir==0||c<0&&b.swipeDir==1?a.animator.showTOC():(c<0&&b.swipeDir==0||
c>0&&b.swipeDir==1)&&a.animator.hideTOC())}}};cp.handleMouseOver=function(a){var b=document.getElementById("playbar");b!=void 0&&b.animator&&b.animator.showPlaybar(cpInfoCurrentFrame>=cp.movie.stage.lastFrame?true:false);if(cp.device==cp.DESKTOP){if(this.onmousemove==null)this.onmousemove=cp.handleMouseMove}else{if(a.target.parentElement&&a.target.parentElement.className.indexOf("toc")!=-1||a.target.id=="playbar")return;if(this.ontouchmove==null)this.ontouchmove=cp.handleMouseMove}if(cp.device==cp.IDEVICE||
cp.device==cp.ANDROID)if((b=cp.movie.stage.getSlideDiv())&&b.showTOC&&a.touches.length){b.touchstartX=a.touches[0].pageX;b.isMoving=true}};cp.ClickManager=function(){this.m_rightClickArr=[];this.m_doubleClickArr=[]};cp.ClickManager.prototype.addRightClick=function(a,b,c){a=new cp.ClickData(a,b,c);this.m_rightClickArr.push(a)};cp.ClickManager.prototype.addDoubleClick=function(a,b,c){a=new cp.ClickData(a,b,c);this.m_doubleClickArr.push(a)};cp.ClickManager.prototype.removeRightClick=function(a){for(var b=
0,b=0;b<this.m_rightClickArr.length;++b)if(this.m_rightClickArr[b].m_obj==a){this.m_rightClickArr.splice(b,1);break}};cp.ClickManager.prototype.removeDoubleClick=function(a){for(var b=0,b=0;b<this.m_doubleClickArr.length;++b)if(this.m_doubleClickArr[b].m_obj==a){this.m_doubleClickArr.splice(b,1);break}};cp.ClickManager.prototype.clearClicks=function(){this.m_rightClickArr=[];this.m_doubleClickArr=[]};cp.ClickManager.prototype.getRightClickArr=function(a){for(var b=[],c=0,c=this.m_rightClickArr.length-
1;c>=0;--c)this.m_rightClickArr[c].isClickable(a)&&b.push(this.m_rightClickArr[c]);return b};cp.ClickManager.prototype.getDoubleClickArr=function(a){for(var b=[],c=0,c=this.m_doubleClickArr.length-1;c>=0;--c)this.m_doubleClickArr[c].isClickable(a)&&b.push(this.m_doubleClickArr[c]);return b};cp.Shortcut=function(a,b,c,d){this.m_keyCode=void 0!=a?a:null;this.m_isCtrl=void 0!=b&&b?b:false;this.m_isShift=void 0!=c&&c?c:false;this.m_isAlt=void 0!=d&&d?d:false};cp.Shortcut.prototype.isValid=function(){return this.m_keyCode!=
void 0&&this.m_keyCode!=null};cp.Shortcut.prototype.isSame=function(a){return this.m_keyCode==a.m_keyCode&&this.m_isCtrl==a.m_isCtrl&&this.m_isShift==a.m_isShift&&this.m_isAlt==a.m_isAlt};cp.getShortCutFromKeyEvent=function(a){return new cp.Shortcut(a.keyCode,1==a.ctrlKey,1==a.shiftKey,1==a.altKey)};cp.KeyHandler=function(a,b,c,d,e){this.m_handler=a;this.m_shortcut=null;if(b instanceof cp.Shortcut)this.m_shortcut=b;this.m_startFrame=c;this.m_endFrame=d;this.m_name=e};cp.KeyHandler.prototype.isValid=
function(){return this.m_handler&&this.m_shortcut};cp.SHIFT=16;cp.CONTROL=17;cp.ALT=18;cp.KeyManager=function(){this.m_keys=[];this.m_shift=this.m_alt=this.m_ctrl=false;this.m_keyHandlers=[]};cp.KeyManager.prototype.handleKeyDown=function(a){a:{var b=false;if(a.keyCode==cp.SHIFT)b=this.m_shift=true;else if(a.keyCode==cp.CONTROL)b=this.m_ctrl=true;else if(a.keyCode==cp.ALT)b=this.m_alt=true;this.m_shift=1==a.shiftKey;this.m_ctrl=1==a.ctrlKey;this.m_alt=1==a.altKey;if(!b){for(b=0;b<this.m_keys.length;++b)if(a.keyCode==
this.m_keys[b])break a;this.m_keys.push(a.keyCode)}}};cp.KeyManager.prototype.handleKeyUp=function(a){this.check(a);a:{var b=false;if(a.keyCode==cp.SHIFT){this.m_shift=false;b=true}else if(a.keyCode==cp.CONTROL){this.m_ctrl=false;b=true}else if(a.keyCode==cp.ALT){this.m_alt=false;b=true}this.m_shift=1==a.shiftKey;this.m_ctrl=1==a.ctrlKey;this.m_alt=1==a.altKey;if(!b)for(b=0;b<this.m_keys.length;++b)if(a.keyCode==this.m_keys[b]){this.m_keys.splice(b,1);break a}}};cp.KeyManager.prototype.handleFocusOut=
function(){this.m_keys=[];this.m_shift=this.m_alt=this.m_ctrl=false};cp.KeyManager.prototype.check=function(a){var b=null,c=cpInfoCurrentFrame,d=0,e=false,f=null;if(this.m_keys.length==0)return false;for(d=0;d<this.m_keyHandlers.length;++d){b=this.m_keyHandlers[d];if(b.m_startFrame<=c&&b.m_endFrame>=c){for(var e=b.m_shortcut,g=false,k=0;k<this.m_keys.length&&!g;++k)e.m_keyCode==this.m_keys[k]&&(g=true);e=g?this.m_ctrl==e.m_isCtrl&&this.m_shift==e.m_isShift&&this.m_alt==e.m_isAlt:false;if(e){f=b;if(b.m_handler(e))return true;
break}}}for(d=0;d<this.m_keyHandlers.length;++d){b=this.m_keyHandlers[d];if(f!=b&&b.m_shortcut.isValid()!=false&&b.m_startFrame<=c&&b.m_endFrame>=c&&b.m_handler(false))return true}var l;if(a.keyCode)l=a.keyCode;else if(a.which)l=a.which;if(l==13||l==32){var m,f="";if(a.target)m=a.target;else if(a.srcElement)m=a.srcElement;if(m.nodeType==3)m=m.parentNode;if(m)f=m.id;if(f!="")for(d=0;d<this.m_keyHandlers.length;++d){b=this.m_keyHandlers[d];if(b.m_name==f&&b.m_startFrame<=c&&b.m_endFrame>=c&&b.m_handler(true))return true}}return false};
cp.KeyManager.prototype.addHandler=function(a){a&&a.isValid()&&this.m_keyHandlers.push(a)};cp.KeyManager.prototype.clearHandlers=function(){this.m_keyHandlers=[]};cp.getGradientSvgStr=function(a,b,c){var d="";if(!a.cs||a.cs.length<2)return"";if(0==a.t){d="linearGradient";if(void 0==a.x1||void 0==a.x2||void 0==a.y1||void 0==a.y2)return""}else if(1==a.t){d="radialGradient";if(void 0==a.cx||void 0==a.cy||void 0==a.r)return""}else return"";var e="<"+d+' id="grad1" gradientUnits="userSpaceOnUse"';if(0==
a.t)e=e+(' x1="'+a.x1+'" y1="'+a.y1+'" x2="'+a.x2+'" y2="'+a.y2+'"');else{e=e+(' cx="'+a.cx+'" cy="'+a.cy+'" r="'+a.r+'"');void 0!=a.tf&&(void 0!=a.tf.x&&void 0!=a.tf.y)&&(e=e+(' gradientTransform="translate('+a.tf.x+" "+a.tf.y+')"'))}var f="pad";void 0!=a.s&&(1==a.s?f="reflect":2==a.s&&(f="repeat"));for(var g="",k=0;k<a.cs.length;++k)var l=a.cs[k],g=g+('<stop offset="'+l.p+'%" style="stop-color:'+l.c+";stop-opacity:"+l.o+'" />');return'<svg xmlns="http://www.w3.org/2000/svg" version="1.1"><defs>'+
(e+(' spreadMethod="'+f+'">'))+g+"</"+d+"></defs>"+('<rect x="0" y="0" width="'+b+'" height="'+c+'" fill="url(#grad1)"/>')+"</svg>"};cp.getGradientFill=function(a,b){if(!b||!a.cs||a.cs.length<2)return null;var c=null;if(0==a.t){if(void 0==a.x1||void 0==a.x2||void 0==a.y1||void 0==a.y2)return null;c=b.createLinearGradient(a.x1,a.y1,a.x2,a.y2)}else if(1==a.t){if(void 0==a.cx||void 0==a.cy||void 0==a.r)return null;var c=a.cx,d=a.cy;if(void 0!=a.tf&&void 0!=a.tf.x&&void 0!=a.tf.y){c=c+a.tf.x;d=d+a.tf.y}c=
b.createRadialGradient(c,d,0,c,d,a.r)}else return null;for(d=0;d<a.cs.length;++d){var e=a.cs[d],f=cp.getRGBA(e.c,e.o);c.addColorStop(e.p/100,f)}return c};cp.drawLineCapStyle=function(a,b,c,d,e,f,g,k,l){if(Math.sqrt((d-b)*(d-b)+(e-c)*(e-c))!=0)switch(k){case 1:cp.drawSquareCap(a,b,c,d,e,f,g,l);break;case 2:cp.drawRoundCap(a,b,c,d,e,f,g,l);break;case 3:cp.drawDiamondCap(a,b,c,d,e,f,g,l);break;case 4:cp.drawArrowCap(a,b,c,d,e,f,g,l)}};cp.drawRoundCap=function(a,b,c,d,e,f,g,k){var l=0,m=0,o=0,l=0,l=Math.sin(0.349),
o=(4+g/(2*l))/2;if(0==k){l=b;m=c}else{l=d;m=e}a.save();a.beginPath();a.arc(l,m,o,0,2*Math.PI,false);a.closePath();a.fillStyle=f;a.fill();a.restore()};cp.drawSquareCap=function(a,b,c,d,e,f,g,k){var l=0,m=0,o=0,n=0,p=n=0,r=0,q=l=0,m=0,m=Math.sin(0.349),l=(4+g/(2*m))/2;if(0==k){m=b;o=c}else{m=d;o=e}n=d-b;if(n==0){n=0;r=p=l;l=0}else{q=(e-c)/n;if(q!=0){n=Math.sqrt(l*l/(q*q+1));p=q*n;q=-1/q;r=Math.sqrt(l*l/(q*q+1));l=q*r}else{n=l;r=p=0}}a.save();a.beginPath();a.moveTo(m-n-r,o-p-l);a.lineTo(m+n-r,o+p-l);
a.lineTo(m+n+r,o+p+l);a.lineTo(m-n+r,o-p+l);a.lineTo(m-n-r,o-p-l);a.closePath();a.fillStyle=f;a.fill();a.restore()};cp.drawDiamondCap=function(a,b,c,d,e,f,g,k){var l=0,m=0,o=0,n=0,p=n=0,r=0,q=l=0,m=0,m=Math.sin(0.349),l=(4+g/(2*m))/2;if(0==k){m=b;o=c}else{m=d;o=e}n=d-b;if(n==0){n=0;r=p=l;l=0}else{q=(e-c)/n;if(q!=0){n=Math.sqrt(l*l/(q*q+1));p=q*n;q=-1/q;r=Math.sqrt(l*l/(q*q+1));l=q*r}else{n=l;r=p=0}}a.save();a.beginPath();a.moveTo(m-n,o-p);a.lineTo(m-r,o-l);a.lineTo(m+n,o+p);a.lineTo(m+r,o+l);a.lineTo(m-
n,o-p);a.closePath();a.fillStyle=f;a.fill();a.restore()};cp.drawArrowCap=function(a,b,c,d,e,f,g,k){var l=0,m=0,o=0,n=0,p=l=n=0,r=0,q=0,u=0,w=r=u=q=0,n=0,n=Math.sqrt((d-b)*(d-b)+(e-c)*(e-c));if(n!=0){q=(d-b)/n;u=(e-c)/n;r=Math.cos(0.349);w=Math.sin(0.349);l=1;g>1&&(l=Math.sqrt(g));var n=g/(2*w),m=6*l+n,o=4+n,n=m*(q*r-u*w),l=m*(u*r+q*w),p=m*(q*r+u*w),r=m*(u*r-q*w),q=o*q,u=o*u,R=m=w=o=g=0,s=0;if(0==k){g=b-q;o=c-u;w=b+n-q;m=c+l-u;R=b+p-q;s=c+r-u}else{g=d+q;o=e+u;w=d-n+q;m=e-l+u;R=d-p+q;s=e-r+u}a.save();
a.beginPath();a.moveTo(g,o);a.lineTo(w,m);a.lineTo(R,s);a.lineTo(g,o);a.closePath();a.fillStyle=f;a.fill();a.restore()}};cp.getPattern=function(a,b,c){var d=[];switch(a){case 1:d[0]=c*b;d[1]=b;break;case 2:d[0]=b;d[1]=b;break;case 3:d[0]=c*b;d[1]=b;d[2]=b;d[3]=b;break;case 4:d[0]=c*b;d[1]=b;d[2]=b;d[3]=b;d[4]=b;d[5]=b;break;default:d[0]=1E4*b;d[1]=0}return d};cp.dashStruct=function(){this.m_drawingDash=true;this.m_offset=this.m_patternIndex=0};cp.drawDashedLineImpl=function(a,b,c,d,e,f,g){var f=f-
d,g=g-e,k=Math.sqrt(f*f+g*g),l=0,m=0,o=0,n=0,p=0;if(0!=k){f=f/k;g=g/k;l=k;m=-c.m_offset;k=c.m_drawingDash;for(o=c.m_patternIndex;m<l;){m=m+b[o];if(m>=l){c.m_offset=b[o]-(m-l);c.m_patternIndex=o;c.m_drawingDash=k;m=l}n=d+m*f;p=e+m*g;k?a.lineTo(n,p):a.moveTo(n,p);k=!k;o=(o+1)%b.length}}};cp.drawDashedLine=function(a,b,c,d,e,f){var f=cp.getPattern(f,7,3),g=new cp.dashStruct;cp.drawDashedLineImpl(a,f,g,b,c,d,e)};cp.drawDashedCurve=function(a,b,c,d,e,f,g,k,l,m,o,n){var p=m=0,r=o=0,q=r=0,u=0,w=-c.m_offset,
s=c.m_drawingDash,v=c.m_patternIndex,t=u=0,x=0,y=q=0,A=p=0,D=0;if(n<0){n=0;m=d;p=e;for(u=1;u<100;++u){r=u/100;q=1-r;o=q*q*m+2*r*q*f+r*r*k;r=q*q*p+2*r*q*g+r*r*l;n=n+Math.sqrt((o-m)*(o-m)+(r-p)*(r-p));m=o;p=r}if(n<0||n==0)return}Math.sqrt((f-d)*(f-d)+(g-e)*(g-e));o=d;r=e;m=f;for(p=g;w<n;){w=w+b[v];if(w>=n){c.m_offset=b[v]-(w-n);c.m_patternIndex=v;c.m_drawingDash=s;w=n}A=o;D=r;u=r-p;t=m-o;x=o*p-r*m;r=w/n;r>1&&(r=1);q=1-r;m=q*d+r*f;p=q*e+r*g;o=q*q*d+2*r*q*f+r*r*k;r=q*q*e+2*r*q*g+r*r*l;q=r-p;y=m-o;p=o*
p-r*m;if(y*u-t*q!=0){m=(t*p-y*x)/(y*u-t*q);p=(u*p-q*x)/(t*q-y*u)}else{m=A;p=D}s?a.quadraticCurveTo(m,p,o,r):a.moveTo(o,r);s=!s;v=(v+1)%b.length}};cp.drawDashedOval=function(a,b,c,d,e,f){var g=0,k=0,l=0,m=0,o=0,n=o=0,p=0,r=0,q=0,u=0,w=0,s=new cp.dashStruct,f=cp.getPattern(f,7,3);e<0&&(e=d);g=Math.PI/4;k=d/Math.cos(g/2);l=e/Math.cos(g/2);a.beginPath();m=0;a.moveTo(b+d,c);q=b+d;u=c;for(w=0;w<8;++w){m=m+g;o=m-g/2;p=b+Math.cos(o)*k;r=c+Math.sin(o)*l;o=b+Math.cos(m)*d;n=c+Math.sin(m)*e;cp.drawDashedCurve(a,
f,s,q,u,p,r,o,n,d,e,-1);q=o;u=n}a.closePath()};cp.drawDashedArc=function(a,b,c,d,e,f,g,k,l){var m=0,o=0,n=0,p=0,r=0,q=r=0,u=0,w=0,s=d-f,v=e,t=0;g<0&&(g=f);m=Math.PI/4;o=f/Math.cos(m/2);n=g/Math.cos(m/2);p=0;a.moveTo(d-f,e);for(t=0;t<16;++t){p=p+m;r=p-m/2;u=d+Math.cos(r)*o;w=e+Math.sin(r)*n;r=d+Math.cos(p)*f;q=e+Math.sin(p)*g;if(p>k&&p<=l){cp.drawDashedCurve(a,b,c,s,v,u,w,r,q,f,g,Math.PI*f/4);s=r;v=q}else if(p<=k){s=r;v=q;a.moveTo(s,v)}else if(p>l)break}};cp.drawDashedRectangle=function(a,b,c,d,e,
f,g){var k=new cp.dashStruct,g=cp.getPattern(g,7,3);f<=0&&(f=0);a.beginPath();a.moveTo(b,c+e-f);cp.drawDashedLineImpl(a,g,k,b,c+e-f,b,c+f);f>0&&cp.drawDashedArc(a,g,k,b+f,c+f,f,f,Math.PI,3*Math.PI/2);cp.drawDashedLineImpl(a,g,k,b+f,c,b+d-f,c);f>0&&cp.drawDashedArc(a,g,k,b+d-f,c+f,f,f,3*Math.PI/2,2*Math.PI);cp.drawDashedLineImpl(a,g,k,b+d,c+f,b+d,c+e-f);f>0&&cp.drawDashedArc(a,g,k,b+d-f,c+e-f,f,f,2*Math.PI,5*Math.PI/2);cp.drawDashedLineImpl(a,g,k,b+d-f,c+e,b+f,c+e);f>0&&cp.drawDashedArc(a,g,k,b+f,
c+e-f,f,f,Math.PI/2,Math.PI);a.closePath()};cp.drawDashedPolyLine=function(a,b,c){var d=new cp.dashStruct,c=cp.getPattern(c,7,3),e=0,f=0,g=0,k=0,l=0;if(0!=b.length){e=b[0].x;f=b[0].y;a.beginPath();a.moveTo(e,f);for(l=1;l<b.length;++l){g=b[l].x;k=b[l].y;cp.drawDashedLineImpl(a,c,d,e,f,g,k);e=g;f=k}g=b[0].x;k=b[0].y;cp.drawDashedLineImpl(a,c,d,e,f,g,k);a.closePath()}};cp.moveTo=function(a,b,c){a.moveTo(b,c)};cp.lineTo=function(a,b,c){a.lineTo(b,c)};cp.bezierCurveTo=function(a,b,c,d,e,f,g){a.bezierCurveTo(b,
c,d,e,f,g)};cp.getBezierLength=function(a,b,c,d,e,f,g,k,l){for(var m=0,o=0,n=0,p=0,r=0,o=0,q=a,u=b,m=1;m<l;++m){o=m/l;n=1-o;r=n*n*n*a+3*o*n*n*c+3*o*o*n*e+o*o*o*g;o=n*n*n*b+3*o*n*n*d+3*o*o*n*f+o*o*o*k;p=p+Math.sqrt((r-q)*(r-q)+(o-u)*(o-u));q=r;u=o}return p};cp.getCPSlideData=function(){var a=[],b=cp.movie.stage.slides.length;for(i=0;i<b;++i){var c=cp.D[cp.movie.stage.slides[i]],d={};d.slideNumber=i+1;d.title=c.lb;d.idealTime=(c.to-c.from+1)/cpInfoFPS;d.isQuestionSlide=false;if(cp.movie.playbackController)if(c=
cp.movie.playbackController.GetQuizController()){c=c.GetSlideType(i);d.isQuestionSlide=c=="Question"?true:false}d.isEndSlide=false;a[i]=d}d.isEndSlide=true;return a};cp.doesCourseHasQuiz=function(){return!cp.movie.playbackController?false:cp.movie.playbackController.HasQuiz()};cp.drawDashedBezierCurve=function(a,b,c,d,e,f,g,k,l,m,o){var n=0,p=0,r=0,q=0,u=n=0,w=3,u=-c.m_offset,s=c.m_drawingDash,v=c.m_patternIndex,t=0,x=0,y=0,q=0,A=false,r=cp.getBezierLength(d,e,f,g,k,l,m,o,100);if(!(r<=0))for(;u<r;){y=
u;t=b[v];if(u+t>=r){c.m_offset=b[v]-(u+t-r);c.m_patternIndex=v;c.m_drawingDash=s;t=r-u;t>r&&(t=r);A=true;if(!s){a.moveTo(m,o);break}}else{if(u<0){for(q=u;q<0;)q=q+t;t=q;u=0}c.m_offset=0;c.m_patternIndex=0;c.m_drawingDash=true}y<0&&(y=0);if(s&&t>0){t>r&&(t=r);w=t>3?3:t;x=t;do{y=x>w?y+w:y+x;n=y/r;p=1-n;if(n>=1){q=m;n=o}else{q=p*p*p*d+3*n*p*p*f+3*n*n*p*k+n*n*n*m;n=p*p*p*e+3*n*p*p*g+3*n*n*p*l+n*n*n*o}a.lineTo(q,n);x=x-w}while(x>0);if(A)break}else{n=(u+t)/r;p=1-n;if(n>=1){q=m;n=o}else{q=p*p*p*d+3*n*p*
p*f+3*n*n*p*k+n*n*n*m;n=p*p*p*e+3*n*p*p*g+3*n*n*p*l+n*n*n*o}a.moveTo(q,n)}s=!s;v=(v+1)%b.length;u<0&&(u=0);u=u+t}};cp.Canvas=function(a){this.element=a;this.gc=a.getContext("2d")};cp.createCanvas=function(a,b,c,d,e){e||(e=cp.newElem("canvas"));e.width=c;e.height=d;e.style.width=c+"px";e.style.height=d+"px";e.left=a;e.top=b;e.style.left=a+"px";e.style.top=b+"px";return new cp.Canvas(e)};if(typeof PPTXLib=="undefined"||PPTXLib==void 0){cp.dummyPPTXLib={};PPTXLib=cp.dummyPPTXLib;PPTXLib.PptxAnimatableDisplayItem=
function(){};PPTXLib.PptxAnimatableDisplayItem.prototype.updateEffects=function(){};PPTXLib.initializeAnimationManagerForCPSlide=function(){};PPTXLib.hasAnimationInfo=function(){return false};PPTXLib.updateNoSkipFramesFromEffectData=function(){};PPTXLib.updateAnimationManager=function(){};PPTXLib.initializePPTXLibrary=function(){};PPTXLib.processTriggerForObject=function(){}}cp.DisplayObject=function(a){var b=cp.D[a.id];if(b){this.isCpObject=true;b.isCpObject=true}cp.DisplayObject.baseConstructor.call(this,
a.id,b);this.element=a;this.hasEffect=this.getAttribute("JSONEffectData")};cp.inherits(cp.DisplayObject,PPTXLib.PptxAnimatableDisplayItem);cp.DisplayObject.prototype.forEachChild=function(a){if(this.children)for(var b=this.children,c=b.length,d=0;d<c;++d)a(b[d])};cp.DisplayObject.prototype.updateFrame=function(){this.updateEffects(this.hasEffect);this.forEachChild(function(a){a.updateFrame()})};cp.DisplayObject.prototype.updateEffects=function(a){cp.DisplayObject.superClass.updateEffects.call(this,
a);if(this.actualParent&&a){var a=cp.D[this.actualParent.id],b=a.from;if(!a.rp&&!a.rpa)if(cpInfoCurrentFrame<=b+2){cp.verbose&&cp.log("hiding "+this.parentDivName);b=this.visible;cp.hide(this.parentDivName);a.hiddenFromFrame=cpInfoCurrentFrame;a.hiddenFromFlicker=true;this.visible=b}else if(a.hiddenFromFlicker&&this.visible){cp.verbose&&cp.log("showing "+this.parentDivName);cp.show(this.parentDivName);a.hiddenFromFlicker=false}}};cp.DisplayObject.prototype.drawComplete=function(){if(!this.isRegistered){cp.verbose&&
cp.log("draw completed: "+this.element.id);var a=cp.movie.stage.getCurrentSlideInteractionManager();a!=null&&a.registerDisplayObject(this.element.id)}};cp.DisplayObject.prototype.setTransformOrigin=function(a){var b=cp.D[cp.D[a.id].dn],c=b.xorig,b=b.yorig,d="0px",e="0px";if(this.actualParent){parseFloat(this.actualParent.style.left);parseFloat(this.actualParent.style.top);d=parseFloat(this.actualParent.style.width);e=parseFloat(this.actualParent.style.height);d=c*d+"px";e=b*e+"px"}c=d+" "+e;if(a!=
void 0){a.parentElement.style["-ms-transform-origin"]=c;a.parentElement.style["-moz-transform-origin"]=c;a.parentElement.style["-webkit-transform-origin"]=c;a.parentElement.style["-o-transform-origin"]=c;a.parentElement.style["transform-origin"]=c}};cp.DisplayObject.prototype.start=function(a){if(!this.effectIsStarted||a){this.updateEffects();this.effectIsStarted=true}this.forEachChild(function(b){b.start(a)})};cp.DisplayObject.prototype.reset=function(a){this.isRegistered=false;this.forEachChild(function(b){b.reset(a)})};
cp.DisplayObject.prototype.onEndOfMovie=function(){this.forEachChild(function(a){a.onEndOfMovie()})};cp.DisplayObject.prototype.getAttribute=function(a){var b=cp.D[this.element.id];return!b?null:b[a]};cp.DisplayObject.prototype.setAttribute=function(a,b){var c=cp.D[this.element.id];c&&(c[a]=b)};cp.DisplayObject.prototype.restOfProjectDoOnNewSlide=function(){};cp.DisplayObject.prototype.deleteFromRopMap=function(a){delete cp.ropMap[a.id]};cp.ResultSlideLabel=function(a,b){cp.ResultSlideLabel.baseConstructor.call(this,
a);this.id=this.getAttribute("id");this.visible=this.getAttribute("visible");this.textAlign=this.getAttribute("ta");this.bold=this.getAttribute("B");this.color=this.getAttribute("c");this.font=this.getAttribute("f");this.italic=this.getAttribute("i");this.size=this.getAttribute("sz");this.underline=this.getAttribute("u");this.parentDivName=this.getAttribute("dn");this.quizParam=this.getAttribute("qp");var c="";if(cp.movie.playbackController){var d=cp.movie.playbackController.GetQuizController();if(d){if(this.quizParam!=
null)c=d.GetParameterValueByName(this.quizParam);else if(cp.movie.playbackController.HasQuiz()){this.textAlign="left";c=d.GetIsPassed()?d.GetPassedScoreFeedback():d.GetFailedScoreFeedback()}this.text=c;c=this.getAttribute("b");this.bounds={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3]};this.tr=this.getAttribute("tr");this.re=this.getAttribute("re");this.sh=this.getAttribute("sh");c=this.getAttribute("vb");this.vbounds={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3]};if(this.element){this.element.parentElement.drawingBoard=
this.element.parentElement;this.element.parentElement.bounds=this.bounds}this.args=b;this.isDrawn=false}}};cp.inherits(cp.ResultSlideLabel,cp.DisplayObject);cp.ResultSlideLabel.prototype.start=function(a){this.addIfNeeded();if(!this.effectIsStarted||a){this.updateEffects(this.hasEffect);this.effectIsStarted=true}};cp.ResultSlideLabel.prototype.reset=function(){delete cp.ropMap[this.element.id];this.isDrawn=false;this.element.width="0";this.element.height="0";this.element.style.width="0px";this.element.style.height=
"0px";this.element.left="0";this.element.top="0";this.element.style.left="0px";this.element.style.top="0px"};cp.ResultSlideLabel.prototype.addIfNeeded=function(){if(!this.isDrawn){var a=cp.newElem("div");a.id="re-"+this.element.id;cp.fixWebkitScaling(a);this.element.parentElement.style.position="absolute";this.element.parentElement.style.left=this.vbounds.minX+"px";this.element.parentElement.style.top=this.vbounds.minY+"px";this.element.parentElement.style.width=this.vbounds.maxX-this.vbounds.minX+
"px";this.element.parentElement.style.height=this.vbounds.maxY-this.vbounds.minY+"px";a.style.position="absolute";a.style.left=this.vbounds.minX+"px";a.style.top=this.vbounds.minY+"px";a.style.width=this.vbounds.maxX-this.vbounds.minX+"px";a.style.height=this.vbounds.maxY-this.vbounds.minY+"px";this.element.style.left="0px";this.element.style.top="0px";this.element.style.width="100%";if(this.sh)this.element.style.textShadow=this.sh.d*Math.cos(Math.PI*this.sh.a/180)+"px "+this.sh.d*Math.sin(Math.PI*
this.sh.a/180)+"px "+this.sh.b+"px "+cp.ConvertRGBToRGBA(this.sh.c,this.sh.o)+(this.sh.i?" inset":"");if(this.re)a.style.webkitBoxReflect="below "+this.re.d+"px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop("+(1-this.re.s/100)+", transparent), to(rgba(255, 255, 255, "+(1-this.re.p/100)+")))";this.element.style.position="absolute";this.element.style.textAlign=this.textAlign;this.element.style.verticalAlign="middle";this.element.style.color=this.color;this.element.style.fontFamily=
this.font;this.element.style.fontSize=this.size+"px";this.element.style.fontWeight=this.bold?"bold":"normal";this.element.style.fontStyle=this.italic?"italic":"normal";this.element.style.textDecoration=this.underline?"underline":"none";if(this.element.innerHTML=="")this.element.innerHTML=this.element.innerHTML+this.text;this.element.parentNode.removeChild(this.element);cp.movie.stage.getSlideDiv();cp.addRewrapObjectAsPerRestOfProjectItem(a);a.setAttribute("class","cp-rewrap");a.appendChild(this.element);
a.setAttribute("tabIndex",-1);this.zIndex=cp.D[this.parentDivName].zIndex;a.style.zIndex=this.zIndex;this.actualParentElem=cp(this.parentDivName);this.actualParentElem.setAttribute("tabIndex",-1);cp.createAlternativeAccessibleText(this.actualParentElem,this.text);cp.removeAccessibilityOutline(this.actualParentElem);this.isDrawn=true;this.visible||cp.hide(this.parentDivName);var b=cp.newElem("div");b.style.color=this.element.style.color;b.style.fontFamily=this.element.style.fontFamily;b.style.fontSize=
this.element.style.fontSize;b.style.fontWeight=this.element.style.fontWeight;b.style.fontStyle=this.element.style.fontStyle;b.style.textDecoration=this.element.style.textDecoration;if(this.sh)b.style.textShadow=this.element.style.textShadow;b.style.visibility="hidden";b.innerHTML=this.element.innerHTML;document.body.appendChild(b);a=b.clientHeight;document.body.removeChild(b);b=this.vbounds.maxY-this.vbounds.minY;if(a>0&&b>0&&a<=b)this.element.style.top=(b-a)/2+"px"}};cp.HighlightBox=function(a,b){cp.HighlightBox.baseConstructor.call(this,
a);this.visible=this.getAttribute("visible");this.parentDivName=this.getAttribute("dn");this.transIn=cp.D[this.parentDivName].trin;var c=this.getAttribute("b"),d=document.getElementById(this.parentDivName);this.actualParent=d;this.bounds={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3]};c=this.getAttribute("vb");this.vbounds={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3],width:c[2]-c[0],height:c[3]-c[1]};if(d){d.drawingBoard=this.element.parentElement;d.bounds=this.bounds;d.drawingBoard.bounds=this.vbounds}this.args=
b;this.isDrawn=false;this.tr=this.getAttribute("tr");this.sh=this.getAttribute("sh");this.re=this.getAttribute("re");this.fillColor=this.getAttribute("fc");this.strokeColor=this.getAttribute("sc");this.strokeWidth=this.getAttribute("sw");this.fillOpacity=this.getAttribute("fo")/100;this.fillOuterArea=this.getAttribute("foa")};cp.inherits(cp.HighlightBox,cp.DisplayObject);cp.HighlightBox.prototype.start=function(a){this.drawIfNeeded();if(!this.effectIsStarted||a){this.updateEffects(this.hasEffect);
this.effectIsStarted=true}};cp.HighlightBox.prototype.reset=function(){delete cp.ropMap[this.element.id];this.isDrawn=false;this.element.width="0";this.element.height="0";this.element.style.width="0px";this.element.style.height="0px";this.element.left="0";this.element.top="0";this.element.style.left="0px";this.element.style.top="0px"};cp.HighlightBox.prototype.drawIfNeeded=function(){if(!this.isDrawn){var a=this.bounds,b=this.vbounds,c=this.fillColor,d=this.strokeColor,e=this.strokeWidth,f=this.fillOpacity,
g=this.fillOuterArea,k=a.minX,l=a.minY,m=a.maxX-a.minX,o=a.maxY-a.minY,n=this.actualParent;n.style.left=k+"px";n.style.top=l+"px";n.style.width=m+"px";n.style.height=o+"px";var p=k=0,r=a.maxX-a.minX,q=a.maxY-a.minY,p=false,p=this.re||this.sh&&!this.sh.i||this.fillOuterArea,u=this.tr!=void 0,k=0<b.minX&&p?0:b.minX,l=0<b.minY&&p?0:b.minY,o=p&&cp.D.project.h>b.maxY?cp.D.project.h:b.maxY,m=(p&&cp.D.project.w>b.maxX?cp.D.project.w:b.maxX)-k,o=o-l,b=this.canvas=cp.createCanvas(0,0,m,o,this.element);if(this.tr){cp.applyTransform(n,
this.tr);n.tr=this.tr}this.element.style.display="block";this.element.style.position="absolute";this.element.parentElement.style.left=this.vbounds.minX+"px";this.element.parentElement.style.top=this.vbounds.minY+"px";this.element.parentElement.style.width=this.vbounds.maxX-this.vbounds.minX+"px";this.element.parentElement.style.height=this.vbounds.maxY-this.vbounds.minY+"px";this.element.style.marginLeft=k-this.vbounds.minX+"px";this.element.style.marginTop=l-this.vbounds.minY+"px";if(this.re)this.element.parentElement.style.webkitBoxReflect=
"below "+this.re.d+"px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop("+(1-this.re.s/100)+", transparent), to(rgba(255, 255, 255, "+(1-this.re.p/100)+")))";cp.movie.stage.addToParentChildMap(n.id,this.element.id);this.element.originalParent=n;n=b.gc;n.save();var w=b=0;if(p){b=k<0?-k:0;w=l<0?-l:0;n.translate(b,w);n.setTransform(1,0,0,1,b,w)}else u&&n.translate(m/2,o/2);n.fillStyle=cp.ConvertColorToRGBA(c,f);n.lineWidth=0;if(g){n.fillRect(0,0,m,o);n.fillStyle="rgba(0,0,0,0)"}if(this.sh&&
!this.sh.i){n.shadowOffsetX=this.sh.d*Math.cos(Math.PI*this.sh.a/180);n.shadowOffsetY=this.sh.d*Math.sin(Math.PI*this.sh.a/180);n.shadowBlur=this.sh.b;n.shadowColor=cp.ConvertRGBToRGBA(this.sh.c,this.sh.o)}c=0;this.tr&&(c=cp.getAngleFromRotateStr(this.tr));p&&n.translate((a.minX+a.maxX)/2,(a.minY+a.maxY)/2);c?n.rotate(Math.PI*c/180):this.sh&&n.rotate(Math.PI*0.02/180);k=!p&&!u?0+e/2:(a.minX-a.maxX)/2;p=!p&&!u?0+e/2:(a.minY-a.maxY)/2;n.lineWidth=e;n.lineJoin="miter";n.lineCap="square";n.strokeStyle=
d;n.rect(k,p,r,q);e!=0&&n.stroke();n.fill();if(e!=0){n.shadowOffsetX=0;n.shadowOffsetY=0;n.shadowBlur=0;n.shadowColor="rgba(0,0,0,0)";n.stroke()}g&&n.clearRect(k+e/2,p+e/2,r-e,q-e);n.restore();this.isDrawn=true;this.drawComplete();if(this.transIn)this.element.parentElement.style.opacity=0;this.visible||cp.hide(this.parentDivName)}};cp.Zoom=function(a,b){cp.Zoom.baseConstructor.call(this,a);this.visible=this.getAttribute("visible");this.parentDivName=this.getAttribute("dn");var c=cp.D[this.parentDivName];
this.transIn=c.trin;var d=this.getAttribute("b"),e=document.getElementById(this.parentDivName);this.actualParent=e;this.bounds={minX:d[0],minY:d[1],maxX:d[2],maxY:d[3]};d=this.getAttribute("db");this.destbounds={minX:d[0],minY:d[1],maxX:d[2],maxY:d[3]};this.vbounds=this.bounds;if(e){e.drawingBoard=this.element.parentElement;e.bounds=this.bounds;e.drawingBoard.bounds=this.vbounds}this.args=b;this.isDrawn=false;this.tr=this.getAttribute("tr");this.fillColor=this.getAttribute("fc");this.strokeColor=
this.getAttribute("sc");this.strokeWidth=this.getAttribute("sw");this.fillOpacity=this.getAttribute("fo")/100;this.fillOuterArea=this.getAttribute("foa");this.destfillColor=this.getAttribute("dfc");this.deststrokeColor=this.getAttribute("dsc");this.deststrokeWidth=this.getAttribute("dsw");this.destfillOpacity=this.getAttribute("dfo")/100;this.zoomfor=this.getAttribute("zf");this.from=c.from;this.to=c.to;this.currImage=this.getAttribute("ip");this.prevDrawnFrame=0};cp.inherits(cp.Zoom,cp.DisplayObject);
cp.Zoom.prototype.start=function(a){this.drawIfNeeded();if(!this.effectIsStarted||a){this.updateEffects(this.hasEffect);this.effectIsStarted=true}};cp.Zoom.prototype.updateFrame=function(){this.drawIfNeeded()};cp.Zoom.prototype.reset=function(){delete cp.ropMap[this.element.id];this.isDrawn=false;this.prevDrawnFrame=0;this.element.width="0";this.element.height="0";this.element.style.width="0px";this.element.style.height="0px";this.canvas=null;this.element.left="0";this.element.top="0";this.element.style.left=
"0px";this.element.style.top="0px"};cp.Zoom.prototype.drawIfNeeded=function(){var a=cpInfoCurrentFrame-this.from+1;if(a>0&&a<=this.zoomfor)this.isDrawn=false;else{if(this.isDrawn)return;a=this.zoomfor}if(this.prevDrawnFrame!=a){this.prevDrawnFrame=a;var b=this.bounds,c=this.destbounds,d=this.fillColor,e=this.strokeColor,f=this.strokeWidth,g=this.fillOpacity,k=this.fillOuterArea,l=this.destfillColor,m=this.deststrokeColor,o=this.deststrokeWidth,n=this.destfillOpacity,p=b.maxX-b.minX,r=b.maxY-b.minY,
q=0,u=0,w=c.maxX-c.minX,s=c.maxY-c.minY,v=c.minX,c=c.minY,q=this.actualParent;if(!this.canvas){var u=b.minY,t=b.maxX-b.minX,x=b.maxY-b.minY;q.style.left=b.minX+"px";q.style.top=u+"px";q.style.width=t+"px";q.style.height=x+"px";t=cp.D.project.w;x=cp.D.project.h;this.canvas=cp.createCanvas(0,0,t,x,this.element);this.element.style.display="block";this.element.style.position="absolute";this.element.parentElement.style.left=this.vbounds.minX+"px";this.element.parentElement.style.top=this.vbounds.minY+
"px";this.element.parentElement.style.width=this.vbounds.maxX-this.vbounds.minX+"px";this.element.parentElement.style.height=this.vbounds.maxY-this.vbounds.minY+"px";this.element.style.marginLeft=-this.vbounds.minX+"px";this.element.style.marginTop=-this.vbounds.minY+"px";cp.movie.stage.addToParentChildMap(q.id,this.element.id);this.element.originalParent=q}t=this.canvas.gc;t.clearRect(0,0,cp.D.project.w,cp.D.project.h);t.beginPath();q=b.minX;u=b.minY;if(k){t.fillStyle=cp.ConvertColorToRGBA(d,g);
t.lineWidth=0;t.fillRect(0,0,cp.D.project.w,cp.D.project.h);t.fillStyle="rgba(0,0,0,0)";t.lineWidth=f;t.lineJoin="miter";t.lineCap="square";t.strokeStyle=e;t.rect(q,u,p,r);f!=0&&t.stroke();t.clearRect(q+f/2,u+f/2,p-f,r-f);t.beginPath()}for(var k=parseInt(d.substr(1,2),16),b=parseInt(d.substr(3,2),16),d=parseInt(d.substr(5,2),16),y=parseInt(l.substr(1,2),16),x=parseInt(l.substr(3,2),16),l=parseInt(l.substr(5,2),16),A="#",k=Math.round(k+(y-k)*a/this.zoomfor).toString(16);k.length<2;)k="0"+k;A=A+k;for(k=
Math.round(b+(x-b)*a/this.zoomfor).toString(16);k.length<2;)k="0"+k;A=A+k;for(k=Math.round(d+(l-d)*a/this.zoomfor).toString(16);k.length<2;)k="0"+k;q=q+(v-q)*a/this.zoomfor;u=u+(c-u)*a/this.zoomfor;p=p+(w-p)*a/this.zoomfor;r=r+(s-r)*a/this.zoomfor;t.fillStyle=cp.ConvertColorToRGBA(A+k,g+(n-g)*a/this.zoomfor);f=f+(o-f)*a/this.zoomfor;t.lineWidth=f;t.lineJoin="miter";t.lineCap="square";k=parseInt(e.substr(1,2),16);b=parseInt(e.substr(3,2),16);d=parseInt(e.substr(5,2),16);y=parseInt(m.substr(1,2),16);
x=parseInt(m.substr(3,2),16);l=parseInt(m.substr(5,2),16);A="#";for(k=Math.round(k+(y-k)*a/this.zoomfor).toString(16);k.length<2;)k="0"+k;A=A+k;for(k=Math.round(b+(x-b)*a/this.zoomfor).toString(16);k.length<2;)k="0"+k;A=A+k;for(k=Math.round(d+(l-d)*a/this.zoomfor).toString(16);k.length<2;)k="0"+k;t.strokeStyle=A+k;t.rect(q,u,p,r);t.fill();f!=0&&t.stroke();(e=cp.movie.im.images[this.currImage])&&e.nativeImage.complete&&t.drawImage(e.nativeImage,q,u,p,r);if(a==this.zoomfor)this.isDrawn=true;if(this.transIn&&
a==1)this.element.parentElement.style.opacity=0;this.visible||cp.hide(this.parentDivName)}};cp.AnimationItem=function(a,b){cp.AnimationItem.baseConstructor.call(this,a);this.visible=this.getAttribute("visible");this.imgSrc=this.getAttribute("ip");var c=this.getAttribute("b");this.bounds={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3]};this.tr=this.getAttribute("tr");this.re=this.getAttribute("re");this.sh=this.getAttribute("sh");this.alpha=this.getAttribute("a");c=this.getAttribute("vb");this.vbounds={minX:c[0],
minY:c[1],maxX:c[2],maxY:c[3]};this.parentDivName=this.getAttribute("dn");this.parentData=cp.D[this.parentDivName];this.isParentOfTypeSlide=void 0==this.parentData.type;this.modifyParent=!this.isParentOfTypeSlide;this.actualParent=document.getElementById(this.parentDivName);if(this.element){if(this.actualParent)this.actualParent.drawingBoard=this.element;this.element.parentElement.drawingBoard=this.element.parentElement;this.element.parentElement.bounds=this.bounds;cp.movie.stage.addToParentChildMap(this.actualParent.id,
this.element.id)}this.args=b;this.isDrawn=false};cp.inherits(cp.AnimationItem,cp.DisplayObject);cp.AnimationItem.prototype.start=function(a){this.addIfNeeded();if(!this.effectIsStarted||a){this.updateEffects(this.hasEffect);this.effectIsStarted=true}};cp.AnimationItem.prototype.reset=function(){delete cp.ropMap[this.element.id];this.isDrawn=false;this.element.width="0";this.element.height="0";this.element.style.width="0px";this.element.style.height="0px";this.element.left="0";this.element.top="0";
this.element.style.left="0px";this.element.style.top="0px";this.element.style.display="none"};cp.AnimationItem.prototype.addIfNeeded=function(){if(!this.isDrawn){var a=this.bounds;this.element.style.width=a.maxX-a.minX+"px";this.element.style.height=a.maxY-a.minY+"px";this.element.style.verticalAlign="middle";var b=0;this.element.parentElement.style.position="absolute";this.element.parentElement.style.left=this.vbounds.minX+"px";this.element.parentElement.style.top=this.vbounds.minY+"px";this.element.parentElement.style.width=
this.vbounds.maxX-this.vbounds.minX+"px";this.element.parentElement.style.height=this.vbounds.maxY-this.vbounds.minY+"px";this.element.style.marginLeft=-(this.vbounds.minX-a.minX)+"px";this.element.style.marginTop=-(this.vbounds.minY-a.minY)+"px";this.element.style.display="block";this.element.style.position="absolute";this.element.rotateAngle=b;var c=this.modifyParent&&!this.isParentOfTypeSlide,d=this.actualParent;if(d){var a=this.bounds,e=a.minX,f=a.minY,g=a.maxX-a.minX,a=a.maxY-a.minY;if(c){d.style.left=
e+"px";d.style.top=f+"px";d.style.width=g+"px";d.style.height=a+"px"}if(this.tr){if(c){cp.applyTransform(d,this.tr);d.tr=this.tr}b=cp.getAngleFromRotateStr(this.tr)}if(c)d.rotateAngle=b}if(this.tr){cp.applyTransform(this.element,this.tr);this.element.tr=this.tr}this.actualDrawingElement=this.element;this.element.innerHTML="<img id='"+this.element.id+"imgSrc' src='"+this.imgSrc+"' alt=' ' style='width:"+(this.vbounds.maxX-this.vbounds.minX)+"px; height:"+(this.vbounds.maxY-this.vbounds.minY)+"px'/>";
c=document.getElementById(this.element.id+"imgSrc");if(this.sh&&!this.sh.i){b=this.sh.a-b;cp.applyShadow(c,this.sh.d*Math.cos(Math.PI*b/180)+"px "+this.sh.d*Math.sin(Math.PI*b/180)+"px "+this.sh.b+"px "+cp.ConvertRGBToRGBA(this.sh.c,this.sh.o)+(this.sh.i?" inset":""))}if(this.re)this.element.parentElement.style.webkitBoxReflect="below "+this.re.d+"px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop("+(1-this.re.s/100)+", transparent), to(rgba(255, 255, 255, "+(1-this.re.p/
100)+")))";this.isDrawn=true;this.drawComplete();this.visible||cp.hide(this.parentDivName)}};cp.TextAnimation=function(a,b){cp.TextAnimation.baseConstructor.call(this,a);this.visible=this.getAttribute("visible");this.bold=this.getAttribute("B");this.color=this.getAttribute("c");this.font=this.getAttribute("f");this.italic=this.getAttribute("i");this.size=this.getAttribute("sz");this.text=this.getAttribute("text");this.m_delay=this.getAttribute("del");this.m_letterCount=this.getAttribute("nchar");
this.m_loop=this.getAttribute("l");this.animType=this.getAttribute("animT");this.m_TextAnimationObj=this;switch(this.animType){case "Typing Text":this.m_TextAnimationObj=new cp.TypingTextAnimation(a,this.m_loop,this.m_letterCount,this.m_delay);break;case "Typing Text With Sound":this.m_TextAnimationObj=new cp.TypingTextAnimation(a,this.m_loop,this.m_letterCount,this.m_delay,true);break;default:this.m_TextAnimationObj=this}var c=this.getAttribute("b");this.bounds={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3]};
this.tr=this.getAttribute("tr");this.re=this.getAttribute("re");this.sh=this.getAttribute("sh");this.alpha=this.getAttribute("a");c=this.getAttribute("vb");this.vbounds={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3]};this.parentDivName=this.getAttribute("dn");if(this.element){if(c=document.getElementById(this.parentDivName))c.drawingBoard=this.element;this.actualParent=c;this.element.parentElement.drawingBoard=this.element.parentElement;this.element.parentElement.bounds=this.bounds;cp.movie.stage.addToParentChildMap(c.id,
this.element.id)}this.args=b;this.isDrawn=false};cp.inherits(cp.TextAnimation,cp.DisplayObject);cp.TextAnimation.prototype.start=function(a){this.addIfNeeded();if(!this.effectIsStarted||a){this.updateEffects(this.hasEffect);this.effectIsStarted=true}};cp.TextAnimation.prototype.reset=function(){this.m_TextAnimationObj!=this&&this.m_TextAnimationObj.reset();delete cp.ropMap[this.element.id];this.isDrawn=false;this.element.width="0";this.element.height="0";this.element.style.width="0px";this.element.style.height=
"0px";this.element.left="0";this.element.top="0";this.element.style.left="0px";this.element.style.top="0px";this.element.style.display="none"};cp.TextAnimation.prototype.draw=function(){this.element.innerHTML=this.text};cp.TextAnimation.prototype.addIfNeeded=function(){if(!this.isDrawn){var a=this.bounds,b=-a.minX+a.maxX;this.actualDrawingElement=this.element;this.element.style.width=(cp.device==cp.IDEVICE?b*1.5:b)+"px";this.element.style.height=a.maxY-a.minY+"px";this.element.style.verticalAlign=
"middle";var c=0;if(this.tr){cp.applyTransform(this.element,this.tr);c=cp.getAngleFromRotateStr(this.tr);this.element.tr=this.tr}this.element.rotateAngle=c;if(this.sh){var b=this.sh.d*Math.cos(Math.PI*this.sh.a/180),d=this.sh.d*Math.sin(Math.PI*this.sh.a/180),e=b,f=d;if(c!=0){for(e=c;e<0;)e=360+c;e=360-c;c=Math.sin(Math.PI*e/180);f=Math.cos(Math.PI*e/180);e=b*f-d*c;f=b*c+d*f}this.element.style.textShadow=e+"px "+f+"px "+this.sh.b+"px "+cp.ConvertRGBToRGBA(this.sh.c,this.sh.o)+(this.sh.i?" inset":
"")}if(this.re)this.element.parentElement.style.webkitBoxReflect="below "+this.re.d+"px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop("+(1-this.re.s/100)+", transparent), to(rgba(255, 255, 255, "+(1-this.re.p/100)+")))";this.element.parentElement.style.position="absolute";this.element.parentElement.style.left=this.vbounds.minX+"px";this.element.parentElement.style.top=this.vbounds.minY+"px";this.element.parentElement.style.width=(cp.device==cp.IDEVICE?(this.vbounds.maxX-
this.vbounds.minX)*1.5:this.vbounds.maxX-this.vbounds.minX)+"px";this.element.parentElement.style.height=this.vbounds.maxY-this.vbounds.minY+"px";this.element.style.marginLeft=-(this.vbounds.minX-a.minX)+"px";this.element.style.marginTop=-(this.vbounds.minY-a.minY)+"px";this.element.style.display="block";this.element.style.position="absolute";this.element.style.color=this.color;this.element.style.fontFamily=this.font;this.element.style.fontSize=this.size+"px";this.element.style.lineHeight="100%";
this.element.style.opacity=this.alpha;this.element.setAttribute("aria-hidden","true");this.element.style.fontWeight=this.bold?"bold":"normal";this.element.style.fontStyle=this.italic?"italic":"normal";this.m_TextAnimationObj.draw(this.text);this.isDrawn=true;this.drawComplete();this.visible||cp.hide(this.parentDivName)}};cp.TypingTextAnimation=function(a,b,c,d,e){this.element=a;this.loop=b;this.letterCount=c;this.delay=d;this.hasAudio=e;this.canPlayAnimation=false;this.lTimer=void 0};cp.TypingTextAnimation.prototype.reset=
function(){clearInterval(this.lTimer);this.lTimer=void 0;this.canPlayAnimation=false};cp.TypingTextAnimation.prototype.draw=function(a){this.text=a;var a=this.delay*1E3/cpInfoFPS,b=this,c=0;this.txtElement=cp.newElem("div");this.txtElement.id=this.element.id+"_txt";this.txtElement.style.display="inline";this.element.appendChild(b.txtElement);this.cursorElement=cp.newElem("div");this.cursorElement.id=this.element.id+"_cursor";this.cursorElement.style.display="inline";this.element.appendChild(b.cursorElement);
this.canPlayAnimation=true;this.lTimer=setInterval(function(){if(!cp.movie.paused)if(b.canPlayAnimation){var a;if(c>=b.text.length)a=void 0;else{a="";var d=false,e=d=false;a=b.text[c];if(a=="&"){var d=true,l="",m=0;do{l=l+a;c++;m++;a=b.text[c];if(a=="&"&&d){c=c-(m-1);break}if(a==";"&&d){l=l+a;c++;a=b.text[c];d=false;e=true}if(l=="&nbsp;"){cp.verbose&&cp.log("Next Characters : "+b.text.substring(c,c+18));b.text.substring(c,c+18)=="&nbsp;&nbsp;&nbsp;"&&(l=l+b.text.substring(c,c+18));break}}while(!e);
c--;a=l}else if(a=="<"){d=true;l="";m=0;do{l=l+a;c++;m++;a=b.text[c];if(a=="<"&&d){c=c-(m-1);break}if(a==">"&&d){l=l+a;l!="<br>"&&(c=c-m);break}}while(a!=">");a=l}c++}if(a!=void 0){b.hasAudio&&(b.element.style.visibility!="hidden"||b.element.style.display!="block")&&cp.movie.am.playKeyTap();b.txtElement.innerHTML=b.txtElement.innerHTML+a}else if(b.loop){c=0;b.txtElement.innerHTML=""}else{clearInterval(b.lTimer);b.lTimer=void 0}}else{clearInterval(b.lTimer);b.lTimer=void 0}},a);var d=true,e=setInterval(function(){if(cp.movie.paused)b.cursorElement.innerHTML=
"";else if(b.lTimer!=void 0){b.cursorElement.innerHTML=d?"|":"";d=!d}else if(!b.loop){b.cursorElement.innerHTML="";clearInterval(e);e=void 0}},a/2)};cp.TextInput=function(a,b){function c(a){var b=e.tebData,c=b.sc,d=void 0;c&&(d=new cp.Shortcut(c.k,1==c.c,1==c.s,1==c.a));c=cp.getShortCutFromKeyEvent(a);if(e.canBeAutoSubmitted||d&&d.isSame(c)){e.canBeAutoSubmitted=0;e.tebcData.keyHandledOnce=true;a.currentTarget&&a.currentTarget.parentElement?cp.vTEB(a.currentTarget.parentElement.id):a.srcElement&&
(a.srcElement.parentElement&&a.srcElement.parentElement.parentElement)&&cp.vTEB(a.srcElement.parentElement.parentElement.id)}setTimeout(function(){if(e.inputField){if(b.vn.length>0){var a=e.inputField.value;e.m_isUppercase?a=a.toUpperCase():e.m_isLowercase&&(a=a.toLowerCase());var c=[];c.push(b.vn);svvi(b.vn,a,c)}if(e.retainText)e.tebcData.txt=e.inputField.value}},200)}function d(a){if(e.inputField.value.length>=e.m_charLimit&&e.m_charLimit!=-1){e.canBeAutoSubmitted=1;c(a)}}cp.TextInput.baseConstructor.call(this,
a);var e=this;this.id=this.getAttribute("id");this.type="text";if(this.getAttribute("ft")=="pw")this.type="password";this.expectedStrings=this.getAttribute("exp")||[];this.defaultText=this.getAttribute("txt");this.accstring=this.getAttribute("accstr");this.visible=this.getAttribute("visible");this.parentDivName=this.getAttribute("dn");var f=cp.D[this.parentDivName];this.transIn=f.trin;this.m_isAutoSubmit=f.as;this.m_isLowercase=f.lcase;this.m_isUppercase=f.ucase;this.m_isNumeric=f.num;this.m_hasNoCondition=
f.nc;this.m_charLimit=f.cl;this.canBeAutoSubmitted=0;this.element.parentElement.drawingBoard=this.element.parentElement;f=this.getAttribute("b");this.bounds={minX:f[0],minY:f[1],maxX:f[2],maxY:f[3]};f=this.getAttribute("vb");this.vbounds={minX:f[0],minY:f[1],maxX:f[2],maxY:f[3]};this.element.parentElement.bounds=this.vbounds;this.args=b;this.isDrawn=false;this.inputField=null;this.showScroll=this.getAttribute("ss");this.fillColor=this.getAttribute("fc");this.fillAlpha=this.getAttribute("fa");if(void 0==
this.fillAlpha)this.fillAlpha=1;this.font=this.getAttribute("font");this.showBorder=this.getAttribute("sb");this.retainText=this.getAttribute("rtx");this.focusLostAction="";if(cp.D[this.id].ofla)this.focusLostAction=cp.D[this.id].ofla;this.tebcData=cp.D[this.element.id];this.tebData=cp.D[this.tebcData.id];this.element.onkeyup=c;this.element.onkeypress=function(){var a,b;if(window.event)a=event.keyCode;else if(event.which)a=event.which;b=String.fromCharCode(a);if(a!=8)if(e.m_isNumeric){a=/\d/;a.test(b)||
cp.preventEventDefault(event)}else if(e.m_isUppercase){a=/[A-Za-z ]/;a.test(b)||cp.preventEventDefault(event)}else if(e.m_isLowercase){a=/[a-zA-Z ]/;a.test(b)||cp.preventEventDefault(event)}};if(this.m_isAutoSubmit)this.element.onkeyup=d;this.tr=this.getAttribute("tr");this.sh=this.getAttribute("sh");this.re=this.getAttribute("re")};cp.inherits(cp.TextInput,cp.DisplayObject);cp.TextInput.prototype.start=function(a){this.addIfNeeded();if(!this.effectIsStarted||a){this.updateEffects(this.hasEffect);
this.effectIsStarted=true}};cp.TextInput.prototype.reset=function(){delete cp.ropMap[this.element.id];this.retainText&&this.setAttribute("txt",this.inputField.value);this.setAttribute("keyHandledOnce",false);if(this.inputField){this.inputField.onblur=null;this.inputField.onchange=null}this.inputField=null;this.isDrawn=false;this.element.width="0";this.element.height="0";this.element.style.width="0px";this.element.style.height="0px";this.element.left="0";this.element.top="0";this.element.style.left=
"0px";this.element.style.top="0px"};cp.TextInput.prototype.addIfNeeded=function(){if(!this.isDrawn){var a=this.id,b=this.bounds,c=this.type,d="input",e="";this.showScroll&&(d="textarea");var f=0;this.tr&&(f=cp.getAngleFromRotateStr(this.tr));var g=this.element.parentElement,k=this.vbounds.minY,l=this.vbounds.maxY-this.vbounds.minY;if(cp.MSIE==cp.browser&&!this.showBorder){k=k-1;l=l+1}g.style.left=this.vbounds.minX+"px";g.style.top=k+"px";g.style.width=this.vbounds.maxX-this.vbounds.minX+"px";g.style.height=
l+"px";this.element.rotateAngle=f;this.element.style.left=b.minX-this.vbounds.minX+"px";this.element.style.top=b.minY-this.vbounds.minY+"px";this.element.style.width=b.maxX-b.minX+"px";this.element.style.height=b.maxY-b.minY+3+"px";if(this.tr){cp.applyTransform(this.element,this.tr);this.element.tr=this.tr}if(this.sh&&!this.sh.i){f=this.sh.a-f;cp.applyShadow(this.element,this.sh.d*Math.cos(Math.PI*f/180)+"px "+this.sh.d*Math.sin(Math.PI*f/180)+"px "+this.sh.b+"px "+cp.ConvertRGBToRGBA(this.sh.c,this.sh.o)+
(this.sh.i?" inset":""))}if(this.re)this.element.parentElement.style.webkitBoxReflect="below "+this.re.d+"px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop("+(1-this.re.s/100)+", transparent), to(rgba(255, 255, 255, "+(1-this.re.p/100)+")))";if(this.element.innerHTML==""){if(this.font){e=e+" -webkit-appearance:none;"+(' font-family:"'+this.font.n+'";');e=e+("font-size:"+this.font.s+"px;");e=e+("color: "+this.font.c+";");this.m_isUppercase?e=e+"text-transform: uppercase;":
this.m_isLowercase&&(e=e+"text-transform: lowercase;");this.font.B&&(e=e+"font-weight:bold;");this.font.u&&(e=e+"text-decoration: underline;");this.font.i&&(e=e+"font-style: italic;");this.showScroll&&(e=e+"resize: none;");e=void 0!=this.showBorder&&!this.showBorder?e+"border:0px;":e+"border:1px solid;border-top-color:#696969;border-left-color:#696969;border-right-color:#E6E6E6;border-bottom-color:#E6E6E6;";e=e+"border-radius:0px;";e=cp.device!=cp.DESKTOP?e+"padding:0px;":e+"padding-left:2px;";if(void 0!=
this.fillColor&&7==this.fillColor.length&&"#"==this.fillColor[0]){f=parseInt(this.fillColor.substr(1,2),16);g=parseInt(this.fillColor.substr(3,2),16);k=parseInt(this.fillColor.substr(5,2),16);e=e+("background-color: rgba("+f+", "+g+", "+k+", "+this.fillAlpha+");")}}f=b.maxY-b.minY;cp.MSIE==cp.browser&&(f=f+1);this.element.innerHTML=this.element.innerHTML+("<"+d+" type='"+c+"'"+(this.enabled==0?" disabled ":"")+" aria-label='"+this.accstring+"' id='"+a+"_inputField' style='display:block;left: 0px; top: 0px;position:relative; width:"+
(b.maxX-b.minX)+"px; height:"+f+"px;"+e+"'></"+d+">");if(this.tebData.vn.length>0){b=[];b.push(this.tebData.vn);svvi(this.tebData.vn,this.defaultText,b)}}if(this.inputField=document.getElementById(a+"_inputField")){this.inputField.setAttribute("tabIndex",cp.D[this.tebData.mdi].ti);cp.D.pref.hsr===1&&cp.removeAccessibilityOutline(this.inputField);this.inputField.value=this.defaultText;a=this.inputField.value.length;this.inputField.setSelectionRange&&this.inputField.setSelectionRange(0,a);this.m_charLimit!=
-1&&this.inputField.setAttribute("maxlength",this.m_charLimit);this.actualParent=this.element.parentElement}this.isDrawn=true;if(this.focusLostAction.length>0){var m=this.inputField;this.inputField.onchange=function(){m.cp_has_changed=true};var o=this.focusLostAction,n=this.inputField,p=this.tebData;this.inputField.onblur=function(){if((!p||!p.handled)&&n.cp_has_changed){n.cp_has_changed=false;cp.movie.executeAction(o)}}}if(this.transIn)this.element.parentElement.style.opacity=0;this.visible||cp.hide(this.parentDivName)}};
cp.Gradient=function(a,b,c){cp.Gradient.baseConstructor.call(this,a);this.visible=1;this.parentId=b;if(this.parentObj=cp.D[b]){this.gradientData=this.parentObj.gf;a=this.gradientData.b;this.bounds={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3]};this.args=c}this.isDrawn=false};cp.inherits(cp.Gradient,cp.DisplayObject);cp.Gradient.prototype.start=function(a){this.drawIfNeeded();if(!this.effectIsStarted||a){this.updateEffects(this.hasEffect);this.effectIsStarted=true}};cp.Gradient.prototype.reset=function(){delete cp.ropMap[this.element.id];
this.isDrawn=false;this.element.width="0";this.element.height="0";this.element.style.width="0px";this.element.style.height="0px";this.element.left="0";this.element.top="0";this.element.style.left="0px";this.element.style.top="0px"};cp.Gradient.prototype.drawIfNeeded=function(){if(!this.isDrawn&&this.gradientData){if(void 0==this.canvasElem)for(var a=this.element.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE&&a.id&&a.id==this.parentId+"gf"){this.canvasElem=a;break}if(this.canvasElem){var b=
this.bounds,c=b.minX,d=b.minY,a=b.maxX-b.minX,b=b.maxY-b.minY;this.canvasElem.style.position="absolute";c=(this.canvas=cp.createCanvas(c,d,a,b,this.canvasElem)).gc;c.save();if(d=cp.getGradientFill(this.gradientData,c)){c.fillStyle=d;c.fillRect(0,0,a,b)}c.restore();this.isDrawn=true}}};cp.ImageFill=function(a,b,c){cp.ImageFill.baseConstructor.call(this,a);this.visible=1;this.parentId=b;if(this.parentObj=cp.D[b]){this.tileData=this.parentObj.imgf;a=this.tileData.b;this.bounds={minX:a[0],minY:a[1],maxX:a[2],
maxY:a[3]};this.args=c}this.isDrawn=false};cp.inherits(cp.ImageFill,cp.DisplayObject);cp.ImageFill.prototype.start=function(a){this.drawIfNeeded();if(!this.effectIsStarted||a){this.updateEffects(this.hasEffect);this.effectIsStarted=true}};cp.ImageFill.prototype.reset=function(){delete cp.ropMap[this.element.id];this.isDrawn=false;this.element.width="0";this.element.height="0";this.element.style.width="0px";this.element.style.height="0px";this.element.left="0";this.element.top="0";this.element.style.left=
"0px";this.element.style.top="0px"};cp.ImageFill.prototype.drawIfNeeded=function(){if(!this.isDrawn&&this.tileData&&this.tileData.img&&this.tileData.img.ip){if(void 0==this.canvasElem)for(var a=this.element.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE&&a.id&&a.id==this.parentId+"imgf"){this.canvasElem=a;break}if(this.canvasElem){var b=this.bounds,c=b.minX,d=b.minY,a=b.maxX-b.minX,b=b.maxY-b.minY;this.canvasElem.style.position="absolute";this.canvasElem.style.backgroundColor="#FFFFFF";
var e=cp.movie.im.images[this.tileData.img.ip];if(e&&e.nativeImage.complete){c=(this.canvas=cp.createCanvas(c,d,a,b,this.canvasElem)).gc;c.save();var d=this.tileData.img.x,f=this.tileData.img.y;c.translate(d,f);var g=this.tileData.s;if(this.tileData.t){e=c.createPattern(e.nativeImage,"repeat");c.rect(0,0,a-d,b-f);c.fillStyle=e;c.fill()}else g?c.drawImage(e.nativeImage,0,0,a-d,b-f):c.drawImage(e.nativeImage,0,0);c.restore();this.isDrawn=true}}}};cp.Line=function(a,b){cp.Line.baseConstructor.call(this,
a);this.visible=this.getAttribute("visible");this.data=cp.D[this.element.id];this.parentDivName=this.getAttribute("dn");var c=document.getElementById(this.parentDivName);this.actualParent=c;var d=this.data.b;this.bounds={minX:d[0],minY:d[1],maxX:d[2],maxY:d[3]};d=this.data.vb;this.vbounds={minX:d[0],minY:d[1],maxX:d[2],maxY:d[3],width:d[2]-d[0],height:d[3]-d[1]};if(c){c.drawingBoard=this.element.parentElement;c.bounds=this.bounds;c.drawingBoard.bounds=this.vbounds}this.args=b;this.isDrawn=false;this.sh=
this.getAttribute("sh");this.re=this.getAttribute("re")};cp.inherits(cp.Line,cp.DisplayObject);cp.Line.prototype.start=function(a){this.drawIfNeeded();if(!this.effectIsStarted||a){this.updateEffects(this.hasEffect);this.effectIsStarted=true}};cp.Line.prototype.reset=function(){delete cp.ropMap[this.element.id];this.isDrawn=false;this.element.width="0";this.element.height="0";this.element.style.width="0px";this.element.style.height="0px";this.element.left="0";this.element.top="0";this.element.style.left=
"0px";this.element.style.top="0px"};cp.Line.prototype.drawIfNeeded=function(){if(!this.isDrawn&&this.data){var a=this.bounds,b=this.vbounds,c=this.data.sw;c<5&&(c=5);var d=a.minX,e=a.minY,f=a.maxX-a.minX,g=a.maxY-a.minY,a=this.actualParent;a.style.left=d+"px";a.style.top=e+"px";a.style.width=f+"px";a.style.height=g+"px";d=0<b.minX?0:b.minX;e=0<b.minY?0:b.minY;g=cp.D.project.h>b.maxY?cp.D.project.h:b.maxY;f=(cp.D.project.w>b.maxX?cp.D.project.w:b.maxX)-d;b=this.canvas=cp.createCanvas(0,0,f,g-e,this.element);
this.element.style.display="block";this.element.style.position="absolute";this.element.parentElement.style.left=this.vbounds.minX+"px";this.element.parentElement.style.top=this.vbounds.minY+"px";this.element.parentElement.style.width=this.vbounds.maxX-this.vbounds.minX+"px";this.element.parentElement.style.height=this.vbounds.maxY-this.vbounds.minY+"px";this.element.style.marginLeft=d-this.vbounds.minX+"px";this.element.style.marginTop=e-this.vbounds.minY+"px";if(this.re)this.element.parentElement.style.webkitBoxReflect=
"below "+this.re.d+"px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop("+(1-this.re.s/100)+", transparent), to(rgba(255, 255, 255, "+(1-this.re.p/100)+")))";cp.movie.stage.addToParentChildMap(a.id,this.element.id);this.element.originalParent=a;b=b.gc;b.save();b.translate(d<0?-d:0,e<0?-e:0);if(this.sh&&!this.sh.i){b.shadowOffsetX=this.sh.d*Math.cos(Math.PI*this.sh.a/180);b.shadowOffsetY=this.sh.d*Math.sin(Math.PI*this.sh.a/180);b.shadowBlur=this.sh.b;b.shadowColor=cp.ConvertRGBToRGBA(this.sh.c,
this.sh.o)}d=this.data.x1;e=this.data.y1;f=this.data.x2;a=this.data.y2;b.lineWidth=this.data.sw;b.strokeStyle=this.data.sc;b.moveTo(d,e);0==this.data.ss?b.lineTo(f,a):cp.drawDashedLine(b,d,e,f,a,this.data.ss);b.stroke();cp.drawLineCapStyle(b,d,e,f,a,this.data.sc,c,this.data.sst,0);cp.drawLineCapStyle(b,d,e,f,a,this.data.sc,c,this.data.est,1);b.restore();this.isDrawn=true;this.visible||cp.hide(this.parentDivName)}};cp.DrawingItem=function(a,b,c){cp.DrawingItem.baseConstructor.call(this,a);this.visible=
1;this.parentId=cp.D[b].dn;this.parentObj=cp.D[this.parentId];this.canvasObj=null;this.transIn=this.parentObj.trin;if(void 0!=this.parentObj)this.canvasObj=cp.D[this.parentObj.mdi];this.parentDivName=this.getAttribute("dn");this.actualParent=a=document.getElementById(this.parentDivName);if(this.canvasObj){this.type=this.canvasObj.t;b=this.canvasObj.b;this.bounds={minX:b[0],minY:b[1],maxX:b[2],maxY:b[3]};this.args=c;c=this.canvasObj.vb;this.vbounds={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3],width:c[2]-
c[0],height:c[3]-c[1]};this.sh=this.canvasObj.sh;this.re=this.canvasObj.re;this.tr=this.canvasObj.tr;this.currImage=this.getAttribute("ip")}if(a){a.drawingBoard=this.element.parentElement;a.bounds=this.bounds;a.drawingBoard.bounds=this.vbounds}this.isDrawn=false};cp.inherits(cp.DrawingItem,cp.DisplayObject);cp.DrawingItem.prototype.start=function(a){this.drawIfNeeded();if(!this.effectIsStarted||a){this.updateEffects(this.hasEffect);this.effectIsStarted=true}};cp.DrawingItem.prototype.reset=function(){delete cp.ropMap[this.element.id];
this.isDrawn=false;this.element.width="0";this.element.height="0";this.element.style.width="0px";this.element.style.height="0px";this.element.left="0";this.element.top="0";this.element.style.left="0px";this.element.style.top="0px"};cp.DrawingItem.prototype.drawIfNeeded=function(){if(!this.isDrawn&&this.canvasObj&&this.type&&this.canvasObj.b){var a=this.bounds,b=this.vbounds,c=a.minX,d=a.minY,e=a.maxX-a.minX,f=a.maxY-a.minY,g=this.actualParent;g.style.left=c+"px";g.style.top=d+"px";g.style.width=e+
"px";g.style.height=f+"px";var f=false,f=this.re||this.sh&&!this.sh.i,c=0<b.minX&&f?0:b.minX,d=0<b.minY&&f?0:b.minY,k=f&&cp.D.project.h>b.maxY?cp.D.project.h:b.maxY,e=(f&&cp.D.project.w>b.maxX?cp.D.project.w:b.maxX)-c,e=this.canvas=cp.createCanvas(0,0,e,k-d,this.element);this.element.style.display="block";this.element.style.position="absolute";this.element.parentElement.style.left=this.vbounds.minX+"px";this.element.parentElement.style.top=this.vbounds.minY+"px";this.element.parentElement.style.width=
this.vbounds.maxX-this.vbounds.minX+"px";this.element.parentElement.style.height=this.vbounds.maxY-this.vbounds.minY+"px";this.element.style.marginLeft=c-this.vbounds.minX+"px";this.element.style.marginTop=d-this.vbounds.minY+"px";if(this.re)this.element.parentElement.style.webkitBoxReflect="below "+this.re.d+"px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop("+(1-this.re.s/100)+", transparent), to(rgba(255, 255, 255, "+(1-this.re.p/100)+")))";cp.movie.stage.addToParentChildMap(g.id,
this.element.id);this.element.originalParent=g;b=e.gc;b.save();f?b.setTransform(1,0,0,1,c<0?-c:0,d<0?-d:0):b.translate(-this.vbounds.minX,-this.vbounds.minY);if(this.sh&&!this.sh.i){b.shadowOffsetX=this.sh.d*Math.cos(Math.PI*this.sh.a/180);b.shadowOffsetY=this.sh.d*Math.sin(Math.PI*this.sh.a/180);b.shadowBlur=this.sh.b;b.shadowColor=cp.ConvertRGBToRGBA(this.sh.c,this.sh.o)}this.element.style.display="block";this.element.style.position="absolute";b=e.gc;b.save();c=0;this.tr&&(c=cp.getAngleFromRotateStr(this.tr));
g.rotateAngle=c;if(this.sh||0!=c){b.translate((a.minX+a.maxX)/2,(a.minY+a.maxY)/2);0!=c?b.rotate(Math.PI*c/180):b.rotate(Math.PI*0.02/180);b.translate(-(a.minX+a.maxX)/2,-(a.minY+a.maxY)/2)}g=0;if(void 0!=this.canvasObj.ss)g=this.canvasObj.ss;if((g=this.draw(b,g))&&void 0!=this.currImage)if((c=cp.movie.im.images[this.currImage])&&c.nativeImage.complete){b.translate((a.minX+a.maxX)/2,(a.minY+a.maxY)/2);b.drawImage(c.nativeImage,-c.nativeImage.width/2,-c.nativeImage.height/2,c.nativeImage.width,c.nativeImage.height)}else g=
false;b.restore();if(this.transIn)this.element.parentElement.style.opacity=0;this.isDrawn=g}};cp.DrawingItem.prototype.draw=function(a,b){switch(this.type){case cp.kCPOTOvalItem:this.drawOval(a,0);break;case cp.kCPOTAnswerArea:case cp.kCPOTMatchingQuestionArea:case cp.kCPOTMatchingAnswerArea:case cp.kCPOTStageQuestionText:case cp.kCPOTStageQuestionTitle:case cp.kCPOTRectangleItem:case cp.kCPOTLikertQuestionArea:case cp.kCPOTLikertTotalGroupArea:this.drawRectangle(a,0);break;case cp.kCPOTPolygon:this.drawPolygon(a,
0);break;default:return true}var c=1;void 0!=this.canvasObj.fa&&(c=this.canvasObj.fa/100);var d=a.globalAlpha;a.globalAlpha=c;c=this.setFill(a);a.globalAlpha=d;if(0!=b&&this.canvasObj.sw>0)switch(this.type){case cp.kCPOTOvalItem:this.drawOval(a,b);break;case cp.kCPOTAnswerArea:case cp.kCPOTMatchingQuestionArea:case cp.kCPOTMatchingAnswerArea:case cp.kCPOTStageQuestionText:case cp.kCPOTStageQuestionTitle:case cp.kCPOTRectangleItem:case cp.kCPOTLikertQuestionArea:case cp.kCPOTLikertTotalGroupArea:this.drawRectangle(a,
b);break;case cp.kCPOTPolygon:this.drawPolygon(a,b);break;default:return true}if(this.canvasObj.sw>0){a.lineWidth=this.canvasObj.sw;a.strokeStyle=this.canvasObj.sc;a.stroke()}return c};cp.DrawingItem.prototype.setFill=function(a){var b=null,c="",c=null,d=[],e=0,f=0,g=0,k=1,b=b=null,g=true,l=0,d=l=1,m=false,o=false;if(this.canvasObj.gf){if(b=cp.getGradientFill(this.canvasObj.gf,a))a.fillStyle=b}else if(this.canvasObj.imgf){g=false;b=this.canvasObj.imgf;if(void 0==b.img||void 0==b.img.ip)return false;
c=b.img.ip;if((c=cp.movie.im.images[c])&&c.nativeImage.complete){e=b.img.x+this.canvasObj.b[0];f=b.img.y+this.canvasObj.b[1];m=true;a.translate(e,f);g=b.s;if(k=b.t){b=a.createPattern(c.nativeImage,"repeat");a.fillStyle=b}else if(g){if(void 0!=this.canvasObj.b&&4==this.canvasObj.b.length){d=this.canvasObj.b;l=d[2]-d[0];h=d[3]-d[1];l=l/b.img.w;d=h/b.img.h;a.scale(l,d);b=a.createPattern(c.nativeImage,"no-repeat");a.fillStyle=b}}else{a.fillStyle="#FFFFFF";a.fill();b=a.createPattern(c.nativeImage,"no-repeat");
a.fillStyle=b}g=true}}else if(this.canvasObj.bc)a.fillStyle=this.canvasObj.bc;else if(this.currImage){o=true;g=false}g&&a.fill();(1!=l||1!=d)&&a.scale(1/l,1/d);m&&a.translate(-e,-f);return g||o};cp.DrawingItem.prototype.drawRectangle=function(a,b){var c=0,d=[],e=0,f=0,g=0,k=g=0,l=0,d=0;if(!(void 0==this.canvasObj.b||4!=this.canvasObj.b.length)){d=this.canvasObj.b;e=d[2]-d[0];f=d[3]-d[1];g=e;f<e&&(g=f);if(void 0!=this.canvasObj.cr){c=this.canvasObj.cr;c=g*c/100}g=d[0];k=d[1];l=d[2];d=d[3];if(0!=b)cp.drawDashedRectangle(a,
g,k,e,f,c,b);else{a.beginPath();cp.moveTo(a,g,d-c,b);cp.lineTo(a,g,k+c,b);c>0&&cp.bezierCurveTo(a,g,k+c,g,k,g+c,k,b);cp.lineTo(a,g+c,k,b);cp.lineTo(a,l-c,k,b);c>0&&cp.bezierCurveTo(a,l-c,k,l,k,l,k+c,b);cp.lineTo(a,l,k+c,b);cp.lineTo(a,l,d-c,b);c>0&&cp.bezierCurveTo(a,l,d-c,l,d,l-c,d,b);cp.lineTo(a,l-c,d,b);cp.lineTo(a,g+c,d,b);c>0&&cp.bezierCurveTo(a,g+c,d,g,d,g,d-c,b);a.closePath()}}};cp.DrawingItem.prototype.drawOval=function(a,b){var c=[],d=c=0,e=0,f=0,g=0,k=0,l=0,m=0;if(!(void 0==this.canvasObj.b||
4!=this.canvasObj.b.length)){c=this.canvasObj.b;e=c[0];f=c[1];g=c[2];k=c[3];c=(g-e)/2;d=(k-f)/2;l=0.55285*c;m=0.55285*d;if(0!=b)cp.drawDashedOval(a,(e+g)/2,(f+k)/2,c,d,b);else{a.beginPath();cp.moveTo(a,g,f+d,b);cp.bezierCurveTo(a,g,f+d+m,e+c+l,k,e+c,k,b);cp.bezierCurveTo(a,e+c-l,k,e,f+d+m,e,f+d,b);cp.bezierCurveTo(a,e,f+d-m,e+c-l,f,e+c,f,b);cp.bezierCurveTo(a,e+c+l,f,g,f+d-m,g,f+d,b);a.closePath()}}};cp.DrawingItem.prototype.drawPolygon=function(a,b){var c=null,d=this.canvasObj.pta,e=0;if(!(void 0==
d||d.length<2))if(0!=b)cp.drawDashedPolyLine(a,d,b);else{a.beginPath();c=d[0];cp.moveTo(a,c.x,c.y,b);for(e=1;e<d.length;++e){c=d[e];cp.lineTo(a,c.x,c.y,b)}a.closePath()}};cp.AutoShape=function(a,b,c){function d(a,b){cp.applyTransform(a,"translate("+b.tx+"px,"+b.ty+"px) scalex("+b.sx+") scaley("+b.sy+")")}function e(a){cp.applyTransform(a,"")}function f(a,b,c){if(c){if(k.parentData&&k.parentData.handCursor)k.actualParent.style.cursor="pointer"}else k.actualParent.style.cursor="default"}function g(a,
b,c,d,e){var f={sx:c.sx,sy:c.sy,tx:c.tx,ty:c.ty,p:c.p,old_tr:c.old_tr};return function(a){if(a!=void 0){var c=k.is_inside_canvas(a);if(!(a.type.toLowerCase()=="mousedown"&&!c||self.parentData&&void 0!=self.parentData.enabled&&!self.parentData.enabled)){e&&e();d&&d(b,f,c)}}}}var k=this;this.tMatrixMultiplyPoint=function(a,b,c){return[b*a[0]+c*a[2]+a[4],b*a[1]+c*a[3]+a[5]]};this.tInvertMatrix=function(a){var b=1/(a[0]*a[3]-a[1]*a[2]);return[a[3]*b,-a[1]*b,-a[2]*b,a[0]*b,b*(a[2]*a[5]-a[3]*a[4]),b*(a[1]*
a[4]-a[0]*a[5])]};this.is_inside_canvas=function(a){if(a==void 0)return false;var b;if(!k.element)return false;if(b=k.element.getContext("2d")){var c=k.element.parentElement.getBoundingClientRect(),d=k.element.getBoundingClientRect(),a=cp.getScaledPosition(getPageX(a),getPageY(a)),e=c.left-cp.movie.offset,f=c.top-cp.movie.topOffset,g=d.left-cp.movie.offset,d=d.top-cp.movie.topOffset,l=parseFloat(k.element.style.marginLeft),m=parseFloat(k.element.style.marginTop);X=a.X-window.pageXOffset/cp.movie.m_scaleFactor-
(l<0?g:e)/cp.movie.m_scaleFactor;Y=a.Y-window.pageYOffset/cp.movie.m_scaleFactor-(m<0?d:f)/cp.movie.m_scaleFactor;if(cp.shouldScale){cp.loadedModules.toc&&(!cp.toc.movieProperties.tocProperties.overlay&&cp.toc.movieProperties.tocProperties.position==1)&&(X=X+cp.toc.movieProperties.tocProperties.width);cp.loadedModules.playbar&&!cp.PB.MP.PBP.overlay&&(cp.PB.MP.PBP.position==0?X=X+cp.PB.playBarHeight:cp.PB.MP.PBP.position==1&&(Y=Y+cp.PB.playBarHeight))}X=X*parseFloat(k.element.parentElement.style.width)/
c.width*cp.movie.m_scaleFactor;Y=Y*parseFloat(k.element.parentElement.style.height)/c.height*cp.movie.m_scaleFactor;if(cp.verbose){cp.log("lParentOffsetL : "+e+","+f);cp.log("lElemL : "+g+","+d);cp.log("lElemMarginL : "+l+m);cp.log("X : "+X+","+Y)}return b=b.isPointInPath(X,Y)}return false};cp.AutoShape.baseConstructor.call(this,a);this.visible=this.getAttribute("visible");this.parentId=cp.D[b].dn;this.parentObj=cp.D[this.parentId];this.canvasObj=null;this.transIn=this.parentObj.trin;if(void 0!=this.parentObj)this.canvasObj=
cp.D[this.parentObj.mdi];this.parentDivName=this.getAttribute("dn");this.parentData=cp.D[this.parentDivName];this.parentData.isCanvasClicked=this.is_inside_canvas;this.parentData.canvasPainterObject=this;this.actualParent=a=document.getElementById(this.parentDivName);if(this.canvasObj){b=this.canvasObj.b;this.bounds={minX:b[0],minY:b[1],maxX:b[2],maxY:b[3]};this.args=c;c=this.canvasObj.vb;this.vbounds={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3],width:c[2]-c[0],height:c[3]-c[1]};this.sh=this.canvasObj.sh;
this.re=this.canvasObj.re;this.tr=this.canvasObj.tr;this.currImage=this.getAttribute("ip")}if(a){a.drawingBoard=this.element.parentElement;a.bounds=this.bounds;a.drawingBoard.bounds=this.vbounds}if(a&&void 0!=this.parentData.pa&&this.bounds){if(-1!=this.parentData.pa&&this.parentData.immo){if(cp.movie.stage.currentSlide)this.parentData.pa=cp.movie.stage.currentSlide.to-1;this.setAttribute("clickedOnce",false)}var l=this.bounds.maxX-this.bounds.minX,m=this.bounds.maxY-this.bounds.minY,b=c=1,o=0,n=
0;l>10&&(c=(l-4)/l);m>10&&(b=(m-4)/m);if(c<1&&b<1){var o=false,o=this.re||this.sh&&!this.sh.i,p=(o&&cp.D.project.w>this.vbounds.maxX?cp.D.project.w:this.vbounds.maxX)-(0<this.vbounds.minX&&o?0:this.vbounds.minX),n=(o&&cp.D.project.h>this.vbounds.maxY?cp.D.project.h:this.vbounds.maxY)-(0<this.vbounds.minY&&o?0:this.vbounds.minY),m=(this.vbounds.maxX+this.vbounds.minX)/2,l=(this.vbounds.maxY+this.vbounds.minY)/2,p=p/2-(p/2-m)*c,n=n/2-(n/2-l)*b;if(o){o=p-m;n=n-l}else n=o=0;this.oldMouseOver=a.onmouseover;
this.oldMouseOut=a.onmouseout;c={sx:c,sy:b,tx:-o,ty:-n,p:a,old_tr:this.tr};if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID){a.ontouchstart=g(event,this.element,c,d);a.ontouchend=g(event,this.element,c,e);this.ontouchstartHandler=a.ontouchstart;this.ontouchendHandler=a.ontouchend}else{a.onmouseover=g(event,this.element,c,e,a.onmouseover);a.onmousemove=g(event,this.element,c,f,a.onmousemove);a.onmouseout=g(event,this.element,c,e,a.onmouseout);a.onmousedown=g(event,this.element,c,d);a.onmouseup=g(event,
this.element,c,e);this.onmouseoverHandler=a.onmouseover;this.onmousemoveHandler=a.onmousemove;this.onmouseoutHandler=a.onmouseout;this.onmousedownHandler=a.onmousedown;this.onmouseupHandler=a.onmouseup}this.setUpClickHandler()}}this.isDrawn=false};cp.inherits(cp.AutoShape,cp.DisplayObject);cp.AutoShape.prototype.start=function(a){this.drawIfNeeded();if(!this.effectIsStarted||a){this.updateEffects(this.hasEffect);this.effectIsStarted=true}};cp.AutoShape.prototype.reset=function(){delete cp.ropMap[this.element.id];
this.isDrawn=false;this.element.width="0";this.element.height="0";this.element.style.width="0px";this.element.style.height="0px";this.element.left="0";this.element.top="0";this.element.style.left="0px";this.element.style.top="0px";this.removeMouseHandlers()};cp.AutoShape.prototype.addMouseHandlers=function(){if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID){this.actualParent.ontouchstart=this.ontouchstartHandler;this.actualParent.ontouchend=this.ontouchendHandler}else{this.actualParent.onmouseover=
this.onmouseoverHandler;this.actualParent.onmousemove=this.onmousemoveHandler;this.actualParent.onmouseout=this.onmouseoutHandler;this.actualParent.onmousedown=this.onmousedownHandler;this.actualParent.onmouseup=this.onmouseupHandler}};cp.AutoShape.prototype.removeMouseHandlers=function(){if(this.actualParent){this.actualParent.onclick=null;if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID){this.actualParent.ontouchstart=null;this.actualParent.ontouchend=null}else{this.actualParent.onmouseout=null;
this.actualParent.onmousedown=null;this.actualParent.onmouseup=null;this.actualParent.onmouseover=null;if(this.oldMouseOver)this.actualParent.onmouseover=this.oldMouseOver;if(this.oldMouseOut)this.actualParent.onmouseout=this.oldMouseOut}}};cp.AutoShape.prototype.setUpClickHandler=function(){var a=this,b=false,c=false,d=cp.movie.stage.currentSlide;if(this.actualParent&&d){if((b=d.st=="Question Slide")&&d.qs)(d=cp.D[d.qs])&&d.qtp=="Hotspot"&&(c=true);if(b&&!c&&!this.actualParent.onclick){var e=this.parentData;
this.actualParent.onclick=function(b){a.is_inside_canvas(b)&&cp.clickSuccessHandler(e)}}else this.actualParent.onclick=null}};cp.AutoShape.prototype.restOfProjectDoOnNewSlide=function(){this.setUpClickHandler()};cp.AutoShape.prototype.drawIfNeeded=function(){if(!this.isDrawn&&this.canvasObj&&this.canvasObj.b&&this.canvasObj.p0){var a=this.bounds,b=this.canvasObj.sw;void 0==b&&(b=1);if(b!=1){this.vbounds.minX=this.vbounds.minX+b*3/2;this.vbounds.minY=this.vbounds.minY+b*3/2;this.vbounds.maxX=this.vbounds.maxX-
b*3/2;this.vbounds.maxY=this.vbounds.maxY-b*3/2}var c=this.vbounds,d=a.minX,e=a.minY,f=a.maxX-a.minX,g=a.maxY-a.minY,b=this.actualParent;b.style.left=d+"px";b.style.top=e+"px";b.style.width=f+"px";b.style.height=g+"px";var g=false,g=this.re||this.sh&&!this.sh.i,d=0<c.minX&&g?0:c.minX,e=0<c.minY&&g?0:c.minY,k=g&&cp.D.project.h>c.maxY?cp.D.project.h:c.maxY,f=(g&&cp.D.project.w>c.maxX?cp.D.project.w:c.maxX)-d,f=this.canvas=cp.createCanvas(0,0,f,k-e,this.element);this.element.style.display="block";this.element.style.position=
"absolute";this.element.parentElement.style.left=this.vbounds.minX+"px";this.element.parentElement.style.top=this.vbounds.minY+"px";this.element.parentElement.style.width=this.vbounds.maxX-this.vbounds.minX+"px";this.element.parentElement.style.height=this.vbounds.maxY-this.vbounds.minY+"px";this.element.style.marginLeft=d-this.vbounds.minX+"px";this.element.style.marginTop=e-this.vbounds.minY+"px";if(this.re)this.element.parentElement.style.webkitBoxReflect="below "+this.re.d+"px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop("+
(1-this.re.s/100)+", transparent), to(rgba(255, 255, 255, "+(1-this.re.p/100)+")))";cp.movie.stage.addToParentChildMap(b.id,this.element.id);this.element.originalParent=b;c=f.gc;c.save();g?c.setTransform(1,0,0,1,d<0?-d:0,e<0?-e:0):c.translate(-this.vbounds.minX,-this.vbounds.minY);if(this.sh&&!this.sh.i){c.shadowOffsetX=this.sh.d*Math.cos(Math.PI*this.sh.a/180);c.shadowOffsetY=this.sh.d*Math.sin(Math.PI*this.sh.a/180);c.shadowBlur=this.sh.b;d=this.sh.o;d==1&&(d=0.999);c.shadowColor=cp.ConvertRGBToRGBA(this.sh.c,
d)}this.element.style.display="block";this.element.style.position="absolute";c=f.gc;c.save();d=0;if(this.tr){cp.applyTransform(b,this.tr);b.tr=this.tr;d=cp.getAngleFromRotateStr(this.tr)}b.rotateAngle=d;if(this.sh||0!=d){c.translate((a.minX+a.maxX)/2,(a.minY+a.maxY)/2);0!=d?c.rotate(Math.PI*d/180):c.rotate(Math.PI*0.02/180);c.translate(-(a.minX+a.maxX)/2,-(a.minY+a.maxY)/2)}b=0;if(void 0!=this.canvasObj.ss)b=this.canvasObj.ss;d=1;void 0!=this.canvasObj.fa&&(d=this.canvasObj.fa/100);if(void 0!=this.currImage&&
d!=1)if((d=cp.movie.im.images[this.currImage])&&d.nativeImage.complete){c.translate((a.minX+a.maxX)/2,(a.minY+a.maxY)/2);c.drawImage(d.nativeImage,-d.nativeImage.width/2,-d.nativeImage.height/2,d.nativeImage.width,d.nativeImage.height);c.translate(-(a.minX+a.maxX)/2,-(a.minY+a.maxY)/2)}if((b=this.draw(c,b))&&void 0!=this.currImage)if((d=cp.movie.im.images[this.currImage])&&d.nativeImage.complete){if(this.sh&&!this.sh.i){c.shadowOffsetX=0;c.shadowOffsetY=0;c.shadowBlur=0;c.shadowColor="rgba(0,0,0,0)"}c.translate((a.minX+
a.maxX)/2,(a.minY+a.maxY)/2);c.drawImage(d.nativeImage,-d.nativeImage.width/2,-d.nativeImage.height/2,d.nativeImage.width,d.nativeImage.height)}else b=false;c.restore();if(this.transIn)this.element.parentElement.style.opacity=0;this.isDrawn=b;this.isDrawn==true&&this.drawComplete();this.parentData.enabled!=void 0&&!this.parentData.enabled&&this.removeMouseHandlers();this.visible||cp.hide(this.parentDivName)}};cp.AutoShape.prototype.draw=function(a,b){this.drawFillBoundary(a,true);var c=1;void 0!=
this.canvasObj.fa&&(c=this.canvasObj.fa/100);var d=a.globalAlpha,e=false;if(0!=b&&this.canvasObj.sw>0){a.globalAlpha=c;this.setFill(a);a.globalAlpha=d;this.drawBoundary(a,b)}a.globalAlpha=c;e=this.setFill(a);a.globalAlpha=d;0==b&&this.canvasObj.sw>0&&this.drawFillBoundary(a,false);if(this.canvasObj.sw>0){a.lineWidth=this.canvasObj.sw;a.strokeStyle=this.canvasObj.sc;a.stroke()}if(this.canvasObj.sw!=0){a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=0;a.shadowColor="rgba(0,0,0,0)";a.stroke()}return e};
cp.AutoShape.prototype.drawFillBoundary=function(a,b){var c=null,d=this.canvasObj.p0,e=0;if(d){a.beginPath();for(e=0;e<d.length;++e){c=d[e];if(!(c.length<=0))switch(c[0]){case cp.kMoveTo:a.moveTo(c[1],c[2]);break;case cp.kLineTo:a.lineTo(c[1],c[2]);break;case cp.kBezierTo:a.bezierCurveTo(c[1],c[2],c[3],c[4],c[5],c[6]);break;case cp.kClosePath:a.closePath();break;case cp.kNotClosed:if(!b)break;case cp.kNoStroke:if(e<d.length-1){c=d[++e][0];cp.kBeginPath!=c&&--e}for(;e<d.length-1;){c=d[++e][0];if(cp.kNotClosed==
c||cp.kNoStroke==c||cp.kBeginPath==c){--e;break}}}}}};cp.AutoShape.prototype.drawBoundary=function(a,b){var c=null,d=this.canvasObj.p0,e=0,f=0,g=0;if(d){var k=new cp.dashStruct,l=cp.getPattern(b,7,3);a.beginPath();for(g=0;g<d.length;++g){c=d[g];if(!(c.length<=0))switch(c[0]){case cp.kMoveTo:a.moveTo(c[1],c[2]);e=c[1];f=c[2];k=new cp.dashStruct;break;case cp.kLineTo:cp.drawDashedLineImpl(a,l,k,e,f,c[1],c[2]);e=c[1];f=c[2];break;case cp.kBezierTo:cp.drawDashedBezierCurve(a,l,k,e,f,c[1],c[2],c[3],c[4],
c[5],c[6]);e=c[5];f=c[6];break;case cp.kClosePath:k=new cp.dashStruct}}}};cp.AutoShape.prototype.setFill=function(a){var b=null,c="",c=null,d=[],e=0,f=0,g=0,k=1,b=b=null,g=true,l=0,d=l=1,m=false,o=false;if(this.canvasObj.gf){if(b=cp.getGradientFill(this.canvasObj.gf,a))a.fillStyle=b}else if(this.canvasObj.imgf){g=false;b=this.canvasObj.imgf;if(void 0==b.img||void 0==b.img.ip)return false;c=b.img.ip;if((c=cp.movie.im.images[c])&&c.nativeImage.complete){e=b.img.x+this.canvasObj.b[0];f=b.img.y+this.canvasObj.b[1];
m=true;a.translate(e,f);g=b.s;if(k=b.t){b=a.createPattern(c.nativeImage,"repeat");a.fillStyle=b}else if(g){if(void 0!=this.canvasObj.b&&4==this.canvasObj.b.length){d=this.canvasObj.b;l=d[2]-d[0];h=d[3]-d[1];l=l/b.img.w;d=h/b.img.h;a.scale(l,d);b=a.createPattern(c.nativeImage,"no-repeat");a.fillStyle=b}}else{a.fillStyle="#FFFFFF";a.fill();b=a.createPattern(c.nativeImage,"no-repeat");a.fillStyle=b}g=true}}else if(this.canvasObj.bc)a.fillStyle=this.canvasObj.bc;else if(this.currImage){o=true;g=false}g&&
a.fill();(1!=l||1!=d)&&a.scale(1/l,1/d);m&&a.translate(-e,-f);return g||o};cp.AnswerArea=function(a,b){cp.AnswerArea.baseConstructor.call(this,a,b);this.canvasElem=this.element};cp.inherits(cp.AnswerArea,cp.DrawingItem);cp.RectWithText=function(a,b){cp.RectWithText.baseConstructor.call(this,a,b);this.canvasElem=this.element;this.currImage=this.getAttribute("ip")};cp.inherits(cp.RectWithText,cp.DrawingItem);cp.TypingText=function(a,b){cp.TypingText.baseConstructor.call(this,a,b);this.id=this.getAttribute("id");
this.positions=this.getAttribute("b");this.left=this.getAttribute("l");this.top=this.getAttribute("t");this.srcimage=this.getAttribute("ip");this.playKeyTap=this.getAttribute("pkt");this.isDrawn=false};cp.inherits(cp.TypingText,cp.DisplayObject);cp.TypingText.prototype.start=function(a){this.addIfNeeded();if(!this.effectIsStarted||a){this.updateEffects(this.hasEffect);this.effectIsStarted=true}};cp.TypingText.prototype.reset=function(){delete cp.ropMap[this.element.id];this.top=this.left=this.srcimage=
this.positions=this.id="";this.isDrawn=false};cp.TypingText.prototype.addIfNeeded=function(){if(!this.isDrawn){for(var a=this.id,b=0,c=0;c<1;++c){var d=this.positions,b=b+1,d="#"+a+b+"{position: absolute; width:"+(d[2]+"px")+"; height:"+(d[3]+"px")+"; display:block; background:url("+this.srcimage+") "+(-d[0]+"px")+" "+(-d[1]+"px")+"; }",e=document.getElementsByTagName("style")[0];e.innerHTML.indexOf(d)!=-1==false&&e.appendChild(document.createTextNode(d));d=cp.newElem("img");d.id=a+b;d.src="assets/htmlimages/img_trans.gif";
d.style.left=this.left+"px";d.style.top=this.top+"px";d.width=1;d.height=1;this.element.appendChild(d)}this.isDrawn=true;this.playKeyTap&&cp.movie.playKeyTap&&cp.movie.am.playKeyTap()}};cp.mouseStateOver=1;cp.mouseStateOut=2;cp.mouseStateDown=3;cp.mouseStateUp=4;cp.mouseStateTouchStart=5;cp.mouseStateTouchMove=6;cp.mouseStateTouchEnd=7;cp.Shape=function(a,b){function c(){k.visible=k.getAttribute("visible");k.isDrawn=false;k.currImage=cp.device==cp.IDEVICE||cp.device==cp.ANDROID?k.downImage:k.hoverImage;
var a=k.transIn,b=k.modifyParent;k.modifyParent=false;k.transIn=null;k.drawIfNeeded();k.transIn=a;k.modifyParent=b}function d(){k.visible=k.getAttribute("visible");k.isDrawn=false;k.currImage=k.normalImage;var a=k.transIn,b=k.modifyParent;k.modifyParent=false;k.transIn=null;k.drawIfNeeded();k.transIn=a;k.modifyParent=b}function e(){k.isDrawn=false;k.currImage=k.downImage;var a=k.transIn,b=k.modifyParent;k.modifyParent=false;k.transIn=null;k.drawIfNeeded();k.transIn=a;k.modifyParent=b}function f(){k.isDrawn=
false;k.currImage=k.hoverImage&&cp.device!=cp.IDEVICE&&cp.device!=cp.ANDROID?k.hoverImage:k.normalImage;var a=k.transIn,b=k.modifyParent;k.modifyParent=false;k.transIn=null;k.drawIfNeeded();k.transIn=a;k.modifyParent=b}function g(a,b,c,d){return function(){if(!(k.parentData&&void 0!=k.parentData.enabled)||k.parentData.enabled){d&&d();if(!(c&&k.mouseState==a)){k.mouseState=a;b()}}}}var k=this;this.mouseState=cp.mouseStateOut;cp.Shape.baseConstructor.call(this,a);var l=this.getAttribute("sr");if(l)this.shape=
l;l=this.getAttribute("b");this.bounds={minX:l[0],minY:l[1],maxX:l[2],maxY:l[3]};l=this.getAttribute("vb");this.vbounds=null;this.vbounds=l?{minX:l[0],minY:l[1],maxX:l[2],maxY:l[3]}:this.bounds;this.args=b;this.isDrawn=false;this.canvas=null;this.visible=this.getAttribute("visible");this.divName=this.getAttribute("dns")?this.getAttribute("dns"):this.getAttribute("dn");this.tex=this.getAttribute("tex")?this.getAttribute("tex"):0;this.tey=this.getAttribute("tey")?this.getAttribute("tey"):0;this.parentData=
cp.D[this.divName];this.isParentOfTypeSlide=void 0==this.parentData.type;this.modifyParent=!this.isParentOfTypeSlide;this.transIn=this.parentData.trin;this.normalImage=this.getAttribute("ip");if(!this.normalImage&&(cp.device==cp.IDEVICE||cp.device==cp.ANDROID))this.normalImage=this.getAttribute("aip");this.currImage=this.normalImage;this.isMouse=false;if(this.parentData.mp)this.isMouse=true;var l=this.getAttribute("hImg"),m=this.getAttribute("pImg"),o=document.getElementById(this.divName);if(o){o.drawingBoard=
this.element.parentElement;o.bounds=this.bounds;o.drawingBoard.bounds=this.vbounds}this.actualParent=o;if(l){this.hoverImage=l;if(o){o.onmouseover=g(cp.mouseStateOver,c,false,o.onmouseover);o.onmouseout=g(cp.mouseStateOut,d,false,o.onmouseout);if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID)o.ontouchstart=g(cp.mouseStateTouchStart,c);if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID)o.ontouchend=g(cp.mouseStateTouchEnd,d);if(m){this.downImage=m;o.onmousedown=g(cp.mouseStateDown,e);o.onmouseup=g(cp.mouseStateUp,
f);if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID)o.ontouchmove=g(cp.mouseStateTouchMove,e,true)}}}this.tr=this.getAttribute("tr");this.sh=this.getAttribute("sh");this.re=this.getAttribute("re")};cp.inherits(cp.Shape,cp.DisplayObject);cp.Shape.prototype.start=function(a){this.drawIfNeeded();if(!this.effectIsStarted||a){this.updateEffects(this.hasEffect);this.effectIsStarted=true}};cp.Shape.prototype.reset=function(){delete cp.ropMap[this.element.id];this.canvas=null;this.isDrawn=false;var a=true;
this.parentData&&this.parentData.st&&(a=false);if(a){this.element.width="0";this.element.height="0";this.element.style.width="0px";this.element.style.height="0px";this.element.left="0";this.element.top="0";this.element.style.left="0px";this.element.style.top="0px"}};cp.Shape.prototype.drawIfNeeded=function(){if(!this.isDrawn){var a=this.getAttribute("dn"),b=cp.D[a];this.parentDivName=a;var a=this.bounds,c=-a.minX+a.maxX,d=-a.minY+a.maxY;if(c==0||d==0){this.isDrawn=true;this.drawComplete()}else{if(this.args){c=
c+(Number(this.args[1])+Number(this.args[2]));d=d+(Number(this.args[1])+Number(this.args[3]))}var e=b.type,c=(e==cp.kCPOTClickBoxItem?this.canvas=cp.createCanvas(a.minX,a.minY,0,0,this.element):this.canvas=cp.createCanvas(a.minX,a.minY,Math.ceil(c),Math.ceil(d),this.element)).gc;this.element.style.left=a.minX+"px";this.element.style.top=a.minY+"px";this.element.style.width=a.maxX-a.minX+"px";this.element.style.height=a.maxY-a.minY+"px";var d=false,d=this.re||this.sh&&!this.sh.i,f=this.tr!=void 0,
g=this.currImage,k=this.modifyParent&&!this.isParentOfTypeSlide;c.save();if(!this.isMouse){var l=a.minX,m=a.minY,o=a.maxX-a.minX,n=a.maxY-a.minY,p=this.actualParent;if(p){if(k){p.style.left=l+"px";p.style.top=m+"px";p.style.width=o+"px";p.style.height=n+"px"}var r=0;if(this.tr){if(k){cp.applyTransform(p,this.tr);p.tr=this.tr}r=cp.getAngleFromRotateStr(this.tr)}this.element.style.display="block";this.element.style.position="absolute";if(k){p.rotateAngle=r;cp.movie.stage.addToParentChildMap(p.id,this.element.id);
this.element.parentElement.style.left=this.vbounds.minX+"px";this.element.parentElement.style.top=this.vbounds.minY+"px";this.element.parentElement.style.width=this.vbounds.maxX-this.vbounds.minX+"px";this.element.parentElement.style.height=this.vbounds.maxY-this.vbounds.minY+"px";if(this.re)this.element.parentElement.style.webkitBoxReflect="below "+this.re.d+"px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop("+(1-this.re.s/100)+", transparent), to(rgba(255, 255, 255, "+
(1-this.re.p/100)+")))"}}this.init=true;this.element.originalParent=p;l=0<this.vbounds.minX&&d?0:this.vbounds.minX;m=0<this.vbounds.minY&&d?0:this.vbounds.minY;k=d&&cp.D.project.h>this.vbounds.maxY?cp.D.project.h:this.vbounds.maxY;o=(d&&cp.D.project.w>this.vbounds.maxX?cp.D.project.w:this.vbounds.maxX)-l;n=k-m;this.canvas=e==cp.kCPOTClickBoxItem?cp.createCanvas(0,0,0,0,this.element):cp.createCanvas(b.st!=void 0?l:0,b.st!=void 0?m:0,o,n,this.element);this.element.style.display="block";this.element.style.position=
"absolute";if(!this.isParentOfTypeSlide){this.element.style.marginLeft=l-this.vbounds.minX+"px";this.element.style.marginTop=m-this.vbounds.minY+"px"}if(this.sh&&!this.sh.i){c.shadowOffsetX=this.sh.d*Math.cos(Math.PI*this.sh.a/180);c.shadowOffsetY=this.sh.d*Math.sin(Math.PI*this.sh.a/180);c.shadowBlur=this.sh.b;c.shadowColor=cp.ConvertRGBToRGBA(this.sh.c,this.sh.o)}r=0;this.tr&&(r=cp.getAngleFromRotateStr(this.tr));if(d){c.setTransform(1,0,0,1,l<0?-l:0,m<0?-m:0);c.translate((a.minX+a.maxX)/2,(a.minY+
a.maxY)/2)}else f&&c.translate(o/2,n/2);c.rotate(Math.PI*r/180);c.tex=this.tex;c.tey=this.tey;c.centreImage=true;c.width=o;c.height=n}if(this.shape)try{var q=this.getAttribute("objectToBeHidden");if(this.shape(c,g,q,this.visible,this.divName,d,f)||e==cp.kCPOTClickBoxItem)this.isDrawn=true;this.drawComplete()}catch(u){}c.restore();if(cp.movie.playbackController)if(a=cp.movie.playbackController.GetQuizController()){q=b.iqb;a=a.GetIsInReviewMode();if(q)switch(b.qbt){case "submit":case "submitAll":case "clear":if(a==
true){this.element.style.visibility="hidden";this.element.tabIndex=-1}break;case "postResult":b=cp.movie.playbackController.GetLMSType();if(!cp.movie.playbackController.CanPostResults()||b&&b.toUpperCase()=="INTERNALSERVER"){this.element.style.visibility="hidden";this.element.tabIndex=-1}}}if(this.transIn)this.element.parentElement.style.opacity=0;this.visible||cp.hide(this.divName)}}};cp.Shape.prototype.playPath=function(a){var b=a.length,c=0,d=this.canvas.gc;for(d.beginPath();c<b;)switch(a[c++]){case "M":d.moveTo(a[c++],
a[c++]);break;case "L":d.lineTo(a[c++],a[c++]);break;case "Z":d.closePath();break;case "Q":d.quadraticCurveTo(a[c++],a[c++],a[c++],a[c++]);break;case "C":d.bezierCurveTo(a[c++],a[c++],a[c++],a[c++],a[c++],a[c++])}};cp.MouseClick=function(a,b){cp.MouseClick.baseConstructor.call(this,a,b);this.data=this.getAttribute("data")};cp.inherits(cp.MouseClick,cp.Shape);cp.MouseClick.prototype.drawIfNeeded=function(){if(!this.isDrawn){var a=this.bounds,b=-a.minY+a.maxY,b=(this.canvas=cp.createCanvas(a.minX,a.minY,
Math.ceil(-a.minX+a.maxX),Math.ceil(b),this.element)).gc;b.save();this.element.style.left=a.minX+"px";this.element.style.top=a.minY+"px";this.element.style.width=a.maxX-a.minX+"px";this.element.style.height=a.maxY-a.minY+"px";if(this.shape)try{var c=this.getAttribute("objectToBeHidden");if(this.shape(b,this.data,c,this.visible,this.divName))this.isDrawn=true}catch(d){}b.restore()}};cp.FrameSet=function(a,b){function c(a,b,c,d,e,f){var b=new cp.Shortcut(b.k,b.c?true:false,b.s?true:false,b.a?true:false),
p="";if(c.eh!=void 0)p=d.dn;return new cp.KeyHandler(function(b){return a(c,d,b)},b,e,f,p)}cp.FrameSet.baseConstructor.call(this,a);this.children=b;this.from=this.getAttribute("from");this.to=this.getAttribute("to");this.afrom=this.getAttribute("afrom");this.ato=this.getAttribute("ato");this.transIn=this.getAttribute("trin");if(!this.transIn)this.transIn=0;this.transOut=this.getAttribute("trout");if(!this.transOut)this.transOut=0;if(this.element.drawingBoard){this.element.drawingBoard.style.display=
"block";this.element.drawingBoard.style.opacity=this.transIn>0?0:1}if(this.getAttribute("mp")=="mouse"){this.motionPathMover=cp.movie.mousePath;this.motionPathArgs=this.getAttribute("mpa")}this.type=this.getAttribute("type");this.itemData=cp.D[this.element.id];this.itemCanvasData=null;if(this.itemData&&this.itemData.mdi)this.itemCanvasData=cp.D[this.itemData.mdi];this.pa=this.getAttribute("pa");this.alwaysPause=this.getAttribute("cpa");var d=this.getAttribute("psv");if(d)this.psv=d;if(void 0!=this.pa){this.element.style.WebkitTapHighlightColor=
"rgba(0,0,0,0.3)";this.setAttribute("handled",false);this.setAttribute("clickedOnce",false);this.setAttribute("currentAttempt",0);this.setAttribute("actionInProgress",false);if(this.getAttribute("iqb")!=void 0&&this.getAttribute("iqb")){var d=this.getAttribute("sn"),d=cp.D[d].qs,e;d&&d.indexOf(",")==-1&&(e=cp.getQuestionObject(d));var d=this.getAttribute("qbt"),f=this.getAttribute("chfn");this.element.style.cursor="pointer";this.element.onclick=function(a){a.stopPropagation&&a.stopPropagation();f(a.target)};
if(d)switch(d){case "submit":e.registerSubmitButton(this.element);break;case "back":e.registerBackButton(this.element);break;case "skip":e.registerSkipButton(this.element);break;case "clear":e.registerClearButton(this.element);break;case "submitAll":e.registerSubmitAllButton(this.element)}}this.dependents=this.getAttribute("dep");if(cp.kCPOTAutoShape==this.type&&1==this.getAttribute("rp"))if((e=cp.movie.stage.currentSlide)&&e.from>this.pa)this.rp_pa=e.from+this.pa-this.from}this.htmlDependents=[];
void 0!=this.psv&&this.setAttribute("pausedOnce",false);if(e=this.getAttribute("onShow"))this.onShow=window[e];if(this.keyHandler=this.getAttribute("kh"))if(this.keyShortcut=this.getAttribute("sc"))(e=c(this.keyHandler,this.keyShortcut,cp.D[this.element.id],cp.D[this.element.id+"c"],this.from,this.to))&&cp.movie.stage.addKeyHandler(e);if(!this.keyHandler)if(this.keyHandler=this.getAttribute("eh"))(e=c(this.keyHandler,"",cp.D[this.element.id],cp.D[this.element.id+"c"],this.from,this.to))&&cp.movie.stage.addKeyHandler(e);
this.isStarted=false;if(cp.kCPOTClickBoxItem==this.type||cp.kCPOTScorableButtonItem==this.type||cp.kCPOTAutoShape==this.type)if(this.dblClick=this.getAttribute("dclk"))cp.movie.stage.getClickManager().addDoubleClick(cp.D[this.element.id],cp.D[this.element.id+"c"],this.element);else if(cp.kCPOTClickBoxItem==this.type)(this.rightClick=this.getAttribute("rclk"))&&cp.movie.stage.getClickManager().addRightClick(cp.D[this.element.id],cp.D[this.element.id+"c"],this.element);if(cp.kCPOTTextEntryButtonItem==
this.type)(this.parentId=this.getAttribute("vid"))&&cp.movie.stage.addToParentChildMap(this.parentId,this.element.id);if(cp.MSIE==cp.browser&&void 0!=this.type)switch(this.type){case cp.kCPOTStageShortAnswer:case cp.kCPOTQuestionFillBlank:case cp.kCPOTWidgetItem:case cp.kCPOTWebObject:case cp.kCPOTProgressIndicator:case cp.kCPOTReviewArea:case cp.kCPOTScoringResult:case cp.kCPOTStageAnswerItem:case cp.kCPOTStageAnswerLabel:case cp.kCPOTStageMatchingQuestion:case cp.kCPOTFLVItem:break;default:a.style.backgroundColor=
"#FFFFFF";a.style.opacity=0}};cp.inherits(cp.FrameSet,cp.DisplayObject);cp.FrameSet.prototype.isInRange=function(a){return this.from==0&&this.to==0||cp.kCPOTSuccessCaptionItem==this.type||cp.kCPOTFailureCaptionItem==this.type||cp.kCPOTHintCaptionItem==this.type||cp.kCPRolloverCaptionItem==this.type||cp.kCPRolloverImageItem==this.type||cp.kCPOTRolloverAutoShape==this.type?true:this.from<=a&&this.to>=a};cp.FrameSet.prototype.updateOpacity=function(){if(this.element.drawingBoard&&!(cp.kCPOTSuccessCaptionItem==
this.type||cp.kCPOTFailureCaptionItem==this.type||cp.kCPOTHintCaptionItem==this.type)){var a=cpInfoCurrentFrame-this.from+1,b=this.to-cpInfoCurrentFrame;this.element.drawingBoard.style.opacity=a<=this.transIn?a/this.transIn:a>this.to-this.from-this.transOut?b/this.transOut:1}};cp.FrameSet.prototype.updateFrame=function(a){this.updateOpacity();cp.FrameSet.superClass.updateFrame.call(this);a==cp.Timeline.ReasonForUpdate.JUMP&&this.setAttribute("clickedOnce",false)};cp.FrameSet.prototype.start=function(a){var b=
0;this.isStarted=true;this.element.style.display="block";if(this.element.drawingBoard)this.element.drawingBoard.style.display="block";if(void 0!=this.pa&&null!=cp.movie.stage.currentSlide){(b=-1!=this.pa)||(b=cp.kCPOTClickBoxItem==this.type||cp.kCPOTScorableButtonItem==this.type||cp.kCPOTAutoShape==this.type||cp.kCPOTTextEntryBoxItem==this.type);if(b)cp.movie.stage.currentSlide.topMostObjectInteractiveObject=this.element.id}cp.FrameSet.superClass.start.call(this,a);if(this.itemCanvasData&&1==this.itemCanvasData.visible)for(b=
0;b<this.htmlDependents.length;++b)this.htmlDependents[b].style.visibility="visible";this.updateOpacity();if(this.onShow)try{this.onShow.call(this.timeline)}catch(c){}if(typeof cptb!="undefined"&&!cptb.isObjectDrawn(this))cptb.onObjectEnter(this)};cp.FrameSet.prototype.reset=function(a){if(typeof cptb!="undefined"&&!cptb.isObjectReset(this))cptb.onObjectExit(this);var b=0;delete cp.ropMap[this.element.id];cp.FrameSet.superClass.reset.call(this,a);this.isStarted=false;var c=true;this.itemData.st&&
(c=false);a&&this.children&&(this.children[0]&&this.children[0].continueToNextSlide)&&(c=false);if(c)this.element.style.display="none";if(void 0!=this.pa){this.setAttribute("handled",false);this.setAttribute("clickedOnce",false);if(void 0!=this.dependents)for(b=0;b<this.dependents.length;++b)cp.hide(this.dependents[b])}for(b=0;b<this.htmlDependents.length;++b)this.htmlDependents[b].style.visibility="hidden";void 0!=this.psv&&this.setAttribute("pausedOnce",false);if(c&&this.element.drawingBoard){this.element.drawingBoard.style.opacity=
0;this.element.drawingBoard.style.display="none"}};cp.FrameSet.prototype.ApplyMotion=function(a){if(this.motionPathMover!=null)try{this.motionPathMover(this,a)}catch(b){}};cp.FrameSet.prototype.handleRewind=function(){if(void 0!=this.pa){this.setAttribute("handled",false);this.setAttribute("clickedOnce",false)}void 0!=this.psv&&this.setAttribute("pausedOnce",false);void 0!=this.type&&cp.kCPOTWidgetItem==this.type&&!this.itemData.rp&&1==this.children.length&&this.reset()};cp.FrameSet.prototype.onEndOfSlide=
function(a){var b=this.isStarted&&!this.isInRange(cpInfoCurrentFrame);if(!b)(b=cp.kCPOTSuccessCaptionItem==this.type||cp.kCPOTFailureCaptionItem==this.type||cp.kCPOTHintCaptionItem==this.type||cp.kCPOTAutoShape==this.type&&this.getAttribute("rp")!=1||cp.kCPRolloverCaptionItem==this.type||cp.kCPRolloverImageItem==this.type||cp.kCPOTRolloverAutoShape==this.type)||this.type==cp.kCPOTWidgetItem&&!this.itemData.rp&&(b=true);if(b)this.reset(a==cp.Timeline.ReasonForUpdate.PROGRESS);else if(cp.kCPOTAutoShape==
this.type&&this.getAttribute("uab")==1)(a=this.children[0])&&a.removeMouseHandlers()};cp.VideoFrameSet=function(a,b){this.suppliedElement=a;this.children=b;this.element=a;this.from=this.getAttribute("from");this.to=this.getAttribute("to");this.type=this.getAttribute("type");this.itemData=cp.D[this.element.id];this.pa=this.getAttribute("pa");var c=this.getAttribute("psv");if(c)this.psv=c;void 0!=this.pa&&this.setAttribute("pausedOnce",false);void 0!=this.psv&&this.setAttribute("pausedOnce",false);
this.isStarted=false};cp.inherits(cp.VideoFrameSet,cp.FrameSet);cp.VideoFrameSet.prototype.start=function(a){if(!cp.movie.stage.VideoPlaying){var b=cp.movie.stage.VideoElement;if(!b){b=this.suppliedElement;cp.movie.stage.VideoElement=b}cp.VideoFrameSet.baseConstructor.call(this,b,this.children);cp.VideoFrameSet.superClass.start.call(this);if(!this.effectIsStarted||a){this.updateEffects(this.hasEffect);this.effectIsStarted=true}}};cp.VideoFrameSet.prototype.reset=function(a){var b=this.suppliedElement;
b==this.element&&(b=null);cp.VideoFrameSet.superClass.reset.call(this,a);if(b)b.style.display="none"};cp.VideoFrameSet.prototype.getAttribute=function(a){var b=cp.D[this.suppliedElement.id];return!b?null:b[a]};cp.VideoFrameSet.prototype.setAttribute=function(a,b){var c=cp.D[this.suppliedElement.id];c&&(c[a]=b)};cp.FeedbackType={SUCCESS:0,FAILURE:1,HINT:2,OTHER:3};cp.FeedbackCloseReason={SHOW_SUCCESS:1,SHOW_FAILURE:2,SHOW_HINT:3,SLIDE_CHANGE:4,OTHER:5};cp.Feedback=function(a,b,c,d,e){this.lastFrame=
this.startFrame=this.currentFrame=0;this.itemName=a;this.endAction=b;this.parentSlide=cp.movie.stage.currentSlide;this.element=document.getElementById(a);this.item=cp.D[a];this.type=cp.FeedbackType.OTHER;if(void 0!=d)switch(d){case cp.FeedbackType.SUCCESS:case cp.FeedbackType.FAILURE:case cp.FeedbackType.HINT:this.type=d}this.actionObj=e;if(cp.FeedbackType.SUCCESS==this.type&&this.actionObj)this.actionObj.actionInProgress=true;if(this.item){this.transIn=this.item.trin;this.effectObj=this.item.ef}if(!this.transIn)this.transIn=
0;this.drawingBoard=null;if(this.element&&this.element.drawingBoard){this.element.drawingBoard.style.opacity=0;this.drawingBoard=this.element.drawingBoard}if(this.item)this.transOut=this.item.trout;if(!this.transOut)this.transOut=0;this.pause=c;this.onMouse=false;if(this.item&&this.item.to&&this.item.from)this.lastFrame=this.item.to-this.item.from;if(this.item&&void 0!=this.item.du)this.lastFrame=this.item.du;this.createCSSAnimationRule()};cp.Feedback.prototype={update:function(){this.currentFrame++;
if(this.currentFrame>this.lastFrame){cp.movie.stage.RemoveFeedback(this);this.hide();this.endAction&&cp.movie.executeAction(this.endAction)}if(this.effectObj){var a=this.effectObj["ef"+this.effectObj.id];if(a&&a.length)for(var b=0;b<a.length;++b){var c=a[b],d=this.currentFrame;if(c.sf-1>d||c.sf-1+c.du<=d)c.ci=-1;else{for(var e,d=d-(c.sf-1),f=0;f<c.kf.length-1;++f)if(c.kf[f].f<=d&&c.kf[f+1].f>d){c.ci=f;break}e=c.kf[c.ci];var g=c.io,k=c.fo,l=c.kf[c.ci+1],m=d-e.f,o=c.ease<0?-c.ease/100+1:1-c.ease/200,
f=e.x+(l.x-e.x)*Math.pow(m/(l.f-e.f),o);e=e.y+(l.y-e.y)*Math.pow(m/(l.f-e.f),o);c=(g+(k-g)*d/c.du)/100;c=c<0?0:c;c=c>1?1:c;this.element.style.left=this.element.bounds.minX+f+"px";this.element.style.top=this.element.bounds.minY+e+"px";if(this.element.drawingBoard){this.element.drawingBoard.style.left=this.element.drawingBoard.bounds.minX+f+"px";this.element.drawingBoard.style.top=this.element.drawingBoard.bounds.minY+e+"px";this.element.drawingBoard.style.opacity=c+""}}}}if(this.drawingBoard){a=cp.canUseWebkitAnimations()&&
cp.FeedbackType.HINT!=this.type;b=this.currentFrame;c=this.lastFrame-this.currentFrame;if(b<this.transIn){if(!a)this.drawingBoard.style.opacity=cp.device!=cp.DESKTOP?1:b/this.transIn}else{if(!a)this.drawingBoard.style.opacity=cp.device!=cp.DESKTOP?1:b>this.lastFrame-this.transOut?c/this.transOut:1;if(this.onMouse)this.currentFrame=this.lastFrame-this.transOut-1}}},onRollover:function(){this.onMouse=true;this.currentFrame=0;this.show()},onRollout:function(){this.onMouse=false;this.currentFrame=this.lastFrame-
this.transOut},createCSSAnimationRule:function(){function a(){var a=document.styleSheets[0];if(a&&!a.cssRules)return false;for(var b=0;b<a.cssRules.length;++b)if(a.cssRules[b].type==window.CSSRule.WEBKIT_KEYFRAMES_RULE&&a.cssRules[b].name==c)return true;return false}var b=cp.D[this.itemName];if(b&&cp.canUseWebkitAnimations()&&cp.FeedbackType.HINT!=this.type){var c=this.itemName+"_rule";if(a())cp.verbose&&cp.log("rule exists");else{var d="";if(b.trin!=0&&b.trin!=void 0)var e=Math.round(b.trin*1E4/
b.du)/100,d=d+(" { 0% { opacity:0; } "+e+"% { opacity:1; } ");else d=d+" { 0% { opacity:1; } ";if(b.trout!=0&&b.trout!=void 0){b=Math.round((b.du-b.trout)*1E4/b.du)/100;d=d+(" "+b+"% { opacity:1; }  100% { opacity:0; } }")}else d=d+" 100% { opacity:1; } }";b=document.styleSheets[0];cp.verbose&&cp.log(c+", "+d);b.insertRule("@-webkit-keyframes "+c+d)}this.webkitAnimationRule=c}},show:function(){var a=cp.D[this.itemName];if(a){if(this.drawingBoard)if(cp.canUseWebkitAnimations()&&cp.FeedbackType.HINT!=
this.type){cp.verbose&&cp.log("Using Webkit animation");this.drawingBoard.style.webkitAnimationName=this.webkitAnimationRule;this.drawingBoard.style.webkitAnimationDuration=a.du/cp.movie.fps+"s"}else this.drawingBoard.style.opacity=cp.device!=cp.DESKTOP?1:0;if(this.parentSlide!=void 0&&this.parentSlide==cp.movie.stage.currentSlide){this.pause&&!cp.movie.paused&&cp.movie.pause(cp.ReasonForPause.FEEDBACK_ITEM);var b=cp.FeedbackCloseReason.OTHER;switch(this.type){case cp.FeedbackType.SUCCESS:b=cp.FeedbackCloseReason.SHOW_SUCCESS;
break;case cp.FeedbackType.FAILURE:b=cp.FeedbackCloseReason.SHOW_FAILURE;break;case cp.FeedbackType.HINT:b=cp.FeedbackCloseReason.SHOW_HINT}cp.movie.stage.RemoveFeedbacks(b);cp.movie.stage.AddFeedback(this);cp.moveDivElemToTop(this.element);a=document.getElementById(a.mdi);a!=void 0&&cp.moveRewrapElemToTop(a.parentNode);cp.show(this.itemName)}}},hide:function(){if(cp.FeedbackType.SUCCESS==this.type&&this.actionObj)this.actionObj.actionInProgress=false;cp.hide(this.itemName);if(this.drawingBoard)this.drawingBoard.style.opacity=
1},canHide:function(a){return cp.FeedbackType.HINT==this.type||cp.FeedbackType.OTHER==this.type||cp.FeedbackCloseReason.SLIDE_CHANGE==a||cp.FeedbackCloseReason.OTHER==a?true:cp.FeedbackCloseReason.SHOW_HINT==a||cp.FeedbackType.SUCCESS==this.type?false:true}};cp.SlideGraphManager=function(){this.m_CurrentBranch=[];this.m_BranchHistory=[];this.m_SlideGraphObj={};this.m_RootSlideIndex=-1;this.m_InvalidSlideJump=false;this.m_CompletionBranch=[];this.m_CompletionBranchSet=false;this.m_CompletionBranchSlideCount=
-1;this.m_CompletionBranchSlideCountSet=false;this.m_BranchNumber=0;if(!this.BranchEnum){this.BranchEnum={};this.BranchEnum.kBranchNotFound=0;this.BranchEnum.kBranchFound=1;this.BranchEnum.kLoopBranchFound=2;this.BranchEnum.kMultipleBranchFound=3}};cp.SlideGraphManager.prototype={countUniqItems:function(a){for(var b={},c=0,d=0;d<a.length;++d){var e=a[d];if(b[e]==void 0){b[e]=e;++c}}return c},findCompletionBranchTraverse:function(a,b,c){var d=false,e=-1;if(!d&&this.m_SlideGraphObj[a]==void 0){e=this.BranchEnum.kBranchFound;
d=true}if(!d&&c[a]!=void 0){e=this.BranchEnum.kLoopBranchFound;d=true}b.push(a);c[a]=a;if(d){++this.m_BranchNumber;if(this.m_BranchNumber==1){this.m_CompletionBranch=this.m_CurrentBranch.concat(b);this.m_CompletionBranchSet=true;if(!(e==this.BranchEnum.kLoopBranchFound&&a==b[0])){this.m_CompletionBranchSlideCount=this.countUniqItems(this.m_CurrentBranch.concat(b));this.m_CompletionBranchSlideCountSet=true}b.pop();delete c[a];return this.BranchEnum.kBranchFound}if(this.m_BranchNumber>=2){this.m_CompletionBranchSet=
false;if(this.m_CompletionBranchSlideCountSet){var f=this.countUniqItems(this.m_CurrentBranch.concat(b));if(!(e==this.BranchEnum.kLoopBranchFound&&a==b[0])&&f==this.m_CompletionBranchSlideCount){b.pop();delete c[a];return this.BranchEnum.kBranchFound}this.m_CompletionBranchSlideCountSet=false;b.pop();delete c[a];return this.BranchEnum.kMultipleBranchFound}b.pop();delete c[a];return this.BranchEnum.kMultipleBranchFound}}e=this.m_SlideGraphObj[a];d=false;for(f in e)switch(this.findCompletionBranchTraverse(Number(f),
b,c)){case this.BranchEnum.kBranchFound:d=true;case this.BranchEnum.kBranchNotFound:break;case this.BranchEnum.kMultipleBranchFound:return this.BranchEnum.kMultipleBranchFound}b.pop();delete c[a];return d?this.BranchEnum.kBranchFound:this.BranchEnum.kBranchNotFound},findCompletionBranch:function(){this.m_CompletionBranch=[];this.m_CompletionBranchSet=false;this.m_BranchNumber=0;this.findCompletionBranchTraverse(this.m_CurrentBranch.length>=1?this.m_CurrentBranch[this.m_CurrentBranch.length-1]:this.m_RootSlideIndex,
[],{})},initialize:function(){if(cp.D.baq){var a=cp.D.sgMgr;if(a!=void 0){var b=a.ri,a=a.sg;if(!(b==void 0||a==void 0)){this.m_InvalidSlideJump=false;this.m_RootSlideIndex=b;for(b=0;b<a.length;++b){var c=a[b];if(!(c==void 0||c.length!=2)){this.m_SlideGraphObj[c[0]]={};for(var d=c[1],e=0;e<d.length;++e){var f=d[e];if(!(f==void 0||f.length!=2)){this.m_SlideGraphObj[c[0]][f[0]]={};for(var g=f[1],k=0;k<g.length;++k){var l=g[k];l!=void 0&&(this.m_SlideGraphObj[c[0]][f[0]][l]=l)}}}}}}}}},onSlideJump:function(a){if(this.m_CurrentBranch.length>
0){var b=this.m_CurrentBranch[this.m_CurrentBranch.length-1];if(a==b)return;if(this.m_SlideGraphObj[b]==void 0){this.m_BranchHistory.push(a);this.m_InvalidSlideJump=true;return}if(this.m_SlideGraphObj[b][a]==void 0){this.m_InvalidSlideJump=true;this.updateCurrentBranch(a);this.m_BranchHistory.push(a);return}}this.m_BranchHistory.push(a);this.m_CurrentBranch.push(a)},getSlideViewPercentage:function(){!this.m_CompletionBranchSet&&!this.m_CompletionBranchSlideCountSet&&this.findCompletionBranch();if(!this.m_CompletionBranchSet&&
!this.m_CompletionBranchSlideCountSet)return"NaN";var a=this.countUniqItems(this.m_CurrentBranch),b=-1,b=this.m_CompletionBranchSlideCountSet?this.m_CompletionBranchSlideCount:this.countUniqItems(this.m_CompletionBranch);return b<=0?"NaN":a*100/b},isSlidePartOfCurrentBranch:function(a){return this.m_CurrentBranch.length>0&&this.m_CurrentBranch.indexOf(a)!=-1?true:false},getCompletionBranch:function(){this.m_CompletionBranchSet||this.findCompletionBranch();return!this.m_CompletionBranchSet?[]:this.m_CompletionBranch},
getCurrentBranch:function(){return this.m_CurrentBranch},getBranchHistory:function(){return this.m_BranchHistory},restoreCompletionBranchState:function(a){if(a.length>0){this.m_CompletionBranch=[];this.m_CompletionBranch=a;this.m_CompletionBranchSet=true}},restoreCurrentBranchState:function(a){if(a.length>0){this.m_CurrentBranch=[];this.m_CurrentBranch=a;this.m_BranchHistory=[];this.m_BranchHistory=a.slice()}},resetCurrentBranch:function(a){if(!(a<0)){for(var b=-1,c=0;c<this.m_CurrentBranch.length;++c)if(this.m_CurrentBranch[c]==
a){b=a;break}b>=0&&b+1<this.m_CurrentBranch.length&&this.m_CurrentBranch.splice(b+1)}},updateCurrentBranch:function(){},getMaxQuizScore:function(){return 0},getMinQuizScore:function(){return 0},getQuizScorePercentage:function(){return 0},getNextAttemptFirstQuestionSlideIndex:function(){return-1},getReviewFirstQuestionSlideIndex:function(){return-1},getNumQuestions:function(){return 0},getQuestionSlideProgressNumber:function(){return"NaN"},setQuestionSlideProgressNumber:function(){},getLastQuestionSlideIndex:function(){return-1},
getNextSlideList:function(a){var b=[];if(this.m_SlideGraphObj[a]!=void 0){var a=this.m_SlideGraphObj[a],c;for(c in a)b.push(Number(c))}return b},getIsJumpValid:function(a,b){return this.m_SlideGraphObj[a]==void 0||this.m_SlideGraphObj[a][b]==void 0?false:true}};cp.Timeline=function(a){cp.Timeline.baseConstructor.call(this,a);this.updateTimeline();this.pools=this.getAttribute("pools");this.currentSlideStartFrame=this.nextSlideStartFrame=this.previousSlideStartFrame=-1;this.movieEndAction=this.getAttribute("endAction");
this.fadeInAtStart=this.getAttribute("fadeInAtStart");this.fadeOutAtEnd=this.getAttribute("fadeOutAtEnd");this.noSkipFrames={};this.m_useWidgetVersion7=this.getAttribute("useWidgetVersion7");var b=this;this.paused=false;this.cStart=this.lastFrame+1;this.cEnd=-1;this.imagesToBeCleared=[];this.slideDiv=null;this.eventListeners=[];this.feedbacks=[];this.m_keyManager=new cp.KeyManager;this.m_clickManager=new cp.ClickManager;this.parentChildMap=[];this.videoCCItems=this.audioCCItems=null;this.curVidCCItem=
this.curAudCCItem=-1;this.itemsNotLoaded=[];this.interactivePauseFrame=-1;this.m_interactionManagers=[];this.mainSlideDiv=this.element.children[0];this.mainSlideDiv.style.display="block";if(a=document.getElementById("cpDocument")){jQuery(document).keydown(function(a){b.m_keyManager.handleKeyDown(a)});jQuery(document).keyup(function(a){b.m_keyManager.handleKeyUp(a)});jQuery(document).focusout(function(a){b.m_keyManager.handleFocusOut(a)})}a.style.backgroundColor=cp.D.project.htmlBgColor;this.verbose=
false};cp.inherits(cp.Timeline,cp.DisplayObject);cp.Timeline.prototype.updateTimeline=function(){this.slides=(this.getAttribute("slides")||"").split(",");this.questions=[];var a=this.getAttribute("questions")||"";if(a.length>0)this.questions=a.split(",");this.lastFrame=this.getAttribute("to")};cp.Timeline.prototype.addToItemNotLoaded=function(a){this.itemsNotLoaded.push(a)};cp.Timeline.prototype.removeFromItemNotLoaded=function(a){for(var b=0;b<this.itemsNotLoaded.length;++b)if(a==this.itemsNotLoaded[b]){this.itemsNotLoaded.splice(b,
1);break}};cp.Timeline.prototype.hasItemsLoaded=function(){var a=this.itemsNotLoaded.length>0;cp.verbose&&a>0&&cp.log(a+" widgets pending");return!a};cp.Timeline.prototype.addToParentChildMap=function(a,b){var c=0,d="",c=null;if(!(""==a||""==b)){for(c=0;c<this.parentChildMap.length;++c){d=this.parentChildMap[c].m_parent;if(d==a){this.parentChildMap[c].m_childArr.push(b);return}}c={};c.m_parent=a;c.m_childArr=[];c.m_childArr.push(b);this.parentChildMap.push(c)}};cp.Timeline.prototype.clearParentChildMap=
function(){this.parentChildMap=[]};cp.Timeline.prototype.getChildrenForParent=function(a,b){var c=0,d="";if(""!=a)for(c=0;c<this.parentChildMap.length;++c){d=this.parentChildMap[c].m_parent;if(d==a)for(j=0;j<this.parentChildMap[c].m_childArr.length;++j){b.push(this.parentChildMap[c].m_childArr[j]);this.getChildrenForParent(this.parentChildMap[c].m_childArr[j],b)}}};cp.Timeline.prototype.addKeyHandler=function(a){a&&this.m_keyManager.addHandler(a)};cp.Timeline.prototype.getClickManager=function(){return this.m_clickManager};
cp.Timeline.prototype.setupSlideItemDiv=function(a,b,c,d,e,f,g){var k="canvas",f="cp-shape",c=true;if(cp.kCPHighlight==a.t)f="cp-hb";else if(cp.kCPRolloverAreaItem==a.t)f="cp-rai";else if(cp.kCPZoomSource==a.t)f="cp-zoom";else if(cp.kCPMouse==a.t)c=true;else if(cp.kCPMouseClick==a.t){f="cp-mc";c=true}else if(cp.kCPOTReviewArea==a.t){k="div";f="cp-questionSlideReviewLabel";c=false}else if(cp.kCPOTProgressIndicator==a.t){k="div";f="cp-progressSlideLabel";c=false}else if(cp.kCPOTScoringResult==a.t){k=
"div";f="cp-resultSlideLabel";c=false}else if(cp.kCPTypingText==a.t){k="div";f="cp-typingtext"}else if(cp.kCPOTTextEntryBoxItem==a.t){k="div";f="cp-input";c=false}else if(cp.kCPOTLineItem==a.t)f="cp-line";else if(cp.kCPOTAnswerArea==a.t||cp.kCPOTMatchingQuestionArea==a.t||cp.kCPOTMatchingAnswerArea==a.t||cp.kCPOTLikertQuestionArea==a.t||cp.kCPOTLikertTotalGroupArea==a.t)f="cp-answerArea";else if(cp.kCPOTStageQuestionText==a.t||cp.kCPOTStageQuestionTitle==a.t)f="cp-rectWithText";else if(cp.kCPOTWidgetItem==
a.t){k="div";f="cp-widget";c=this.m_useWidgetVersion7}else if(cp.kCPOTWebObject==a.t){k="div";f="cp-WebObject";c=false}else if(cp.kCPOTTAItem==a.t){k="div";f="cp-ta"}else if(cp.kCPOTFLVItem==a.t){k="div";f="cp-eventVideo";c=true}else if(cp.kCPOTVideo==a.t){k="div";f="cp-slideVideo";c=true}else if(cp.kCPFullMotion==a.t){k="div";f="cp-fmrVideo";c=true}else if(cp.kCPOTVideoResource==a.t){k="div";f="cp-cpvcVideo";c=true}else if(cp.kCPOTAnimationItem==a.t){k="div";f="cp-animationItem";c=true}else if(cp.extObjInfo)for(var l=
0;l<cp.extObjInfo.length;++l)if(cp.IsValidObj(cp.extObjInfo[l].cb)){var m={};m.elemType=k;m.classType=f;m.rewrap=c;if(cp.extObjInfo[l].cb(a.t,m)){k=m.elemType;f=m.classType;c=m.rewrap;break}}l="c";if(cp.kCPOTStageAnswerItem==a.t){m=cp.D[a.n+"c"].at;if(m==cp.kCPOTStageSingleChoiceMultipleAnswer){l="r";f="cp-singleChoiceInput"}else if(m==cp.kCPOTStageMultipleChoiceMultipleAnswer){l="ch";f="cp-multipleChoiceInput"}else if(m==cp.kCPOTStageSequenceAnswer){l="seq";f="cp-sequenceInput"}else if(m==cp.kCPOTStageMatchingAnswer){l=
"mtcha";f="cp-matchingAnswer"}k="div";c=false}if(cp.kCPOTQuestionFillBlank==a.t){f="cp-fibAnswer";l="fib";k="div";c=false}if(cp.kCPOTStageShortAnswer==a.t){f="cp-shortAnswer";l="sha";k="div";c=false}if(cp.kCPOTItemHotSpot==a.t){f="cp-hotspotInput";l="hotspot";k="div";c=false}if(cp.kCPOTStageMatchingQuestion==a.t){f="cp-matchingItem";l="mtchi";k="div";c=false}if(cp.kCPOTStageLikertQuestion==a.t){f="cp-likertItem";l="li";k="div";c=false}else if(cp.kCPOTOvalItem==a.t||cp.kCPOTRectangleItem==a.t||cp.kCPOTPolygon==
a.t||cp.kCPOTAnswerArea==a.t||cp.kCPOTMatchingQuestionArea==a.t||cp.kCPOTMatchingAnswerArea==a.t||cp.kCPOTLikertQuestionArea==a.t||cp.kCPOTLikertTotalGroupArea==a.t)f="cp-drawingItem";else if(cp.kCPOTTitleAutoShape==a.t||cp.kCPOTSubTitleAutoShape==a.t||cp.kCPOTAutoShape==a.t||cp.kCPOTRolloverAutoShape==a.t)f="cp-autoShape";this.SetItemVisibility(a);if(g)k=cp(a.n+l);else{k=cp.newElem(k);k.id=a.n+l;k.setAttribute("class",f)}if(cp.kCPOTStageAnswerItem==a.t){b=cp.D[a.n+"c"];m=b.at;if(m==cp.kCPOTStageSequenceAnswer){k.setAttribute("tabIndex",
"-1");k.setAttribute("aria-label",b.accstr);cp.removeAccessibilityOutline(k);k.setAttribute("role","img")}}if(cp.kCPOTTextEntryBoxItem==a.t&&a.d){if(a.d.hc&&a.d.hc.length>0&&cp.device!=cp.IDEVICE&&cp.device!=cp.ANDROID){k.setAttribute("onmouseover",'cp.showHint("'+a.d.hc+'",this)');k.setAttribute("onmouseout",'cp.hideHint("'+a.d.hc+'",this)')}if(a.d.cur)k.style.cursor="text"}f=void 0;if(c){if(g)e=cp("re-"+k.id);else{e=cp.newElem("div");e.id="re-"+k.id;e.setAttribute("class","cp-rewrap");e.appendChild(k)}cp.kCPOTTAItem==
a.t&&cp.removeAccessibilityOutline(e);f=e;g&&cp.kCPOTWidgetItem==a.t||d.appendChild(e)}else{f=e;g?cp.kCPOTWidgetItem!=a.t&&d.appendChild(e):e.appendChild(k)}f.style.zIndex=b.zIndex;cp.fixWebkitScaling(f)};cp.Timeline.prototype.SetItemVisibility=function(a){if(a&&cp.kCPOTRetakeButton==a.t&&cp.movie.playbackController)if(a=cp.D[a.n]){var a=cp.D[a.mdi],b=cp.movie.playbackController.GetQuizController();a&&b&&(a.visible=b.CanShowRetakeButton())}};cp.Timeline.prototype.setupSlideBGDivAndCanvas=function(a){var a=
cp.D[this.slides[a]],b=this.getSlideDiv();K(a,b,true)};cp.Timeline.prototype.setupSlideDiv=function(a,b){cp.multiPassSetupSlide||K(a,b,false);var c=b.firstChild,d=document.getElementById("Slide"+a.id+"c");if(a.st=="Question Slide"){var e=cp.getQuestionObjectName(c.id);if(e=cp.D[e])b.onclick=e.qtp!="Hotspot"?void 0:cp.handleClick}else b.onclick=cp.handleClick;this.m_EffectAnimationManager=void 0;if(this.m_SlideHasEffects||cp.movie.PPTXSlide)this.m_EffectAnimationManager=PPTXLib.initializeAnimationManagerForCPSlide(a);
if(a.si.length>0)for(var e=a.si,f=0;f<e.length;++f){var g=e[f],k=cp.D[g.n];k.zIndex=f;var l,m=document.getElementById(g.n);if(m){l=m;this.setupSlideItemDiv(g,k,a,c,l,d,true);k.rp==1&&l.tabIndex!==-1&&(k.rpa==1?l.setAttribute("tabIndex",2499):l.setAttribute("tabIndex",2500+k.zIndex))}else{l=cp.newElem("div");l.id=g.n;cp.device==cp.IDEVICE||cp.device==cp.ANDROID?cp.kCPOTFLVItem==g.t||cp.kCPOTVideo==g.t||cp.kCPFullMotion==g.t||cp.kCPOTVideoResource==g.t?l.setAttribute("class","cp-videoframeset"):l.setAttribute("class",
"cp-frameset"):l.setAttribute("class","cp-frameset");this.setupAccessibility(g,l);this.addHyperLinks(g,l);cp.kCPOTTextEntryButtonItem==g.t&&l.setAttribute("onclick","cp.TEBValidator(this)");if((cp.kCPOTScorableButtonItem==g.t||cp.kCPOTClickBoxItem==g.t||cp.kCPOTAutoShape==g.t)&&g.d){if(g.d.hc&&g.d.hc.length>0&&cp.device!=cp.IDEVICE&&cp.device!=cp.ANDROID){l.setAttribute("onmouseover",'cp.showHint("'+g.d.hc+'",this)');l.setAttribute("onmouseout",'cp.hideHint("'+g.d.hc+'",this)')}if(g.d.cur)cp.kCPOTAutoShape==
g.t?k.handCursor=true:l.style.cursor="pointer"}this.setupSlideItemDiv(g,k,a,c,l,d);k.immo===true&&l.tabIndex!==-1&&(a.mmot?l.setAttribute("tabIndex",2499):l.setAttribute("tabIndex",2500+e.length))}k=k.zIndex;cp.kCPOTWidgetItem==g.t?(this.m_useWidgetVersion7||!m)&&b.appendChild(l):b.appendChild(l);l.style.zIndex=k;cp.fixWebkitScaling(l)}cp.createAlternativeAccessibleText(c,a.accstr,"img");cp.removeAccessibilityOutline(c);e=a.accstr;cp.D.pref.acc===0&&(e=" ");if(cp.SAFARI===cp.browser){c.setAttribute("role",
"img");c.setAttribute("aria-label",e)}else{d=cp.newElem("p");d.innerHTML=e;e=cp.newElem("div");e.id=c.id+"accStr2";e.style.opacity=0;e.style.width="0px";e.style.height="0px";e.style.left="-1999px";e.style.position="fixed";e.appendChild(d);e.setAttribute("tabIndex","2400");c.appendChild(e)}};cp.Timeline.prototype.addHyperLinks=function(a,b){if(a){var c=cp.D[a.n+"c"];if(c!=void 0&&c.hasOwnProperty("hl")!=false)for(var c=c.hl.split(","),d=0;d<c.length;++d){var e=c[d];if(e!=""){var f=cp.D[e];if(f==void 0)break;
if(f.oca=="")break;var g=f.b;if(g=="")break;var k=cp.newElem("div");k.id=e;k.setAttribute("tabIndex",f.ti);k.setAttribute("aria-label",f.accstr);cp.D.pref.hsr===1&&cp.removeAccessibilityOutline(k);k.setAttribute("role","link");k.style.display="block";k.style.position="absolute";k.style.width=g[2]-g[0]+"px";k.style.height=g[3]-g[1]+"px";k.style.top=g[1]+"px";k.style.left=g[0]+"px";k.style.backgroundColor="#FFFFFF";k.style.opacity=0;k.style.cursor="pointer";k.setAttribute("onclick","cp.hyperlinkClick(this)");
b.appendChild(k)}}}};cp.Timeline.prototype.setupAccessibility=function(a,b){if(a){var c=cp.D[a.n+"c"];if(c!=void 0&&c.hasOwnProperty("accstr")!==false){var d=c.ti,e=c.accstr;if(a.t==cp.kCPOTCaptionItem||a.t==cp.kCPOTTitleAutoShape||a.t==cp.kCPOTScoringResultItem||cp.kCPOTSuccessCaptionItem==a.t||cp.kCPOTImageBoxItem==a.t||cp.kCPOTFailureCaptionItem==a.t||cp.kCPOTHintCaptionItem==a.t||cp.kCPOTIncompleteFeedbackItem==a.t||cp.kCPOTStageCorrectFeedback==a.t||cp.kCPOTStageIncorrectFeedback==a.t||cp.kCPOTStagePartialCorrectFeedback==
a.t||cp.kCPOTTimeoutFeedbackItem==a.t||cp.kCPOTRetryFeedbackItem==a.t||cp.kCPOTFillBlankCaption==a.t||cp.kCPOTStageMatchingQuestion==a.t||cp.kCPOTStageMatchingAnswer==a.t||cp.kCPOTStageMatchingAnswerEntry==a.t||cp.kCPOTStageAnswerItem==a.t||cp.kCPOTQuestionColumn==a.t||cp.kCPRolloverCaptionItem==a.t||cp.kCPRolloverImageItem==a.t){b.setAttribute("tabIndex",-1);cp.kCPOTFillBlankCaption==a.t?cp.createAlternativeAccessibleText(b,c.fibText,"img"):cp.createAlternativeAccessibleText(b,e,"img");cp.removeAccessibilityOutline(b)}else if(a.t==
cp.kCPOTScorableButtonItem||a.t==cp.kCPOTRetakeButton||a.t==cp.kCPOTScoringReviewButton||a.t==cp.kCPOTScoringContinueButton){b.setAttribute("tabIndex",d);cp.createAlternativeAccessibleText(b,e,"button");cp.D.pref.hsr===1&&cp.removeAccessibilityOutline(b)}else if(a.t==cp.kCPOTTextEntryButtonItem){b.setAttribute("tabIndex",d);cp.createAlternativeAccessibleText(b,e,"button");cp.D.pref.hsr===1&&cp.removeAccessibilityOutline(b)}else if(a.t==cp.kCPOTClickBoxItem){b.setAttribute("tabIndex",-1);cp.removeAccessibilityOutline(b);
cp.createAlternativeAccessibleText(b,e,"button")}else if(a.t==cp.kCPOTLineItem||a.t==cp.kCPOTOvalItem||a.t==cp.kCPOTRectangleItem||a.t==cp.kCPOTPolygon||a.t==cp.kCPOTAutoShape){b.setAttribute("tabIndex",d);cp.createAlternativeAccessibleText(b,e,"img");cp.D.pref.hsr===1&&cp.removeAccessibilityOutline(b)}else if(a.t==cp.kCPOTStageQuestionText||a.t==cp.kCPOTStageQuestionTitle){b.setAttribute("tabIndex",-1);cp.removeAccessibilityOutline(b);cp.createAlternativeAccessibleText(b,e,"img")}else if(a.t==cp.kCPOTStageQuestionNextButton||
a.t==cp.kCPOTStageQuestionClearButton||a.t==cp.kCPOTStageQuestionBackButton||a.t==cp.kCPOTStageQuestionSubmitButton||a.t==cp.kCPOTSubmitAllButton){b.setAttribute("tabIndex",d);cp.createAlternativeAccessibleText(b,e,"button");cp.D.pref.hsr===1&&cp.removeAccessibilityOutline(b)}else if(a.t==cp.kCPOTAnimationItem||a.t==cp.kCPOTTAItem||a.t==cp.kCPOTTitleAutoShape||a.t==cp.kCPOTSubTitleAutoShape){b.setAttribute("tabIndex",-1);cp.removeAccessibilityOutline(b);cp.createAlternativeAccessibleText(b,e,"img")}else if(a.t==
cp.kCPOTFLVItem){b.setAttribute("tabIndex",d);cp.createAlternativeAccessibleText(b,e,"presentation")}else if(a.t==cp.kCPOTWidgetItem){b.setAttribute("tabIndex",d);cp.createAlternativeAccessibleText(b,e,"application");cp.D.pref.hsr===1&&cp.removeAccessibilityOutline(b)}}}};cp.Timeline.prototype.getSlideDiv=function(){return this.mainSlideDiv};cp.Timeline.prototype.canUpdateToFrame=function(a,b){var c=b;c||(c=this.getSlideIndexForFrame(a));return this.canUpdateToSlide(c)};cp.Timeline.prototype.canUpdateToSlide=
function(a){return a>=this.slides.length||a<0?false:cp.movie.playbackController?cp.movie.playbackController.AllowedToGoToSlide(cpInfoCurrentSlideIndex,a)=="":true};cp.Timeline.prototype.getSlideIndexForFrame=function(a){for(var b=0;b<this.slides.length;++b){var c=cp.D[this.slides[b]],d=c.to;if(a>=c.from&&a<=d)return b}return-1};cp.Timeline.prototype.getSlideNameForIndex=function(a){return 0<=a&&a<this.slides.length?this.slides[a]:""};cp.Timeline.prototype.getSlideIndexForName=function(a){if(a==void 0||
a=="")return-1;for(var b=0;b<this.slides.length;++b)if(a==this.slides[b])return b;return-1};cp.Timeline.prototype.updatePlaybar=function(a){cp.verbose&&cp.log("update playbar "+a);if(!this.frameSlider)this.frameSlider=document.getElementById("playbarSlider");this.frameSlider!=void 0&&this.frameSlider.updateSlider(a-(Math.floor(cp.movie.framesToSkipForPlaybar)-cp.movie.framesToSkipForPlaybar))};cp.Timeline.prototype.updateToc=function(a){if(cp.loadedModules.toc&&cp.D.tocProperties.showTotalD){if(!this.toc)this.toc=
document.getElementById("tocFooterText");this.toc!=void 0&&this.toc.updateTime(a)}};cp.Timeline.prototype.updateSlideNumber=function(){};cp.Timeline.prototype.setAdjacentSlidesStartFrames=function(a,b){this.updateSlideNumber(b);var c=cp.D[a[b-1]];this.previousSlideStartFrame=c?c.from:-1;this.nextSlideStartFrame=(c=cp.D[a[b+1]])?c.from:-1};cp.Timeline.prototype.AddEventListeners=function(a){if(a.si.length>0)for(var a=a.si,b=0;b<a.length;++b){var c=a[b],d=cp.D[c.n];if((c=cp(c.n))&&d){var e=false,f=
d.vt;if(f!=void 0&&f!="")if(void 0==d.vars&&void 0==d.varLens&&void 0==d.texts){d.vars=[];d.varLens=[];d.texts=[];var g=f.split("$$");if(g.length>1)for(f=0;f<g.length;f=f+2){d.texts.push(g[f]);if(f+1<g.length){var k=g[f+1],l=0;if(k&&""!=k){e=cp.em.addEventListener(c,cp.SPECIFIC_VARIABLE_CHANGED_EVENT,k);l=cp.vm.getVariableLength(k)}void 0==k&&(k="");d.vars.push(k);d.varLens.push(l)}}else d.texts.push(f)}else for(f=0;f<d.vars.length;++f)cp.em.addEventListener(c,cp.SPECIFIC_VARIABLE_CHANGED_EVENT,d.vars[f]);
e&&this.eventListeners.push(c)}}};cp.Timeline.prototype.AddFeedback=function(a){a&&this.feedbacks.push(a)};cp.Timeline.prototype.RemoveFeedbacks=function(a){for(var b=0,c=[],b=0;b<this.feedbacks.length;++b)cp.FeedbackCloseReason.SLIDE_CHANGE==a||this.feedbacks[b].canHide(a)?this.feedbacks[b].hide():c.push(this.feedbacks[b]);this.feedbacks=[];for(b=0;b<c.length;++b)this.feedbacks.push(c[b])};cp.Timeline.prototype.RemoveFeedback=function(a){for(var b=0;b<this.feedbacks.length;++b)if(this.feedbacks[b]==
a){this.feedbacks.splice(b,1);break}};cp.Timeline.prototype.UpdateFeedbacks=function(){for(var a=0;a<this.feedbacks.length;++a)this.feedbacks[a].update()};cp.Timeline.prototype.RemoveEventListeners=function(){for(var a=0;a<this.eventListeners.length;++a)cp.em.removeEventListener(this.eventListeners[a],cp.SPECIFIC_VARIABLE_CHANGED_EVENT);this.eventListeners.length=0};cp.Timeline.prototype.getFrameset=function(a){for(var b=0,b=0;b<this.children.length;++b)if(a==this.children[b].element.id)return this.children[b];
return null};cp.Timeline.prototype.correctReWrapZOrder=function(a,b){if(a&&(b&&a.id!=b.id)&&!(b.className!="cp-rewrap"||a.className!="cp-rewrap")){var c=b.parentElement;if(c)for(var d=c.firstChild;d.id!=b.id;d=d.nextSibling)if(d.id!=a.id&&d.className=="cp-rewrap"){var e=d.firstChild;if(e)if((e=e.firstChild)&&e.tagName=="VIDEO")continue;cp.verbose&&cp.log("inserting "+d.id+" before "+a.id);c.insertBefore(d,a)}}};cp.Timeline.prototype.correctParentZOrder=function(a,b){if(a&&(b&&a.id!=b.id)&&!(b.className!=
"cp-frameset"||a.className!="cp-frameset")){var c=b.parentElement;if(c)for(var d=c.firstChild;d.id!=b.id;d=d.nextSibling)if(d.id!=a.id&&d.className=="cp-frameset"){cp.verbose&&cp.log("inserting "+d.id+" before "+a.id);c.insertBefore(d,a)}}};cp.Timeline.prototype.selectivelyRemoveHTMLObjects=function(a){var b=a.firstChild;if(b){var c={};if(this.children)for(var d=1;d<this.children.length;++d){var e=this.children[d],f=false;if(e.itemData.rp||e.itemData.ddv)e.itemData.from<=cpInfoCurrentFrame&&e.itemData.to>=
cpInfoCurrentFrame&&(f=true);if(cp.kCPOTVideo==e.type){var g=e.children[0];if(g&&g.element)(g=g.element.firstChild)&&g.tagName=="VIDEO"&&(f=true)}else if(cp.IDEVICE==cp.device||cp.device==cp.ANDROID)if(cp.kCPOTFLVItem==e.type||cp.kCPFullMotion==e.type||cp.kCPOTVideo==e.type||cp.kCPOTVideoResource==e.type)if((g=e.children[0])&&g.element)(g=g.element.firstChild)&&g.tagName=="VIDEO"&&(f=true);if(f){for(var k in e.children){g=e.children[k];if(g.element)(f=g.element.parentElement)&&(f.className=="cp-rewrap"?
c[f.id]=1:c[g.element.id]=1)}e.element&&(c[e.element.id]=1);if(cp.IDEVICE==cp.device||cp.device==cp.ANDROID)e.suppliedElement&&(c[e.suppliedElement.id]=1)}}for(e=b.firstChild;e;e=d){d=e.nextSibling;if(e&&!(e.id=="__bgDiv__"||b.id+"c"==e.id||c[e.id])){e.onmouseover=null;e.onmouseout=null;e.ontouchstart=null;e.ontouchend=null;e.onmousedown=null;e.onmouseup=null;e.ontouchmove=null;e.onclick=null;cp.verbose&&cp.log("removing "+e.id);b.removeChild(e)}}for(b=b.nextSibling;b;b=d){d=b.nextSibling;if(!c[b.id]){b.onmouseover=
null;b.onmouseout=null;b.ontouchstart=null;b.ontouchend=null;b.onmousedown=null;b.onmouseup=null;b.ontouchmove=null;b.onclick=null;cp.verbose&&cp.log("removing "+b.id);a.removeChild(b)}}for(d=this.parentChildMap.length-1;d>=0;--d)c[this.parentChildMap[d].m_parent]||this.parentChildMap.splice(d,1)}};cp.Timeline.prototype.loadAssetsForSlideAtIndex=function(a){cp.verbose&&cp.log("loadAssetsForSlideAtIndex "+a);cp.movie.pm.loadSlideAssets(a);var b=cp.movie.pm.numSlidesToAttemptPreloaded(),c=false,d=cp.D.sgMgr;
if(d)if((d=d.sg)&&d.length>a)for(var d=d[a][1],e=d.length,f=0;b-- >0&&f<e;){cp.movie.pm.preloadSlideAssets(d[f][0]);++f;c=true}c||a<this.slides.length-1&&cp.movie.pm.preloadSlideAssets(a+1)};cp.Timeline.prototype.addFramesetsForSlideAtIndex=function(a){cp.verbose&&cp.log("addFramesetsForSlideAtIndex "+a);var b=cp.D[this.slides[a]],c=this.getSlideDiv();this.RemoveFeedbacks(cp.FeedbackCloseReason.SLIDE_CHANGE);this.m_keyManager.clearHandlers();this.m_clickManager.clearClicks();cp.multiPassSetupSlide||
this.selectivelyRemoveHTMLObjects(c);this.m_lowestRewrapElementThatIsRestOfProjectAndOnTop=this.m_lowestElementThatIsRestOfProjectAndOnTop=null;this.itemsNotLoaded=[];this.setupSlideDiv(b,c);var d=b.qs.split(",");if(this.m_GraphManager)this.m_GraphManager.onSlideJump(a);if(cp.movie.playbackController){var e=cp.movie.playbackController.GetQuizController();if(d&&d!=""&&d.length>0){if(!e)return;for(var f=0;f<d.length;++f){var g=cp.getQuestionObject(d[f]);if(g){this.verbose&&cp.log("Starting question for : "+
d[f]);g.m_isStarted=false}}}if(e)if(a==e.GetAnyScoreSlideIndex()){e.GetScore();if(!e.GetIsAllowReviewMode()&&e.GetIsQuizCompleted()){cp.movie.paused=true;shouldShowSlide=false}if(e.GetCurrentAttempt()>=e.GetNumberOfQuizAttempts()){e.GetIsAllowReviewMode()&&e.SetIsInReviewMode(true);e.SetIsQuizCompleted(true)}e.GetIsPassed()&&e.SetIsQuizCompleted(true);e.GetScore()}else shouldShowSlide=false}P={};a=[];for(c=c.firstChild;c;c=c.nextSibling)if(c.nodeType==Node.ELEMENT_NODE&&c.nodeName!="IMG"){d=false;
if("Slide"+b.id==c.id)d=true;else for(e=0;e<b.si.length;++e)if(b.si[e].n==c.id){d=true;break}f=(c.className+"").split(" ");e=f.indexOf("cp-frameset")!=-1||f.indexOf("cp-videoframeset")!=-1;f=f.indexOf("cp-mask")!=-1;if((e||f)&&e){e=cp.parseFrameset(c);e.considerForUpdate=d;e.timeline=self;a.push(e)}}this.children=a;b=null;a=cp.D[this.slides[cpInfoCurrentSlideIndex]].iph;if(null!=a&&a.length>0){b=this.m_interactionManagers[this.slides[cpInfoCurrentSlideIndex]];if(b==void 0)(b=cp.CreateInteractionManager(a))&&
(this.m_interactionManagers[this.slides[cpInfoCurrentSlideIndex]]=b);cp.SetCurrentInteractionManager(b)}this.m_EffectAnimationManager&&this.m_EffectAnimationManager.start()};cp.Timeline.prototype.getCurrentSlideInteractionManager=function(){return this.m_interactionManagers[this.slides[cpInfoCurrentSlideIndex]]};cp.Timeline.prototype.handleRewindForFramesets=function(){for(var a=0;a<this.children.length;++a)this.children[a].handleRewind()};cp.Timeline.prototype.initializeGraphManager=function(){if(cp.D.baq&&
cp.D.sgMgr!=void 0){this.m_GraphManager=cp.movie.playbackController?cp.movie.playbackController.GetGraphManager():new cp.SlideGraphManager;this.m_GraphManager!=void 0&&this.m_GraphManager.initialize()}};cp.Timeline.prototype.createQuestionObjs=function(){this.questions=[];var a=this.getAttribute("questions")||"";if(a.length>0)this.questions=a.split(",");for(a=0;a<this.questions.length;++a){var b=this.questions[a];if(""!=b){var c=cp.D[b],d=c.sn;switch(c.qtp){case "MCQ":b=new cp.MultipleChoiceQuestion(b,
d);break;case "Hotspot":b=new cp.HotspotQuestion(b,d);break;case "Sequence":b=new cp.SequenceQuestion(b,d);break;case "Matching":b=new cp.MatchingQuestion(b,d);break;case "FIB":b=new cp.FIBQuestion(b,d);break;case "ShortAnswer":b=new cp.ShortAnswerQuestion(b,d);break;case "Widget":b=new cp.WidgetQuestion(b,d);break;case "InteractiveItemQuestion":b=new cp.InteractiveItemQuestion(b,d);break;case "InteractiveWidgetQuestion":b=new cp.InteractiveWidgetQuestion(b,d);break;case "DragDropQuestion":c=c.itn;
b=new cp.DragDropQuestion(b,d,c);break;case "LIKERT":c=c.itn;b=new cp.LikertQuestion(b,d,c);break;default:b=new cp.Question(b,d)}if(!b)break;cp.movie.questionObjs[a]=b}}};cp.Timeline.prototype.getNextBoundForNoLoad=function(a){a=a<this.slides.length?a:this.slides.length-1;return cp.D[this.slides[a]].to};cp.Timeline.prototype.getPreviousBoundForNoLoad=function(a){return cp.D[this.slides[a>=0?a:0]].from};cp.Timeline.prototype.loadSlideAtIndex=function(a){if(!(this.slides.length<=0)){B={};var b=this.slides[a],
c=cp.D[b],d=c.from,e=c.to;svvi("cpInfoCurrentSlide",a+1,["cpInfoCurrentSlide"]);svvi("cpInfoCurrentSlideLabel",c.lb,["cpInfoCurrentSlideLabel"]);this.currentSlide=c;this.cStart=d;this.cEnd=e;this.audioCCItems=c.audCC;this.videoCCItems=c.vidCC;this.curVidCCItem=this.curAudCCItem=-1;cp.movie.ccText.innerHTML="";cp.movie.PPTXSlide="PPTX Slide"==c.st;this.m_SlideHasEffects=PPTXLib.hasAnimationInfo(c);cp.movie.resetMovieElapsedTime(cp.movie.PPTXSlide);cp.movie.am.changeCurrentSlide(a,d,true);c.v=true;
cp.D.project_main.currentFrame=d;this.slideEnterAction=c.sea;this.slideExitAction=c.sxa;this.currentSlideStartFrame=d;this.currentSlideStartTime=this.currentSlideStartFrame*1E3/cp.getCpInfoOriginalFPS();this.setAdjacentSlidesStartFrames(this.slides,a);try{this.RemoveEventListeners();this.addFramesetsForSlideAtIndex(a);this.AddEventListeners(c);this.noSkipFrames={};this.forEachChild(va);PPTXLib.updateNoSkipFramesFromEffectData(c);this.noSkipFrames[this.cEnd]=this.cEnd;this.noSkipFrames[this.cEnd+1]=
this.cEnd+1;var f=this.m_interactionManagers[b];if(f){var g=f.PauseAtFrame();g!=-1&&(this.noSkipFrames[g]=g)}}catch(k){cp.log(k);k.stack&&cp.log(k.stack)}}};cp.Timeline.ReasonForUpdate={};cp.Timeline.ReasonForUpdate.PROGRESS=1;cp.Timeline.ReasonForUpdate.JUMP=2;cp.Timeline.prototype.fallsOutsideCurrentSlide=function(){return this.cEnd<cpInfoCurrentFrame||this.cStart>cpInfoCurrentFrame};cp.Timeline.prototype.updateFrame=function(a){var b=true;this.updatingFrame=cpInfoCurrentFrame;this.updatePlaybar(cpInfoCurrentFrame);
this.updateToc(cpInfoCurrentFrame);if(cpInfoCurrentFrame>this.lastFrame)this.onEndOfMovie();else{if(this.cEnd==cpInfoCurrentFrame){if(cp.movie.playbackController){var c=cp.movie.playbackController.GetQuizController();if(c){var d=cp.movie.playbackController.GetLMSType();d&&(d=d.toUpperCase());c.GetIsReportingEnabled()&&(d!="EMAIL"&&d!="ACROBAT"&&d!="INTERNALSERVER")&&cp.movie.playbackController.SendCourseData(false)}}d=1;cpInfoCurrentSlideIndex&&(d=cpInfoCurrentSlideIndex+1);if(d>=this.slides.length&&
cp.movie.playbackController)if((c=cp.movie.playbackController.GetQuizController())&&c.DoSubmitAll(cpInfoCurrentSlideIndex)){cp.movie.pause(cp.ReasonForPause.CANNOT_MOVE_AHEAD);return}if(!this.canUpdateToSlide(d)&&d<this.slides.length){cp.movie.pause(cp.ReasonForPause.CANNOT_MOVE_AHEAD);return}cp.movie.play();if(cp.movie.playbackController)if(c=cp.movie.playbackController.GetQuizController()){d=c.GetSlideType(cpInfoCurrentSlideIndex);(d=="Question"||d=="AnyScoreSlide")&&c.LeaveSlide(cpInfoCurrentSlideIndex)}if(typeof cptb!=
"undefined"&&cptb.onSlideExit)cptb.onSlideExit(cp.D[this.slides[cpInfoCurrentSlideIndex]]);c=cpInfoCurrentFrame;cp.movie.frameBasedExecuteAction(this.slideExitAction);if(c!=cpInfoCurrentFrame)return}c=false;if(this.fallsOutsideCurrentSlide(cpInfoCurrentFrame)){if(this.cEnd!=-1){b=cp.D[this.slides[cpInfoCurrentSlideIndex]];b.slideNumber=cpInfoCurrentSlideIndex+1;b.lcpversion=E();b.frameNumber=cpInfoCurrentFrame;c=-1;if(cp.movie)(d=cp.movie.playbackController)&&(c=d.GetPercentageSlidesSeen());b.percentageSlideSeen=
c;cp.em.fireEvent("CPSlideExit",b)}if(!cp.multiPassSetupSlide)this.onEndOfSlide(a);svvi("cpInfoLastVisitedSlide",cpInfoCurrentSlideIndex,["cpInfoLastVisitedSlide"]);cp.movie.cpInfoLastVisitedSlideStartFrame=this.currentSlideStartFrame;d=this.getSlideIndexForFrame(cpInfoCurrentFrame);cp.movie.playbackController&&cp.movie.playbackController.LeaveCurrentSlide(d);this.loadSlideAtIndex(d);c=true;cp.movie.playbackController&&cp.movie.playbackController.SetCurrentSlide(d);if(typeof cptb!="undefined"&&cptb.onSlideEnter)cptb.onSlideEnter(cp.D[this.slides[cpInfoCurrentSlideIndex]]);
cp.movie.frameBasedExecuteAction(this.slideEnterAction);b=cp.D[this.slides[cpInfoCurrentSlideIndex]];b.slideNumber=cpInfoCurrentSlideIndex+1;b.frameNumber=cpInfoCurrentFrame;b.lcpversion=E();cp.em.fireEvent("CPSlideEnter",b);if(b=document.getElementById(this.slides[d]))(b=document.getElementById(b.id+"accStr2"))&&b.focus();b=false}this.syncMotionToFrame(cpInfoCurrentFrame);this.updateToFrame(cpInfoCurrentFrame,false,a);if(a==cp.Timeline.ReasonForUpdate.JUMP){cp.movie.am.seekTo(cpInfoCurrentFrame,
b);cp.movie.vdm.seekTo(cpInfoCurrentFrame,true)}if(c){a=this.getSlideIndexForFrame(cpInfoCurrentFrame)+1;a=cp.movie.stage.getSlideNameForIndex(a);cp.multiAudioTrack&&a!=""&&cp.movie.am.preload(a);a!=""&&cp.movie.vdm.preload(a)}b=cp.D[this.slides[cpInfoCurrentSlideIndex]];if(b.si.length>0){a=b.si;b=-1;for(c=0;c<a.length;++c){var e=a[c],d=document.getElementById(e.n);if(e.t===cp.kCPOTTextEntryBoxItem)if(b===-1)b=c;else{e=document.getElementById(a[b].n);d.tabIndex<e.tabIndex&&(b=c)}}if(b!==-1)(this.inputField=
document.getElementById(a[b].n+"_inputField"))&&this.inputField.focus()}this.pauseAtFrame(cpInfoCurrentFrame);cp.movie.paused?cpInfoCurrentFrame==1&&cp.movie.am.play(1,true):cp.movie.am.play(cpInfoCurrentFrame)}};cp.Timeline.prototype.attemptToAdvanceCurrentFrameByOffset=function(a){if(!(a<=0)){var b=true,a=cpInfoCurrentFrame+a,c;for(c in this.noSkipFrames){var d=this.noSkipFrames[c];if(cpInfoCurrentFrame<d&&a>d){a=d;b=false;break}}I(a,b)}};cp.Timeline.prototype.updateFrameCurrentOnPause=function(){this.updateToFrame(cpInfoCurrentFrame,
true)};cp.Timeline.prototype.pauseAtFrame=function(a){if(!this.paused){this.paused=false;this.forEachChild(function(b){var d=cp.D[b.element.id],e=cp.D[d.mdi].visible;if(a!=cp.movie.stage.interactivePauseFrame)if(e&&(b.pa==a||b.rp_pa&&a==b.rp_pa)){if((e=d.handled)&&(cp.kCPOTClickBoxItem==d.type||cp.kCPOTScorableButtonItem==d.type||cp.kCPOTAutoShape==d.type))e=false;if(!e&&(!d.iqb&&!d.clickedOnce)&&(void 0==d.enabled||d.enabled)){cp.movie.am.interactiveItemFound=true;if(cp.D[b.element.id].ssp)cp.movie.am.ssp=
1;cp.movie.pause(cp.ReasonForPause.INTERACTIVE_ITEM);if(cp.movie.paused&&null!=cp.movie.stage.currentSlide)cp.movie.stage.currentSlide.topMostObjectInteractiveObject=b.element.id}}else if(b.psv==a&&e&&!d.pausedOnce&&(void 0==d.enabled||d.enabled)){if(b=b.children[0])if(e=b.element)if((e=e.firstChild)&&e.tagName=="VIDEO"&&b.started&&(e.paused||e.ended))return;d.pausedOnce=true;cp.movie.pause(cp.ReasonForPause.EVENT_VIDEO_PAUSE)}});var b=this.m_interactionManagers[this.slides[cpInfoCurrentSlideIndex]];
b!=void 0&&a!=cp.movie.stage.interactivePauseFrame&&b.CheckInteractionPause(a)&&cp.movie.pause(cp.ReasonForPause.INTERACTIVE_ITEM)}};cp.Timeline.prototype.updateAudioCC=function(){if(this.audioCCItems){var a=cp.movie.am.slideAudios[cp.movie.am.currentSlideAudio];if(a&&a.nativeAudio){var b=a.nativeAudio.currentTime*cp.movie.fps,c=0;b!=0&&(c=b+a.from);this.updateCC(this.audioCCItems,this.curAudCCItem,c)}}};cp.Timeline.prototype.updateVideoCC=function(a){this.videoCCItems&&this.updateCC(this.videoCCItems,
this.curVidCCItem,a)};cp.Timeline.prototype.updateCC=function(a,b,c){if(cpCmndCC){var d=cp.movie.ccText,e=cp.movie.ccLines,c=c-(this.cStart-1),f=a.length-1,g=1,k=this.cEnd-this.cStart+1;if(f>=0){g=a[f].sf;k=a[f].ef}for(;f>=0;--f){if(g>a[f].sf)g=a[f].sf;if(k<a[f].ef)k=a[f].ef;if(a[f].sf<=c&&a[f].ef>=c){if(b==f)return;var l="",m=a[f].t.split("<br/>");if(m.length>0)for(var l=m[0],o=1;o<m.length&&o<e;++o)l=l+"<br/>"+m[o];d.innerHTML=l}}if(c<g||c>k)d.innerHTML=""}};cp.Timeline.prototype.updateToFrame=
function(a,b,c){if(!(a>this.lastFrame)){this.updateAudioCC();if(!this.paused&&!this.yield){var d=this.lastFrame-a;this.mainSlideDiv.style.opacity=this.fadeInAtStart&&a<=this.fadeInAtStart?a/this.fadeInAtStart:this.fadeOutAtEnd&&a>this.lastFrame-this.fadeOutAtEnd?d/this.fadeOutAtEnd:1;this.updateVideoCC(a);if(!cp.movie.waitingForResources()){if(this.interactivePauseFrame!=a)this.interactivePauseFrame=-1;this.forEachChild(function(d){d.considerForUpdate&&(d.isInRange(a)?!d.isStarted||b?d.start(b):d.updateFrame(c):
d.isStarted&&d.reset())});this.m_EffectAnimationManager!=void 0&&(cp.movie.PPTXSlide||this.m_SlideHasEffects)&&PPTXLib.updateAnimationManager()}}}};cp.Timeline.prototype.onEndOfSlide=function(a){this.forEachChild(function(b){b.onEndOfSlide(a)})};cp.Timeline.prototype.onEndOfMovie=function(){if(!(this.onEndOfMovieExecutedFrame!=void 0&&this.onEndOfMovieExecutedFrame<this.updatingFrame)){this.onEndOfMovieExecutedFrame=this.updatingFrame;cp.em.fireEvent("CPMovieStop");this.forEachChild(function(a){a.onEndOfMovie()});
cp.movie.pause(cp.ReasonForPause.MOVIE_ENDED);cp.movie.frameBasedExecuteAction(this.movieEndAction)}};cp.Timeline.prototype.syncMotionToFrame=function(a){this.forEachChild(function(b){b.isStarted&&b.isInRange(a)&&b.ApplyMotion(a)})};cp.Timeline.prototype.start=function(){this.paused=false;this.element.style.display="block";this.m_keyManager.clearHandlers();this.m_clickManager.clearClicks();cpInfoCurrentFrame<=1&&I(1);this.updateToFrame(cpInfoCurrentFrame);this.RemoveFeedbacks(cp.FeedbackCloseReason.SLIDE_CHANGE);
this.clearParentChildMap()};cp.Timeline.prototype.reset=function(){this.paused=false;this.element.style.display="none";this.m_keyManager.clearHandlers();this.m_clickManager.clearClicks();I(0);this.updateToFrame(cpInfoCurrentFrame);this.RemoveFeedbacks(cp.FeedbackCloseReason.SLIDE_CHANGE);this.clearParentChildMap()};cp.Timeline.prototype.stop=function(){this.paused=true};var s={};cp.initObjectFactory=function(){s.questionSlideReviewLabel=cp.QuestionSlideReviewLabel;s.progressSlideLabel=cp.ProgressSlideLabel;
s.fibAnswer=cp.FIBAnswer;s.shortAnswer=cp.ShortAnswer;s.sequenceInput=cp.SequenceInput;s.matchingAnswer=cp.MatchingAnswer;s.matchingItem=cp.MatchingItem;s.likertItem=cp.LikertItem;s.hotspotInput=cp.HotspotInput;s.multipleChoiceInput=cp.MultipleChoiceInput;s.resultSlideLabel=cp.ResultSlideLabel;s.singleChoiceInput=cp.SingleChoiceInput;s.input=cp.TextInput;s.shape=cp.Shape;s.image=cp.DisplayObject;s.group=cp.Group;s.svg=cp.DisplayObject;s.text=cp.DisplayObject;s.placeholder=cp.Placeholder;s.hb=cp.HighlightBox;
s.rai=cp.RolloverAreaItem;s.mc=cp.MouseClick;s.gf=cp.Gradient;s.imgf=cp.ImageFill;s.typingtext=cp.TypingText;s.line=cp.Line;s.drawingItem=cp.DrawingItem;s.answerArea=cp.AnswerArea;s.rectWithText=cp.RectWithText;s.autoShape=cp.AutoShape;s.widget=cp.Widget;s.WebObject=cp.WebObject;s.eventVideo=cp.EventVideo;s.slideVideo=cp.SlideVideo;s.fmrVideo=cp.FMRVideo;s.cpvcVideo=cp.CPVCVideo;s.zoom=cp.Zoom;s.ta=cp.TextAnimation;s.animationItem=cp.AnimationItem;if(cp.extObjInfo&&cp.IsValidObj(cp.extObjInfo))for(var a=
0;a<cp.extObjInfo.length;++a)if(cp.IsValidObj(cp.extObjInfo[a]))s[cp.extObjInfo[a].n]=cp.extObjInfo[a].cls};var P={};cp.ropMap={};var B={};cp.parseChildren=function(a,b){var c=[],d=a.id+"c";P[d]&&c.push(P[d]);for(d=a.firstChild;d;d=d.nextSibling){var e=d,f=false;if(d.className=="cp-rewrap"){e=d.firstChild;f=true}if(e.nodeType==Node.ELEMENT_NODE){for(var g=(e.className+"").split(" "),k=null,l,m=false,o="",n=0;n<g.length&&k==null;++n)if(g[n].substr(0,3)=="cp-"){l=g[n].substr(3);var k=s[l],p=g[n].substr(3);
if(p=="gf"||p=="imgf"||p=="drawingItem"||p=="answerArea"||p=="rectWithText"||p=="autoShape")m=true;if((p=="gf"||p=="imgf")&&e.parentElement)o=e.parentElement.id}if(k){if(g=cp.ropMap[e.id]){g.restOfProjectDoOnNewSlide();cp.verbose&&cp.log("resued childObj from cp.ropMap for "+e.id)}else{if(m){if(0==o.length)o=e.id;g=new k(e,o,b)}else g=new k(e,b);cp.verbose&&cp.log("created new "+l);k=0;if(m=g.getAttribute("dn"))k=cp.D[m].rp;if(e.id&&1==k){cp.ropMap[e.id]=g;cp.verbose&&cp.log("added "+e.id+" to cp.ropMap")}}B[e.id]=
g;f?P[e.id]=g:c.push(g)}}}return c};cp.parseFrameset=function(a){cp.verbose&&cp.log("parseFrameset "+a.id);var b=cp.parseChildren(a);PPTXLib.instanceManager&&PPTXLib.addToInstanceManager(a.id,b[0]);if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID){var c=cp.D[a.id];if(c){c=c.type;if(cp.kCPOTFLVItem==c||cp.kCPOTVideo==c||cp.kCPFullMotion==c||cp.kCPOTVideoResource==c)return new cp.VideoFrameSet(a,b)}}b=new cp.FrameSet(a,b);return B[a.id]=b};cp.parseTimeline=function(a){return new cp.Timeline(a)};cp.CacheView=
function(a){this.index=a;if(!cp.CacheView.DIM){cp.CacheView.DIM=20;cp.CacheView.GAP=5;cp.CacheView.LEFT_OFFSET=100;cp.CacheView.TOP_OFFSET=30;cp.CacheView.NUM_CACHE_VIEWS=0}this.view=cp.newElem("div");document.body.appendChild(this.view);this.view.style.cssText="z-index:100;display:block; position:fixed; left:"+(cp.CacheView.LEFT_OFFSET+cp.CacheView.NUM_CACHE_VIEWS*(cp.CacheView.DIM+cp.CacheView.GAP))+"px; top:"+cp.CacheView.TOP_OFFSET+"px; width:"+cp.CacheView.DIM+"px; height:"+cp.CacheView.DIM+
"px; background-color:#555555;opacity:0.8";this.view.innerHTML="<font color='#000000' style='font-size:10px'>-1</font>";++cp.CacheView.NUM_CACHE_VIEWS};cp.CacheView.prototype={update:function(){var a=cp.movie.pm.cache[this.index];this.view.innerHTML="<font color='#000000' style='font-size:10px'>"+a+"</font>";this.view.style.backgroundColor=this.index==cp.movie.pm.tail?"#ffff00":this.index==cp.movie.pm.head?"#0000ff":a!=-1?"#00ff00":"#555555"}};cp.PrefetchManager=function(){cp.movie.pm=this;this.cache=
cp.device==cp.DESKTOP?Array(7):Array(4);for(var a=0;a<this.cache.length;++a)this.cache[a]=-1;this.tail=this.head=0;this.viewCache=false};cp.PrefetchManager.prototype={numSlidesToAttemptPreloaded:function(){return this.cache.length-3},print:function(){for(var a="[ ",b=this.tail;b!=this.head;b=(b+1)%this.cache.length){a=a+this.cache[b];a=a+" "}console.log("cached slides:"+(a+"]"))},showCache:function(){if(this.viewCache)for(var a=0;a<this.cacheViews.length;++a)this.cacheViews[a].update()},slideWasPrefetched:function(a){for(var b=
this.tail;b!=this.head;b=(b+1)%this.cache.length)if(this.cache[b]==a)return true;return false},ifPrefetchedMakeMRU:function(a){for(var b=this.tail;b!=this.head;b=(b+1)%this.cache.length)if(this.cache[b]==a){for(var c=(b+1)%this.cache.length;c!=this.head;){this.cache[b]=this.cache[c];b=c;c=(b+1)%this.cache.length}this.cache[b]=a;return true}return false},throwAwayLRUSlide:function(){if(this.head!=this.tail){var a=this.cache[this.tail];cp.movie.im.verbose&&cp.log("throwing Away LRU Slide "+a);var b=
cp.D[cp.movie.stage.slides[a]],c=cp.D[b.mdi].ip;c!=""&&cp.movie.im.unloadImage(a,c);if(b=b.si)for(c=0;c<b.length;++c){var d=cp.D[b[c].n],e=cp.D[d.mdi];if(e){var f=e.ip;if(f){var g=false;d.pa||(g=d.rp=="1");if(!g){cp.movie.im.unloadImage(a,f);(f=e.hImg)&&cp.movie.im.unloadImage(a,f);(f=e.pImg)&&cp.movie.im.unloadImage(a,f);(d=e.imgf)&&(d.img&&d.img.ip&&d.img.ip.length>0)&&cp.movie.im.unloadImage(a,d.img.ip);if(e=e[cp.kPPTXSlideImagesStr])for(d=0;d<e.length;++d)e[d].ip.length>0&&cp.movie.im.unloadImage(a,
cp.kPPTXSlideImagesDir+e[d].ip)}}}}this.cache[this.tail]=-1;this.tail=(this.tail+1)%this.cache.length}},isLoading:function(){return this.loading},loadSlideAssets:function(a){if(this.loading)return false;this.loading=true;try{cp.movie.im.verbose&&cp.log("loading assets of slide "+a);if(this.ifPrefetchedMakeMRU(a))C(a,true);else{var b=(this.head+1)%this.cache.length;b==this.tail&&this.throwAwayLRUSlide();C(a,true);this.cache[this.head]=a;this.head=b}cp.movie.im.verbose&&this.print()}catch(c){}this.loading=
false;this.showCache();return true},preloadSlideAssets:function(a){cp.movie.im.verbose&&cp.log("preloading assets of slide "+a);if(!this.slideWasPrefetched(a)){var b=(this.head+1)%this.cache.length;b==this.tail&&this.throwAwayLRUSlide();C(a);this.cache[this.head]=a;this.head=b}cp.movie.im.verbose&&this.print();this.showCache()}};cp.ImageObject=function(a,b){this.im=a;this.nativeImage=new Image;this.nativeImage.cpImage=this;this.src=b;this.complete=false;this.loaders={};this.preloaded=false;this.monitorFunc=
function(a){a.target.cpImage.complete=true;cp.movie.im.verbose&&cp.log("loaded "+a.target.src)}};cp.ImageObject.prototype={load:function(a,b){if(!(void 0==this.src||""==this.src||null==this.src)){if(this.im.verbose){cp.log("load (monitor = "+b+") "+this.src);this.complete&&cp.log("completed");this.nativeImage.onload&&cp.log("onload is set")}if(!this.complete&&!this.nativeImage.onload){this.monitor=true==b?true:false;this.nativeImage.onload=this.monitorFunc}if(!this.complete&&this.nativeImage.onload&&
true==b)this.monitor=true;this.loaders[a]=1;this.im.verbose&&cp.log("loaded by = "+a);if(true!=b)this.preloaded=true;if(this.nativeImage.src==""){this.im.verbose&&cp.log("loading "+this.src);this.nativeImage.src=this.src;return true}}},unload:function(a){this.im.verbose&&cp.log("unload "+this.src+" preloaded = "+this.preloaded);this.loaders[a]&&delete this.loaders[a];var a=0,b;for(b in this.loaders)++a;if(a==0){this.im.verbose&&cp.log("unloading "+this.src);this.nativeImage=new Image;this.nativeImage.cpImage=
this;this.monitor=this.preloaded=this.complete=false;return true}return false}};cp.ImageManager=function(){cp.movie.im=this;this.images={};this.preloadingProjectImages=false;this.m_projectImages={};this.verbose=false;this.reset();for(var a=cp.model.projectImages,b=0;b<a.length;++b)this.m_projectImages[a[b]]=new cp.ImageObject(this,a[b]);a=cp.model.images;for(b=0;b<a.length;++b)this.images[a[b]]=new cp.ImageObject(this,a[b])};cp.ImageManager.prototype={imagesNotLoaded:function(){var a=0;if(this.preloadingProjectImages)for(var b in this.m_projectImages)this.m_projectImages[b].monitor&&
!this.m_projectImages[b].complete&&++a;else for(b in this.images)this.images[b].monitor&&!this.images[b].complete&&++a;cp.verbose&&a>0&&cp.log(a+" imaged pending");return a>0},loadImages:function(a,b,c,d){if(b.length!=0){this.preloadingProjectImages=d?true:false;for(var e=0;e<b.length;++e){var f=b[e],g=d?this.m_projectImages[f]:this.images[f];if(!g){g=new cp.ImageObject(this,f);d?this.m_projectImages[f]=g:this.images[f]=g}g.load(a,c)}}},unloadImage:function(a,b){var c=this.images[b];c&&c.unload(a)},
reset:function(){if(this.preloadingProjectImages)for(var a in this.m_projectImages)this.m_projectImages[a].monitor=false;else for(a in this.images)this.images[a].monitor=false}};cp.MediaSeeker=function(){cp.movie.ms=this;this.retryQueue={};this.enabled=this.verbose=false;if(cp.browser==cp.MSIE&&cp.browserVersion>=cp.MSIE_MIN_SUPPORTED_VERSION||cp.OS==cp.WINDOWS&&cp.browser==cp.CHROME&&cp.browserVersion>=cp.CHROME_MIN_SUPPORTED_VERSION||cp.device==cp.IDEVICE&&cp.IOSMajor>=cp.IOS4||cp.device==cp.ANDROID)this.enabled=
true;this.verbose&&cp.log("MediaSeeker enabled = "+this.enabled)};cp.MediaSeeker.prototype={resetFlags:function(a){delete a.retryCount;delete a.lastKnownBuffered;delete a.thulped;delete a.resting;delete a.rested;delete a.failure1;delete a.failure2},addToQueue:function(a){if(this.enabled){this.retryQueue[a.id]=a;a.retryCount=1;a.lastKnownBuffered=0;a.thulped=false;a.resting=false;a.rested=false;a.failure1=0;a.failure2=0}},removeFromQueue:function(a){if(this.enabled){this.resetFlags(a);delete this.retryQueue[a.id]}},
inQueue:function(a){return!this.enabled?false:this.retryQueue[a.id]?true:false},hasSeeked:function(a){if(!this.enabled)return true;++a.retryCount;var b=a.nativeAudio;if(!b)b=a.nativeVideo;if(!b){this.verbose&&cp.log("MediaSeeker: no native media to seek "+a.id);return true}if(void 0==a.seekToTime){this.verbose&&cp.log("MediaSeeker: seekToTime is undefined "+a.id);return true}if(a.thulped){if(!(a.retryCount<3)){this.verbose&&cp.log("retrying thulped media "+a.id+" seekToTime = "+a.seekToTime);a.thulped=
false;a.retryCount=0;b.src=a.src;b.load()}return false}if(a.resting){if(a.retryCount>=3){this.verbose&&cp.log("retrying rested media "+a.id+" seekToTime = "+a.seekToTime);a.resting=false;a.rested=true;a.retryCount=0}return false}if(a.seekToTime<0)a.seekToTime=0;if(isNaN(b.duration)||!isFinite(b.duration)){this.verbose&&cp.log("MediaSeeker: duration is NAN "+a.id);if(a.seekToTime==0)return true;if(a.rested){a.rested=false;++a.failure1;if(a.failure1>=2){cp.exceptionalLogs&&console.log(a.id+" gotStuck while seeking (NAN). gave up seeking");
return true}a.thulped=true;try{b.src="_cp_n_m_"}catch(c){}try{b.load()}catch(d){}}else a.resting=true;return false}if(a.seekToTime>b.duration)a.seekToTime=b.duration;var e=true;try{b.currentTime=a.seekToTime;var f=Math.abs(b.currentTime-a.seekToTime);if(f>=0.05){var e=false,g=b.buffered;g.end(g.length-1);if(a.lastKnownBuffered==g)if(a.rested){a.rested=false;++a.failure2;if(a.failure2>=2){cp.exceptionalLogs&&console.log(a.id+" gotStuck while seeking (CONST BUFF). gave up seeking");return true}a.thulped=
true;try{b.src="_cp_n_m_"}catch(k){}try{b.load()}catch(l){}}else a.resting=true;else a.lastKnownBuffered=g}}catch(m){f=Math.abs(b.currentTime-a.seekToTime);e=f>=0.05?false:true}this.verbose&&e&&cp.log("MediaSeeker: "+a.id+" currentTime = "+b.currentTime);return e},pendingItems:function(){if(!this.enabled)return 0;var a=0,b;for(b in this.retryQueue){var c=this.retryQueue[b];if(this.hasSeeked(c)){delete c.seekToTime;this.removeFromQueue(c);if(c.revoke){delete c.revoke;this.verbose&&cp.log("MediaSeeker revoking play of "+
c.id);c.play()}}else++a}this.verbose&&(a&&this.numPending!=a)&&cp.log("MediaSeeker: "+a+" items pending seek");this.numPending=a;cp.verbose&&a>0&&cp.log(a+" pendingForSeek");return a},reset:function(){for(var a in this.retryQueue){var b=this.retryQueue[a];delete b.seekToTime;delete b.revoke;this.resetFlags(b)}this.retryQueue={}}};cp.NativeAudio=function(){var a=function(){this.duration=this.currentTime=0;this.ended=this.paused=true;this.defaultPlaybackRate=0;this.playbackRate=1;this.fastSeek=this.seekable=
this.seeking=this.played=false;this.src="";this.autoplay=this.preload=this.crossorigin=false;this.mediagroup="";this.controls=this.muted=this.loop=false};a.prototype={load:function(){},play:function(){},pause:function(){},addEventListener:function(){},removeEventListener:function(){}};if(typeof Audio==="undefined"||!Audio){var b=document.createElement("audio");return b.load==void 0||b.play==void 0||b.pause==void 0||b.addEventListener==void 0?new a:b}return new Audio};cp.AudioObject=function(a,b,c,
d,e,f,g){this.am=a;this.id=b;this.nativeAudio=null;this.src=c;this.from=d;this.to=e;if(f)this.duration=f/1E3;this.hidden=this.ended=false;this.paused=true;this.cploop=this.loop=false;this.gotStuck=0;this.rp=g};cp.AudioObject.prototype={load:function(){this.nativeAudio&&this.nativeAudio.load()},setSrc:function(a){this.src=a;if(this.nativeAudio){this.nativeAudio.cpSrc=a;this.nativeAudio.src=a;this.load()}},play:function(){if(!(this.ended==true||this.hidden))if(this.paused)if(this.paused&&this.am.webAudio&&
this.am.playWebAudio(this))this.paused=false;else if(cp.lastMediaPlayReqTime&&(new Date).getTime()-cp.lastMediaPlayReqTime.getTime()<50)if(cp.movie.paused){this.am.verbose&&cp.log("crowded request postponed "+this.id);var a=this;setTimeout(function(){a.play()},50)}else this.am.verbose&&cp.log("crowded request denied "+this.id);else{this.paused=false;this.am.verbose&&cp.log("AdObjPlay "+this.id+" "+this.src);this.nativeAudio||this.am.allocAudioChannel(this,cp.IDEVICE!=cp.device&&cp.device!=cp.ANDROID);
if(this.nativeAudio)if(this.isSeekPending())this.finishPendingSeek();else{if(cp.device==cp.IDEVICE&&cp.multiAudioTrack)cp.lastMediaPlayReqTime=new Date;this.nativeAudio.play()}}else if(cp.device==cp.IDEVICE&&!cp.multiAudioTrack&&this.nativeAudio)if(this.lastTime==this.nativeAudio.currentTime){++this.gotStuck;if(this.gotStuck>=30){cp.exceptionalLogs&&cp.log(this.id+" "+this.src+" gotStuck @"+this.nativeAudio.currentTime);this.gotStuck=0;try{this.nativeAudio.src="_cp_n_m_"}catch(b){}this.nativeAudio.src=
this.src;this.nativeAudio.load();this.nativeAudio.play()}}else{this.lastTime=this.nativeAudio.currentTime;this.gotStuck=0}},resetAndPlay:function(){this.am.verbose&&cp.log("AudioObject "+this.id+" resetAndPlay()");this.ended=false;this.setCurrentTime(0);this.play()},show:function(){this.am.verbose&&cp.log("AudioObject "+this.id+" show()");this.hidden=false;this.shownAt=cpInfoCurrentFrame;this.resetAndPlay()},hide:function(){this.am.verbose&&cp.log("AudioObject "+this.id+" hide()");this.hidden=true;
delete this.shownAt;this.pause()},pause:function(){if(!this.paused&&this.am.webAudio&&this.am.pauseWebAudio(this.src)){this.paused=true;this.am.verbose&&cp.log("webAudio:pause "+this.id+" "+this.src)}else{if(this.isSeekPending()){this.am.verbose&&this.revoke&&cp.log("AdObjPause deleting revoke "+this.id);delete this.revoke}if(!this.paused){this.paused=true;this.am.verbose&&cp.log("AdObjPause "+this.id+" "+this.src);if(this.nativeAudio){this.nativeAudio.pause();this.nativeAudio.pausedAt=(new Date).getTime()}}}},
setLoop:function(a,b){this.loop=a;this.loopFrames=b;if(cp.IDEVICE==cp.device||cp.device==cp.ANDROID)this.cploop=a;else if(this.nativeAudio)a?this.nativeAudio.loop=true:delete this.nativeAudio.loop},setCurrentTime:function(a){if(!(this.from==-1&&this.to==-1)){this.am.verbose&&cp.log("AudioObject "+this.id+" setCurrentTime("+a+")");if(this.nativeAudio){this.am.verbose&&cp.log("this.nativeAudio.currentTime = "+this.nativeAudio.currentTime);if(Math.abs(this.nativeAudio.currentTime-a)<0.1){this.am.verbose&&
cp.log("not seeking delta < 0.1");cp.movie.ms.inQueue(this)||delete this.seekToTime}else{delete this.seekToTime;if(!this.paused){this.am.verbose&&cp.log("setting revoke to true");this.revoke=true;this.pause()}var b=true;try{this.nativeAudio.currentTime=a;var c=Math.abs(this.nativeAudio.currentTime-a);c>=0.05&&(b=false)}catch(d){c=Math.abs(this.nativeAudio.currentTime-a);b=c>=0.05?false:true}this.am.verbose&&cp.log("seekSuccess = "+b);if(cp.movie.ms.enabled)if(b){if(this.revoke){this.am.verbose&&cp.log("revoking play");
delete this.revoke;this.play()}}else{this.am.verbose&&cp.log("pause movie and add to seekQueue");this.seekToTime=a;cp.movie.ms.addToQueue(this)}else if(this.revoke){this.am.verbose&&cp.log("revoking play");delete this.revoke;this.play()}}}else{this.seekToTime=a;this.am.verbose&&cp.log("no native audio. Kept in pending...")}}},isSeekPending:function(){return this.from==-1&&this.to==-1?false:void 0!=this.seekToTime},finishPendingSeek:function(){if(this.nativeAudio&&this.isSeekPending()){this.am.verbose&&
cp.log("AudioObject "+this.id+" finishPendingSeek");this.setCurrentTime(this.seekToTime)}},seekTo:function(a){if(this.from==-1&&this.to==-1)return true;this.am.verbose&&cp.log("AudioObject "+this.id+" seekTo("+a+")");if(this.loop&&this.loopFrames){if(this.from<=a){this.setCurrentTime((a-this.from)%this.loopFrames/cpInfoFPS);this.ended=false;return true}}else{if(this.from<=a&&this.to>=a){this.setCurrentTime((a-this.from)/cpInfoFPS);this.ended=false;return true}if(this.to>=a){this.setCurrentTime(0);
this.ended=false}}if(this.id=="bga"&&!this.loop)this.ended=true;return false}};cp.RegisterExternalObjects=function(a,b,c,d){if(!cp.IsValidObj(cp.extObjInfo))cp.extObjInfo=[];for(var e=false,f=0;f<cp.extObjInfo.length;++f)if(cp.extObjInfo[f].cb==c){e=true;break}if(!e){e={};e.n=a;e.cls=b;e.cb=c;e.chcb=d;cp.extObjInfo.push(e)}};cp.AddNoSkipFrameExternal=function(a){cp.movie.stage&&(cp.movie.stage.noSkipFrames[a]=a)};cp.AddExternalAudioCb=function(a){var b=false;if(void 0==cp.extAudioCallbacks)cp.extAudioCallbacks=
[];for(var c=0;c<cp.extAudioCallbacks.length;++c)if(cp.extAudioCallbacks[c]==a){b=true;break}b||cp.extAudioCallbacks.push(a)};cp.ExtAudioObject=function(a,b,c,d,e){this.am=a;this.id=b;this.nativeAudio=null;this.src=c;this.from=d;this.to=e;this.hidden=this.ended=false;this.paused=true;this.cploop=this.loop=false;this.gotStuck=0};cp.ExtAudioObject.prototype={load:function(){this.nativeAudio&&this.nativeAudio.load()},play:function(){},pause:function(){if(!this.paused){this.paused=true;if(this.nativeAudio){this.nativeAudio.pause();
this.nativeAudio.pausedAt=(new Date).getTime()}}},isSeekPending:function(){return false},finishPendingSeek:function(){},seekTo:function(){return true},reset:function(){}};cp.MediaView=function(a){this.a=a;if(!cp.MediaView.PROGRESS_WIDTH){cp.MediaView.PROGRESS_WIDTH=450;cp.MediaView.STATUS1_WIDTH=100;cp.MediaView.STATUS2_WIDTH=100;cp.MediaView.STATUS3_WIDTH=100;cp.MediaView.STATUS4_WIDTH=50;cp.MediaView.STATUS_WIDTH=cp.MediaView.STATUS1_WIDTH+cp.MediaView.STATUS2_WIDTH+cp.MediaView.STATUS3_WIDTH+cp.MediaView.STATUS4_WIDTH;
cp.MediaView.LEFT_OFFSET=260;cp.MediaView.TOP_OFFSET=5;cp.MediaView.HEIGHT=15;cp.MediaView.GAP=5;cp.MediaView.NUM_MEDIA_VIEWS=0}this.view=cp.newElem("div");this.status=cp.newElem("div");this.status2=cp.newElem("div");this.status3=cp.newElem("div");this.status4=cp.newElem("div");this.progressBar=cp.newElem("div");this.srcNameBar=cp.newElem("div");this.downloaded=cp.newElem("div");this.playHead=cp.newElem("div");document.body.appendChild(this.view);this.view.appendChild(this.status);this.view.appendChild(this.status2);
this.view.appendChild(this.status3);this.view.appendChild(this.status4);this.view.appendChild(this.progressBar);this.progressBar.appendChild(this.downloaded);this.progressBar.appendChild(this.playHead);this.progressBar.appendChild(this.srcNameBar);this.view.style.cssText="z-index:100;display:block; position:fixed; left:"+cp.MediaView.LEFT_OFFSET+"px; top:"+(cp.MediaView.TOP_OFFSET+cp.MediaView.NUM_MEDIA_VIEWS*(cp.MediaView.HEIGHT+cp.MediaView.GAP))+"px; width:"+(cp.MediaView.STATUS_WIDTH+cp.MediaView.PROGRESS_WIDTH)+
"px; height:"+cp.MediaView.HEIGHT+"px; background-color:#555555;opacity:0.5";this.status.style.cssText="z-index:100;display:block; position:absolute; left:0px; top:0px; width:"+cp.MediaView.STATUS1_WIDTH+"px; height:"+cp.MediaView.HEIGHT+"px;background-color:#0000ff";this.status2.style.cssText="z-index:100;display:block; position:absolute; left:"+cp.MediaView.STATUS1_WIDTH+"px; top:0px; width:"+cp.MediaView.STATUS2_WIDTH+"px; height:"+cp.MediaView.HEIGHT+"px;background-color:#ffffff";this.status3.style.cssText=
"z-index:100;display:block; position:absolute; left:"+(cp.MediaView.STATUS1_WIDTH+cp.MediaView.STATUS2_WIDTH)+"px; top:0px; width:"+cp.MediaView.STATUS3_WIDTH+"px; height:"+cp.MediaView.HEIGHT+"px;background-color:#ffffff";this.status4.style.cssText="z-index:100;display:block; position:absolute; left:"+(cp.MediaView.STATUS1_WIDTH+cp.MediaView.STATUS2_WIDTH+cp.MediaView.STATUS3_WIDTH)+"px; top:0px; width:"+cp.MediaView.STATUS4_WIDTH+"px; height:"+cp.MediaView.HEIGHT+"px;background-color:#ffffff";this.progressBar.style.cssText=
"z-index:100;display:block; position:absolute; left:"+cp.MediaView.STATUS_WIDTH+"px; top:0px; width:"+cp.MediaView.PROGRESS_WIDTH+"px; height:"+cp.MediaView.HEIGHT+"px;background-color:#888888";this.srcNameBar.style.cssText="z-index:100;display:block; position:absolute; left:0px; top:0px; width:"+cp.MediaView.PROGRESS_WIDTH+"px; height:"+cp.MediaView.HEIGHT+"px;white-space: nowrap; overflow: hidden;";this.downloaded.style.cssText="z-index:100;display:block; position:absolute; left:0px; top:0px; width:0px; height:"+
cp.MediaView.HEIGHT/3+"px;background-color:#10ff10;";this.playHead.style.cssText="z-index:100;display:block; position:absolute; left:0px; top:0px; width:2px; height:"+cp.MediaView.HEIGHT/3+"px;background-color:#101010";++cp.MediaView.NUM_MEDIA_VIEWS};cp.MediaView.prototype={update:function(){var a=this.a.cpAudio;if(!a)a=this.a.cpVideo;var b=this.a.src.indexOf("/ar/");b==-1&&(b=this.a.src.indexOf("/vr/"));b==-1&&(b=this.a.src.indexOf("_cp_n_m_"));b==-1&&(b=0);b=this.a.src.substr(b);a&&(b=b+("|"+a.src+
"|"+a.id));this.srcNameBar.innerHTML="<font style='font-size:9px'>"+b+"</font>";b=this.a.paused?"paused":"playing";this.a.ended&&(b=b+" end");this.status2.innerHTML="<font color='#000000' style='font-size:8px'>"+b+"</font>";if(a){b=a.paused?"paused":"playing";a.ended&&(b=b+" end");a.hidden&&(b=b+" hdn")}else b="NULL";this.status3.innerHTML="<font color='#000000' style='font-size:8px'>"+b+"</font>";switch(this.a.readyState){case cp.HAVE_NOTHING:b="HaveNone";this.status4.style.backgroundColor="#ff0000";
break;case cp.HAVE_METADATA:b="HaveMeta";this.status4.style.backgroundColor="#ffaa00";break;case cp.HAVE_CURRENT_DATA:b="HaveCurr";this.status4.style.backgroundColor="#aacc00";break;case cp.HAVE_FUTURE_DATA:b="HaveMore";this.status4.style.backgroundColor="#55ff00";break;case cp.HAVE_ENOUGH_DATA:b="HaveAll";this.status4.style.backgroundColor="#00ff00";break;default:b="???";this.status4.style.backgroundColor="#555555"}this.status4.innerHTML="<font color='#000000' style='font-size:8px'>"+b+"</font>";
if(this.a.ended){this.status.style.backgroundColor="#ffff00";this.status.innerHTML="<font color='#000000' style='font-size:8px'>Ended</font>"}else if(this.a&&this.a.networkState==this.a.NETWORK_EMPTY){this.status.style.backgroundColor="#000000";this.status.innerHTML="<font color='#ffffff' style='font-size:8px'>Empty</font>"}else if(this.a&&this.a.networkState==this.a.NETWORK_IDLE){this.status.style.backgroundColor="#aaaaaa";this.status.innerHTML="<font color='#000000' style='font-size:8px'>Idle</font>"}else if(this.a&&
this.a.networkState==this.a.NETWORK_LOADING){this.status.style.backgroundColor="#00ff00";this.status.innerHTML="<font color='#000000' style='font-size:8px'>Loading</font>"}else if(this.a&&this.a.networkState==this.a.NETWORK_NO_SOURCE){this.status.style.backgroundColor="#ff0000";this.status.innerHTML="<font color='#ffffff' style='font-size:8px'>NoSrc</font>"}var c;if(this.a&&!isNaN(this.a.duration)&&isFinite(this.a.duration))c=this.a.duration;else if(a&&a.duration)c=a.duration;if(c){a=this.a.buffered;
if(a.length){a=a.end(a.length-1);this.downloaded.style.width=a/c*cp.MediaView.PROGRESS_WIDTH+"px"}this.playHead.style.left=this.a.currentTime/c*cp.MediaView.PROGRESS_WIDTH+"px"}}};cp.AudioView=cp.MediaView;cp.VideoView=cp.MediaView;cp.AudioManager=function(){cp.movie.am=this;this.volume=1;this.viewAudio=this.verbose=this.loaded=this.muted=false;if(window.location.protocol.substr(0,4)=="http"&&window.webkitAudioContext){this.webAudio=new window.webkitAudioContext;this.webAudioCache={};this.webAudioLoaded=
this.webAudioReq=0}this.errorCallBackFn=function(a){if(-1==this.src.indexOf("_cp_n_m_")){if(cp.exceptionalLogs){cp.log("src = "+this.src+" error code = "+(this.error?this.error.code:"NULL")+" n/w state = "+this.networkState);cp.log(a)}this.waitCount=0}};this.waitingFn=function(a){var b;if(!isNaN(this.duration)&&isFinite(this.duration))b=this.duration;else if(this.cpAudio&&this.cpAudio.duration)b=this.cpAudio.duration;if(b){var e=Math.abs(this.currentTime-b);cp.movie.am.verbose&&cp.log(this.cpSrc+
" wait came when delta = "+e+" duration = "+b);if(e<0.3){if(!(b<0.3)){cp.movie.am.verbose&&cp.log("simulating arrival of ended event");cp.movie.am.onEndedCallBackFn.call(this,a)}return}}++this.waitCount;if(cp.movie.am.verbose){a="wait "+this.waitCount+" "+this.cpSrc+" currTime = "+this.currentTime+" duration = "+b+" curFrame = "+cpInfoCurrentFrame;if(this.cpAudio){a=a+(" id = "+this.cpAudio.id);a=a+(" from "+this.cpAudio.from);a=a+(" to "+this.cpAudio.to)}cp.log(a)}};this.canPlayCallBackFn=function(){this.waitCount=
0;cp.movie.am.verbose&&cp.log("cnPly "+this.cpSrc+" "+(this.cpAudio?this.cpAudio.id:""))};this.onEndedCallBackFn=function(){this.waitCount=0;if(this.cploop){cp.movie.am.verbose&&cp.log(this.cpSrc+" loop");if(this.cpAudio){this.cpAudio.pause();this.cpAudio.seekTo(this.cpAudio.from);this.cpAudio.play()}}else{cp.movie.am.verbose&&cp.log(this.cpSrc+" ended");this.endedAt=(new Date).getTime();if(this.cpAudio){this.cpAudio.ended=true;this.cpAudio.pause();if(this.cpAudio.onEndAutoPlayMovie){delete this.cpAudio.onEndAutoPlayMovie;
cp.movie.play()}}}};this.onWebAudioEndedCallBackFn=function(a){if(a){cp.movie.am.verbose&&cp.log(a.cpSrc+" ended");a.ended=true;a.pause();if(a.onEndAutoPlayMovie){delete a.onEndAutoPlayMovie;cp.movie.play()}}};this.PlayPauseCallBackFn=function(){if(this.paused)this.pausedAt=(new Date).getTime();if(this.cpAudio)this.cpAudio.paused=this.paused};this.MAX_AUDIO_CHANNELS=cp.multiAudioTrack?10:1;this.audioChannels=[];for(var a=0;a<this.MAX_AUDIO_CHANNELS;++a){var b=cp.NativeAudio();b.cpSrc="";b.cpAudio=
null;b.ended=false;b.addEventListener("ended",this.onEndedCallBackFn,false);b.addEventListener("error",this.errorCallBackFn,false);if(cp.waitForAudio){b.addEventListener("waiting",this.waitingFn,false);b.addEventListener("canplay",this.canPlayCallBackFn,false)}b.addEventListener("play",this.PlayPauseCallBackFn,false);b.addEventListener("pause",this.PlayPauseCallBackFn,false);b.waitCount=0;b.muted=this.muted;b.volume=this.volume;this.audioChannels[a]=b}if(this.verbose){a=cp.NativeAudio();cp.log("NetworkStates: NETWORK_EMPTY = "+
a.NETWORK_EMPTY+" NETWORK_IDLE = "+a.NETWORK_IDLE+" NETWORK_LOADING = "+a.NETWORK_LOADING+" NETWORK_NO_SOURCE = "+a.NETWORK_NO_SOURCE);a=null}};cp.AudioManager.prototype={unlockWebAudio:function(){if(this.webAudio){var a=this.webAudio.createBuffer(1,1,22050),b=this.webAudio.createBufferSource();b.buffer=a;b.connect(this.webAudio.destination);b.noteOn(0);var c=this;setTimeout(function(){if(b.playbackState===b.PLAYING_STATE||b.playbackState===b.FINISHED_STATE){c.webAudioUnlocked=true;c.verbose&&cp.log("web audio unlocked")}},
100)}},loadWebAudio:function(a){function b(d){try{c.webAudio.decodeAudioData(d.buf,function(b){var d={};d.buffer=b;c.webAudioCache[a]=d},function(){cp.exceptionalLogs&&cp.log(a+" Error decoding. Attempting to sync stream");var c;var e=new Uint8Array(d.buf);e.indexOf=Array.prototype.indexOf;for(c=d.sync;;){++d.retry;c=e.indexOf(255,c);if(c==-1||e[c+1]&1)break;++c}if(c!=-1){e=d.buf.slice(c);delete d.buf;d.buf=e;d.sync=c;c=true}else c=false;c&&b(d)})}catch(e){cp.exceptionalLogs&&cp.log(a+" Error decoding2 "+
e)}}var c=this,d={sync:0,retry:0};if(this.webAudio&&!this.webAudioCache[a]){++this.webAudioReq;this.webAudioCache[a]={};var e=new XMLHttpRequest;e.open("GET",a,true);e.responseType="arraybuffer";e.onload=function(e){c.verbose&&cp.log("webAudio:loaded "+a);++c.webAudioLoaded;d.buf=e.target.response;b(d)};e.send()}},playWebAudio:function(a){if(this.webAudio){var b=a.src,c=this.webAudioCache[b];if(c&&c.buffer){c.source=this.webAudio.createBufferSource();c.source.buffer=c.buffer;c.source.loop=false;c.source.connect(this.webAudio.destination);
c.source.noteOn(0);setTimeout(function(){cp.movie.am.onWebAudioEndedCallBackFn(a)},c.buffer.duration*1E3);this.verbose&&cp.log("webAudio:play "+b);return true}}return false},pauseWebAudio:function(a){if(this.webAudio){var b=this.webAudioCache[a];if(b){if(b.source){b.source.noteOff(0);delete b.source}this.verbose&&cp.log("webAudio:pause "+a);return true}}return false},pendingAudios:function(){var a=0;this.webAudio&&(a=this.webAudioReq-this.webAudioLoaded);for(var b=0;b<this.MAX_AUDIO_CHANNELS;++b){var c=
this.audioChannels[b];c.waitCount>0&&(!c.endedAt&&!c.paused)&&++a}if(a>0){if(this.numPending!=a){this.numPending=a;cp.verbose&&cp.log(a+" audios pending")}}else{this.numPending&&cp.verbose&&cp.log("no audios pending");this.numPending=0}return a},resetAllWaitingAudios:function(){for(var a=0;a<this.MAX_AUDIO_CHANNELS;++a)this.audioChannels[a].waitCount=0},LRUAudioIndex:function(){for(var a=(new Date).getTime(),b=-1,c=cpInfoCurrentFrame,d=0;d<this.MAX_AUDIO_CHANNELS;++d){var e=this.audioChannels[d];
if(e.ended||e.paused)if(e.endedAt){if(a>e.endedAt){a=e.endedAt;b=d}}else if(e.pausedAt){if(a>e.pausedAt){a=e.pausedAt;b=d}}else b==-1&&c>e.cpTo&&(b=d)}return b},allocAudioChannel:function(a){this.verbose&&cp.log("allocAudioChannel "+a.id+" "+a.src);if(this.webAudio&&this.webAudioCache[a.src])this.verbose&&cp.log("found in web-audio cache");else{if(cp.multiAudioTrack){for(var b=0;b<this.MAX_AUDIO_CHANNELS;++b){var c=this.audioChannels[b];if(c.cpSrc==a.src&&(c.ended||c.paused)){if(c.cpAudio!=null){c.cpAudio.nativeAudio=
null;c.cpAudio=null}a.nativeAudio=c;c.cpAudio=a;cp.device==cp.IDEVICE||cp.device==cp.ANDROID?c.cploop=a.cploop:c.loop=a.loop;c.ended=false;delete c.endedAt;delete c.pausedAt;c.cpTo=a.to;a.isSeekPending()||a.seekTo(a.from);a.finishPendingSeek();c.load();this.verbose&&cp.log("allocAudioChannel found existing @ "+b);return true}}for(b=0;b<this.MAX_AUDIO_CHANNELS;++b){c=this.audioChannels[b];if(c.cpSrc==""){c.waitCount=0;c.cpSrc=a.src;c.src=a.src;a.nativeAudio=c;c.cpAudio=a;cp.device==cp.IDEVICE||cp.device==
cp.ANDROID?c.cploop=a.cploop:c.loop=a.loop;c.ended=false;delete c.endedAt;delete c.pausedAt;c.cpTo=a.to;a.finishPendingSeek();c.load();this.verbose&&cp.log("allocAudioChannel found empty slot @ "+b);return true}}b=this.LRUAudioIndex();if(-1!=b){c=this.audioChannels[b];if(c.cpAudio!=null){c.cpAudio.nativeAudio=null;c.cpAudio=null}a.nativeAudio=c;c.cpAudio=a;cp.device==cp.IDEVICE||cp.device==cp.ANDROID?c.cploop=a.cploop:c.loop=a.loop;c.ended=false;delete c.endedAt;delete c.pausedAt;c.cpTo=a.to;if(c.cpSrc!=
a.src){c.waitCount=0;c.cpSrc=a.src;c.src=a.src}else a.isSeekPending()||a.seekTo(a.from);a.finishPendingSeek();c.load();this.verbose&&cp.log("allocAudioChannel re-used LRU slot @ "+b);return true}return false}c=this.audioChannels[0];c.paused||(c.cpAudio!=null?c.cpAudio.pause():c.pause());if(c.cpAudio!=null)c.cpAudio.nativeAudio=null;a.nativeAudio=c;c.cpAudio=a;c.cploop=a.cploop;c.ended=false;delete c.endedAt;delete c.pausedAt;if(c.cpSrc!=a.src){c.waitCount=0;c.cpSrc=a.src;c.src=a.src;c.currentTime>
0&&this.verbose&&cp.log("currentTime after changing src = "+c.currentTime+" going to wait...");if(cp.IOSFlavor<=cp.IOS5)for(;c.currentTime>0;)c.load();else for(b=0;c.currentTime>0&&++b<100;){cp.verbose&&cp.log("waiting for "+b+" time");c.load()}this.verbose&&cp.log("finished waiting")}else a.isSeekPending()||a.seekTo(a.from);a.finishPendingSeek();c.load()}},allocSingletonAudioChannelForPlayAudioAction:function(a){this.verbose&&cp.log("allocSingletonAudioChannelForPlayAudioAction "+a);var b=cp.NativeAudio();
b.addEventListener("ended",this.onEndedCallBackFn,false);b.addEventListener("error",this.errorCallBackFn,false);if(cp.waitForAudio){b.addEventListener("waiting",this.waitingFn,false);b.addEventListener("canplay",this.canPlayCallBackFn,false)}b.addEventListener("play",this.PlayPauseCallBackFn,false);b.addEventListener("pause",this.PlayPauseCallBackFn,false);b.waitCount=0;b.cpSrc=a;b.src=a;cp.movie.am.singletonPlayAudio.nativeAudio=b;b.cpAudio=cp.movie.am.singletonPlayAudio;b.muted=this.muted;b.volume=
this.volume;b.ended=false;b.load();this.audioViews&&this.audioViews.push(new cp.AudioView(b))},load:function(){var a=cp.D.pbga;if(a){this.bgAudio=new cp.AudioObject(this,"bga",a.src,1,a.to,a.du);a.l&&this.bgAudio.setLoop(true);this.bgAudio.stopAtProjectEnd=a.spe;this.bgAudio.lowerVolumeOnSlidesWithAudio=a.lv;this.bgAudio.lowerVolumePercentage=a.vp}a=(cp.D.project_main.slideAudios||"").split(",");this.slideAudios={};for(var b=0;b<a.length;++b)if(""!=a[b]){var c=cp.D[a[b]],d=new cp.AudioObject(this,
a[b],c.src,c.from,c.to,c.du);c.l&&d.setLoop(true,c.lf);this.slideAudios[a[b]]=d}a={};this.objectAudios={};this.eventAudios={};b=(cp.D.project_main.slides||"").split(",");for(c=0;c<b.length;++c){for(var e=cp.D[b[c]],f=(e.oa||"").split(","),g={},k=false,d=0;d<f.length;++d)if(""!=f[d]){var l=cp.D[f[d]],k=l.rp?a[f[d]]:void 0;if(!k){k=new cp.AudioObject(this,f[d],l.src,l.from,l.to,l.du,l.rp);k.mouseAudio=l.msa;l.rp&&(a[f[d]]=k)}g[f[d]]=k;k=true}k&&(this.objectAudios[b[c]]=g);e=(e.ea||"").split(",");f=
{};k=false;for(d=0;d<e.length;++d)if(""!=e[d]){g=cp.D[e[d]];k=g.rp?a[e[d]]:void 0;if(!k){k=new cp.AudioObject(this,e[d],g.src,-1,-1,g.du,g.rp);g.rp&&(a[e[d]]=k)}f[e[d]]=k;k=true}k&&(this.eventAudios[b[c]]=f)}if(cp.movie.playKeyTap)this.keyTap=new cp.AudioObject(this,"pkt","ar/KeyClick.mp3",-1,-1,void 0);this.singletonPlayAudio=new cp.AudioObject(this,"spa","",-1,-1,void 0);this.extAudios={};if(cp.extAudioCallbacks)for(a=0;a<cp.extAudioCallbacks.length;++a)cp.extAudioCallbacks[a](this);this.loaded=
true},deviceSpecificFlush:function(){if((cp.IDEVICE==cp.device||cp.device==cp.ANDROID)&&cp.multiAudioTrack){for(var a=0,b=0;b<this.MAX_AUDIO_CHANNELS;++b){var c=this.audioChannels[b];if(c.src.indexOf("_cp_n_m_")!=-1){++a;if(a>=this.MAX_AUDIO_CHANNELS/2)return}}for(b=0;b<this.MAX_AUDIO_CHANNELS;++b){c=this.audioChannels[b];if(c.ended||c.paused){if(c.cpAudio!=null){c.cpAudio.nativeAudio=null;c.cpAudio=null}c.cpSrc="";c.waitCount=0;delete c.cploop;c.ended=false;delete c.endedAt;delete c.pausedAt;delete c.cpTo;
if(c.src.indexOf("_cp_n_m_")==-1){try{c.src="_cp_n_m_"}catch(d){}try{c.load()}catch(e){}}}}}},deviceSpecificInit:function(){if(cp.IDEVICE==cp.device||cp.device==cp.ANDROID)for(var a=0;a<this.MAX_AUDIO_CHANNELS;++a){var b=this.audioChannels[a];if(!b.cpSrc)try{b.src="_cp_n_m_"}catch(c){}try{b.load()}catch(d){}}},playKeyTap:function(){this.verbose&&cp.log("playKeyTap");if(!this.playWebAudio(this.keyTap)){if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID)if(!cp.multiAudioTrack&&(this.audioPlaying||cp.movie.stage.VideoPlaying)){this.verbose&&
cp.log("audioPlaying "+this.audioPlaying+" videoPlaying "+this.videoPlaying);return}if(!this.muted&&1==cp.movie.speed){this.eventAudioPlaying=this.keyTap.id;this.keyTap.resetAndPlay()}}},seekTo:function(a,b){if(!this.loaded)return-1;var c=cp.movie.stage.getSlideIndexForFrame(a);if(-1==c)return-1;this.ssc=0;this.changeCurrentSlide(c,a,false);if(this.currentSlide){var d=this.objectAudios[this.currentSlide];if(d)for(var e in d){var f=d[e];f&&(f.seekTo(a)||f.pause())}}if(this.currentSlideAudio)(d=this.slideAudios[this.currentSlideAudio])&&
(d.seekTo(a)||d.pause());this.bgAudio&&(this.bgAudio.paused||this.bgAudio.ended)&&this.bgAudio.seekTo(a);this.singletonPlayAudio&&b&&this.singletonPlayAudio.pause();return c},changeCurrentSlide:function(a,b,c){this.deviceSpecificFlush();a=cp.movie.stage.getSlideNameForIndex(a);if(!(a==""||this.currentSlide==a)){this.verbose&&cp.log("am changing slide from "+this.currentSlide+" to "+a+" seek = "+c);this.interactiveItemFound=false;this.ssp=this.ssc=0;if(this.currentSlide){var d=this.objectAudios[this.currentSlide];
if(d)for(var e in d){var f=d[e];f.mouseAudio?setTimeout(function(a){return function(){a.pause()}}(f),500):f.pause()}if(d=this.eventAudios[this.currentSlide])for(var g in d){f=d[g];f.id.length<=5||f.id.substring(f.id.length-5)!="ClkAd"?f.pause():setTimeout(function(a){return function(){a.pause()}}(f),500)}this.singletonPlayAudio.pause();if(this.currentSlideAudio){g=this.slideAudios[this.currentSlideAudio];if(g.from>b||g.to<b){g.pause();if(g.nativeAudio){g.nativeAudio.cpAudio=null;g.nativeAudio=null}if(g.ended)g.ended=
false;delete this.currentSlideAudio}else c&&cpInfoPrevFrame!=b-1&&g.seekTo(b)}if(g=this.extAudios[this.currentSlide])for(e in g)g[e].reset()}this.currentSlide=a;if(!this.currentSlideAudio){this.currentSlideAudio=cp.D[this.currentSlide].audioName;(g=this.slideAudios[this.currentSlideAudio])&&g.seekTo(b)}if(c&&this.currentSlide)if(d=this.objectAudios[this.currentSlide])for(e in d){f=d[e];f.rp?f.ended&&f.seekTo(f.from):f.seekTo(f.from)}this.stopBGAudio=(b=cp.D[this.currentSlide])&&b.sba?true:false}},
preload:function(a){if(this.webAudio){var b=this.eventAudios[a];if(b)for(var c in b){var d=b[c];d&&this.loadWebAudio(d.src)}this.keyTap&&cp.movie.playKeyTap&&this.loadWebAudio(this.keyTap.src);var b=this.objectAudios[a],e;for(e in b)(d=b[e])&&d.mouseAudio&&this.loadWebAudio(d.src)}if(!(cp.device==cp.IDEVICE||cp.device==cp.ANDROID||cp.device==cp.KINDLE)&&this.loaded&&1==cp.movie.speed){this.verbose&&cp.log("audio manager preload "+a);if(b=cp.D[a])if((b=this.slideAudios[b.audioName])&&!b.nativeAudio&&
!this.allocAudioChannel(b,false))return;b=this.objectAudios[a];for(e in b){d=b[e];if(!d||!d.rp||!d.nativeAudio)if(d&&(!d.mouseAudio||!this.webAudio)&&!this.allocAudioChannel(d,false))return}if(!this.webAudio){if(b=this.eventAudios[a])for(c in b)if((d=b[c])&&(!d.rp||!d.nativeAudio)&&!this.allocAudioChannel(d,false))return;if(this.keyTap&&cp.movie.playKeyTap&&!this.allocAudioChannel(this.keyTap,false))return}a=this.extAudios[a];for(e in a)if((c=a[e])&&!this.allocAudioChannel(c,false))break}},play:function(a,
b){this.pace=null;if(this.loaded&&1==cp.movie.speed){if((cp.device==cp.IDEVICE||cp.device==cp.ANDROID)&&!cp.multiAudioTrack){var c=this.audioChannels[0];if(!c.paused&&!c.ended&&c.cpAudio&&c.cpAudio.id==this.eventAudioPlaying||cp.movie.stage.VideoPlaying)return}var c=false,d=null,e=null;if(!b){if(this.currentSlide){var f=this.objectAudios[this.currentSlide];if(f)for(var g in f){var k=f[g];if(k&&!k.ended)if(k.from<=a&&k.to>=a||k.shownAt&&k.shownAt<=a&&k.shownAt+k.to-k.from>=a){if((cp.device==cp.IDEVICE||
cp.device==cp.ANDROID)&&!cp.multiAudioTrack)null==d&&(d=k);else{null==d&&(d=k);k.play()}c=true}else k.mouseAudio?this.webAudio&&k.pause():k.pause()}}if(this.currentSlideAudio)if((g=this.slideAudios[this.currentSlideAudio])&&!g.ended)if(g.from<=a&&g.to>=a)if((cp.device==cp.IDEVICE||cp.device==cp.ANDROID)&&!cp.multiAudioTrack){if(null==d)e=d=g;this.ssc!=1&&this.ssp!=1&&(c=true)}else if(this.ssc!=1&&this.ssp!=1){g.play();null==d&&(d=g);e=g;c=true}else g.pause();else g.pause()}if(this.bgAudio){if(c){if(this.bgAudio.lowerVolumeOnSlidesWithAudio&&
this.bgAudio.nativeAudio)this.bgAudio.nativeAudio.volume=this.volume*(this.bgAudio.lowerVolumePercentage/100)}else if(this.bgAudio.nativeAudio)this.bgAudio.nativeAudio.volume=this.volume;if((cp.device==cp.IDEVICE||cp.device==cp.ANDROID)&&!cp.multiAudioTrack){if(null==d)d=this.bgAudio}else this.stopBGAudio?this.bgAudio.pause():this.bgAudio.play()}this.audioPlaying=null;if((cp.device==cp.IDEVICE||cp.device==cp.ANDROID)&&d&&!cp.multiAudioTrack)if(e==d){if(this.ssc!=1&&this.ssp!=1){this.audioPlaying=
d.id;d.play()}}else if(this.bgAudio==d)if(this.stopBGAudio)d.pause();else{this.audioPlaying=d.id;d.play()}else{this.audioPlaying=d.id;d.play()}if(cp.IDEVICE==cp.device||cp.device==cp.ANDROID){if(1==cp.movie.speed)if(d&&d!=this.bgAudio&&!d.shownAt&&!d.ended&&!d.paused&&!d.loop&&d.nativeAudio&&d.nativeAudio.currentTime>0){this.pace=d.from+d.nativeAudio.currentTime*cpInfoFPS;if(this.pace>d.to)this.pace=d.to}else this.pace=cp.movie.vdm.pace()}else if(1==cp.movie.speed&&!this.interactiveItemFound)if(e&&
!e.ended&&!e.paused&&!e.loop&&e.nativeAudio&&e.nativeAudio.currentTime>0){this.pace=e.from+e.nativeAudio.currentTime*cpInfoFPS;if(this.pace>e.to)this.pace=cp.movie.vdm.pace()?null:e.to}else this.pace=cp.movie.vdm.pace()}},pause:function(a){this.reasonForPause=a;if((a==cp.ReasonForPause.PLAYBAR_ACTION||a==cp.ReasonForPause.CPCMNDPAUSE||a==cp.ReasonForPause.MOVIE_REWIND_STOP||a==cp.ReasonForPause.EVENT_VIDEO_PAUSE||a==cp.ReasonForPause.ONLY_ONE_MEDIUM_CAN_PLAY||a==cp.ReasonForPause.PPTX_PAUSE_FOR_ONCLICK_ANIMATION||
a==cp.ReasonForPause.CPCMNDGOTOFRAME)&&this.currentSlide){var b=this.objectAudios[this.currentSlide];if(b)for(var c in b)b[c].pause();if(b=this.extAudios[this.currentSlide])for(c in b)b[c].pause(a)}c=cpInfoCurrentFrame;if(this.currentSlideAudio)(b=this.slideAudios[this.currentSlideAudio])&&(b.from<=c&&b.to>=c?a==cp.ReasonForPause.INTERACTIVE_ITEM?this.ssp==1&&b.pause():(a==cp.ReasonForPause.PLAYBAR_ACTION||a==cp.ReasonForPause.CPCMNDPAUSE||a==cp.ReasonForPause.MOVIE_REWIND_STOP||a==cp.ReasonForPause.EVENT_VIDEO_PAUSE||
a==cp.ReasonForPause.ONLY_ONE_MEDIUM_CAN_PLAY||a==cp.ReasonForPause.PPTX_PAUSE_FOR_ONCLICK_ANIMATION||a==cp.ReasonForPause.CPCMNDGOTOFRAME)&&b.pause():b.pause());this.bgAudio&&(a==cp.ReasonForPause.MOVIE_ENDED?this.bgAudio.stopAtProjectEnd&&this.bgAudio.pause():(a==cp.ReasonForPause.PLAYBAR_ACTION||a==cp.ReasonForPause.CPCMNDPAUSE||a==cp.ReasonForPause.MOVIE_REWIND_STOP||a==cp.ReasonForPause.EVENT_VIDEO_PAUSE||a==cp.ReasonForPause.ONLY_ONE_MEDIUM_CAN_PLAY)&&this.bgAudio.pause())},pauseCurrentSlideAudioForInteractiveClick:function(){this.verbose&&
cp.log("pause currentSlide Audio for SSC");var a=cpInfoCurrentFrame;if(this.currentSlideAudio){var b=this.slideAudios[this.currentSlideAudio];if(b&&b.from<=a&&b.to>=a){this.ssc=1;b.pause()}}},mute:function(a){var a=a==true||a>0?true:false,b=document.getElementById("playbar");a&&b.mute!=void 0&&b.mute();!a&&b.unmute!=void 0&&b.unmute();for(b=0;b<this.MAX_AUDIO_CHANNELS;++b)this.audioChannels[b].muted=a;this.muted=a},setVolume:function(a){a<0&&(a=0);a>1&&(a=1);this.volume=a;for(var b=0;b<this.MAX_AUDIO_CHANNELS;++b)this.audioChannels[b].volume=
a},playPauseEventAudio:function(a,b){if(b&&(cp.device==cp.IDEVICE||cp.device==cp.ANDROID)&&!cp.multiAudioTrack)if(this.audioPlaying||cp.movie.stage.VideoPlaying)return;if((!b||!(this.muted||1!=cp.movie.speed))&&this.currentSlide){var c=this.eventAudios[this.currentSlide];if(c){var d=c[a];if(d)if(b){this.eventAudioPlaying=d.id;d.resetAndPlay();d.id.length>5&&d.id.substring(d.id.length-5)=="ClkAd"&&(d.duration?setTimeout(function(){d.pause()},(d.duration+0.2)*1E3):setTimeout(function(){d.pause()},500))}else d.pause()}}},
showHideObjectAudio:function(a,b){if(this.currentSlide){var c=this.objectAudios[this.currentSlide];if(c)(c=c[a])&&(b?c.show():c.hide())}},doesAudioStartBetween:function(a,b){if(this.currentSlide){var c=this.objectAudios[this.currentSlide];if(c)for(var d in c){var e=c[d];if(e&&!e.ended&&e.from>=a&&e.from<=b){this.verbose&&cp.log("objAudio "+e.id+" starts between "+a+" & "+b);return true}}}if(this.currentSlideAudio)if((c=this.slideAudios[this.currentSlideAudio])&&!c.ended&&c.from>=a&&c.from<=b){this.verbose&&
cp.log("slideAudio "+c.id+" starts between "+a+" & "+b);return true}return false},updateAudioViews:function(){if(this.viewAudio&&this.audioViews)for(var a in this.audioViews)this.audioViews[a].update()}};cp.VARIABLE_CREATED_EVENT=0;cp.VARIABLE_CHANGED_EVENT=1;cp.SPECIFIC_VARIABLE_CHANGED_EVENT=2;cp.SLIDEENTEREVENT=3;cp.SLIDEEXITEVENT=4;cp.INTERACTIVEITEMSUBMITEVENT=5;cp.MOVIEPAUSEEVENT=6;cp.MOVIERESUMEEVENT=7;cp.MOVIESTARTEVENT=8;cp.MOVIESTOPEVENT=9;cp.QUESTIONSKIPEVENT=10;cp.QUESTIONSUBMITEVENT=
11;cp.STARTPLAYBARSCRUBBINGEVENT=12;cp.ENDPLAYBARSCRUBBINGEVENT=13;cp.MOVIEFOCUSINEVENT=14;cp.MOVIEFOCUSLOSTEVENT=15;cp.MOVIEAUDIOMUTEEVENT=16;var v=[];v[cp.VARIABLE_CREATED_EVENT]=[];v[cp.VARIABLE_CHANGED_EVENT]=[];v[cp.SPECIFIC_VARIABLE_CHANGED_EVENT]=[];v[cp.SLIDEENTEREVENT]=[];v[cp.SLIDEEXITEVENT]=[];v[cp.INTERACTIVEITEMSUBMITEVENT]=[];v[cp.MOVIEPAUSEEVENT]=[];v[cp.MOVIERESUMEEVENT]=[];v[cp.MOVIESTARTEVENT]=[];v[cp.MOVIESTOPEVENT]=[];v[cp.QUESTIONSKIPEVENT]=[];v[cp.QUESTIONSUBMITEVENT]=[];v[cp.STARTPLAYBARSCRUBBINGEVENT]=
[];v[cp.ENDPLAYBARSCRUBBINGEVENT]=[];v[cp.MOVIEFOCUSINEVENT]=[];v[cp.MOVIEFOCUSLOSTEVENT]=[];v[cp.MOVIEAUDIOMUTEEVENT]=[];cp.updateVarText=function(a,b){var c=0,d=0,e=0,f=0,g=0,k="",l="",m=false,o=null,l=false;b&&(l=true);if(a.id){var n=cp.D[a.id];if(n){var p=n.vt,r="";if(p&&a.drawingBoard){var o=n.mdi,q=null;o&&(q=cp.D[o]);var u=a.drawingBoard;if(q&&q.b&&u){var s=null;if(u.children.length<2){var v,z,t,x;if(void 0!=n.lm){v=n.lm;z=n.tm;t=n.rm;x=n.bm}s=cp.newElem("div");s.className="cp-vtxt";l=o+"-vtext";
s.id=l;o=cp.movie.stage.getFrameset(a.id);q&&(o&&o.isStarted&&1==q.visible)&&(m=true);s.style.cssText="word-wrap:break-word;white-space:pre-wrap;margin-left:"+(q.b[0]+v-q.vb[0])+"px; margin-top:"+(q.b[1]+z-q.vb[1])+"px; width: "+(q.b[2]-q.b[0]-(v+t))+"px; height:"+(q.b[3]-q.b[1]-(z+x))+"px;line-height:90%;overflow:hidden;";if(!m)s.style.visibility="hidden";q.tr&&cp.applyTransform(s,q.tr);q.sh&&cp.applyShadow(s,q.sh);o&&o.htmlDependents.push(s);cp.movie.stage.addToParentChildMap(a.id,l);u.appendChild(s)}else if((s=
u.children[1])&&l&&q&&1==q.visible)s.style.visibility="visible";try{if(void 0!=n.vars&&void 0!=n.varLens&&void 0!=n.texts){e=n.vars.length;for(f=n.texts.length;;){r=r+n.texts[d++];if(c<e){k=window[n.vars[c]];void 0==k&&(k="");g=n.varLens[c];k.length>g&&(k=k.substr(0,g));++c;r=r+k}if(d>=f)break}s.innerHTML=r}else s.innerHTML=p}catch(y){cp.log(y)}}}}}};cp.EventManager=function(){cp.em=this;(!document.createEvent||!document.addEventListener)&&alert("EVENT FIRING WILL NOT WORK");document.addEventListener("propertyChange",
wa,false);this.verbose=false};cp.EventManager.prototype={fireEvent:function(a,b){if(document.createEvent){var c=document.createEvent("Events");c.initEvent("propertyChange",true,true,null);c.cpName=a;c.cpData=b;return!document.dispatchEvent(c)}},addEventListener:function(a,b,c,d){this.verbose&&cp.log("cp.em.addEventListener : "+a+" "+b+" "+c);if(b==cp.VARIABLE_CREATED_EVENT||b==cp.VARIABLE_CHANGED_EVENT||b==cp.SLIDEENTEREVENT||b==cp.SLIDEEXITEVENT||b==cp.STARTPLAYBARSCRUBBINGEVENT||b==cp.INTERACTIVEITEMSUBMITEVENT||
b==cp.MOVIEPAUSEEVENT||b==cp.MOVIERESUMEEVENT||b==cp.MOVIESTARTEVENT||b==cp.MOVIESTOPEVENT||b==cp.QUESTIONSKIPEVENT||b==cp.QUESTIONSUBMITEVENT||b==cp.MOVIEFOCUSINEVENT||b==cp.MOVIEFOCUSLOSTEVENT||b==cp.MOVIEAUDIOMUTEEVENT||b==cp.ENDPLAYBARSCRUBBINGEVENT){b=v[b];b.push({l:a,r:d});this.verbose&&cp.log(b);return true}if(b==cp.SPECIFIC_VARIABLE_CHANGED_EVENT){b=v[b];b.push({l:a,n:c,r:d});this.verbose&&cp.log(b);return true}return false},removeEventListener:function(a,b,c){this.verbose&&cp.log("cp.em.removeEventListener : "+
a+" "+b+" "+c);var d=false;if(b==cp.VARIABLE_CREATED_EVENT||b==cp.VARIABLE_CHANGED_EVENT||b==cp.SLIDEENTEREVENT||b==cp.SLIDEEXITEVENT||b==cp.STARTPLAYBARSCRUBBINGEVENT||b==cp.INTERACTIVEITEMSUBMITEVENT||b==cp.MOVIEPAUSEEVENT||b==cp.MOVIERESUMEEVENT||b==cp.MOVIESTARTEVENT||b==cp.MOVIESTOPEVENT||b==cp.QUESTIONSKIPEVENT||b==cp.QUESTIONSUBMITEVENT||b==cp.MOVIEFOCUSINEVENT||b==cp.MOVIEFOCUSLOSTEVENT||b==cp.MOVIEAUDIOMUTEEVENT||b==cp.ENDPLAYBARSCRUBBINGEVENT){b=v[b];if(a.id!=void 0)for(var e=0;e<b.length;++e){if(b[e].l.id==
a.id){b.splice(e,1);d=true}}else for(e=0;e<b.length;++e)if(b[e].l==a){b.splice(e,1);d=true}d&&this.verbose&&cp.log(b)}else if(b==cp.SPECIFIC_VARIABLE_CHANGED_EVENT){b=v[b];if(c!=void 0&&c!="")if(a.id!=void 0)for(e=0;e<b.length;++e){if(b[e].l.id==a.id&&b[e].n==c){b.splice(e,1);d=true}}else for(e=0;e<b.length;++e){if(b[e].l==a&&b[e].n==c){b.splice(e,1);d=true}}else if(a.id!=void 0)for(e=0;e<b.length;++e){if(b[e].l.id==a.id){b.splice(e,1);d=true}}else for(e=0;e<b.length;++e)if(b[e].l==a){b.splice(e,
1);d=true}d&&this.verbose&&cp.log(b)}return d}};window.vh={};window.svvi=function(a,b,c){var d=null;if(a!=""){d=null;if(a&&a!=""){var e="_"+a,d=vh[e];d!=b&&(vh[e]=b)}if(cp.em&&d!=b){a={captivateVersion:E(),varName:a,oldVal:d,newVal:b,notify:c};cp.em.fireEvent("CPVariableValueChangedEvent",a)}}else if(cp.em){a={captivateVersion:E(),varName:"",newVal:b,notify:c};cp.em.fireEvent("CPVariableValueChangedEvent",a)}};var H=0;cp.setCpQuizScopeSlide=ua;window.asg=function(a,b,c){b==null&&(b=mc);c==null&&(c=
nc);if(Object.defineProperty)Object.defineProperty(window,a,{get:c,set:b});else if(window.__defineGetter__){c&&window.__defineGetter__(a,c);b&&window.__defineSetter__(a,b)}};cp.VarInfo=function(a,b,c){this.name=a;this.len=b;this.systemDefined=c};cp.VariablesManager=function(){cp.vm=this;this.varInfos=[];if(!Object.defineProperty&&!window.__defineGetter__)alert("VARIABLES SETTER GETTER WILL NOT WORK");else{asg("cpCmndVolume",ya,xa);asg("cpCmndMute",S,T);asg("rdcmndMute",S,T);asg("cpCmndCC",Ba,W);asg("rdcmndCC",
null,W);asg("cpCmndNext",N,null);asg("rdcmndNext",N,null);asg("cpCmndNextSlide",N,null);asg("rdcmndNextSlide",N,null);asg("cpCmndPrevious",M,L);asg("rdcmndPrevious",M,L);asg("cpCmndNextOnReview",Da,null);asg("cpCmndPreviousSlide",M,L);asg("rdcmndPreviousSlide",M,L);asg("cpCmndPreviousOnReview",Ca,null);asg("cpCmndPlaybarMoved",V,U);asg("rdcmndPlaybarMoved",V,U);asg("cpCmndShowPlaybar",Aa,za);asg("cpCmndFastForward",Ea,null);asg("cpCmndRewindAndPlay",$,Z);asg("rdcmndRewindAndPlay",$,Z);asg("cpCmndRewindAndStop",
ba,aa);asg("rdcmndRewindAndStop",ba,aa);asg("cpCmndGotoFrame",ea,null);asg("rdcmndGotoFrame",ea,null);asg("cpCmndGotoFrameAndResume",fa,null);asg("rdcmndGotoFrameAndResume",fa,null);asg("cpCmndGotoSlide",ga,null);asg("rdcmndGotoSlide",ga,null);asg("cpCmndGotoSlideAndResume",Ja,null);asg("cpCmndGotoSlideByUIDAndResume",Ka,null);asg("cpCmndResume",da,ca);asg("rdcmndResume",da,ca);asg("cpCmndPause",ka,la);asg("rdcmndPause",ka,la);asg("cpCmndExit",ja,ia);asg("rdcmndExit",ja,ia);asg("cpLockTOC",Fa,Ga);
asg("cpCmndInfo",ma,na);asg("rdcmndInfo",ma,na);asg("cpCmndTOCVisible",Ha,Ia);asg("cpInfoSlidesInProject",null,qa);asg("rdinfoSlidesInProject",null,qa);asg("rdinfoCurrentSlideInProject",null,function(){return 0});asg("cpInfoFPS",null,ta);asg("rdinfoFPS",null,ta);asg("cpInfoAuthor",null,La);asg("cpInfoCompany",null,vb);asg("cpInfoEmail",null,Fb);asg("cpInfoWebsite",null,Db);asg("cpInfoCopyright",null,Cb);asg("cpInfoProjectName",null,Eb);asg("cpInfoDescription",null,Ma);asg("cpInfoCurrentFrame",null,
Q);asg("rdinfoCurrentFrame",null,Q);asg("cpInfoPrevFrame",null,ac);asg("cpInfoFrameCount",null,Kb);asg("cpInfoPrevSlide",null,$a);asg("cpInfoLastVisitedSlide",null,qb);asg("cpInfoCurrentSlide",null,bc);asg("rdinfoCurrentSlide",null,ra);asg("cpInfoCurrentSlideIndex",null,ra);asg("cpInfoCurrentSlideLabel",null,Va);asg("cpInfoSlideCount",null,sa);asg("rdinfoSlideCount",null,sa);asg("cpInfoIsStandalone",null,Gb);asg("cpInfoHasPlaybar",null,Hb);asg("cpInfoCurrentSlideType",null,Zb);asg("cpInfoElapsedTimeMS",
null,Yb);asg("cpInfoEpochMS",null,Xb);asg("cpInfoCurrentMinutes",null,Wb);asg("cpInfoCurrentHour",null,Vb);asg("cpInfoCurrentTime",null,Ub);asg("cpInfoCurrentDay",null,Tb);asg("cpInfoCurrentYear",null,Sb);asg("cpInfoCurrentMonth",null,Rb);asg("cpInfoCurrentDate",null,Qb);asg("cpInfoCurrentDateString",null,Nb);asg("cpInfoCurrentDateStringDDMMYYYY",null,Ob);asg("cpInfoCurrentLocaleDateString",null,Pb);asg("cpCmndGotoQuizScopeSlide",jc,null);asg("cpQuizInfoLastSlidePointScored",Oa,Na);asg("cpQuizInfoQuestionSlideType",
nb,mb);asg("cpQuizInfoAnswerChoice",xb,wb);asg("cpQuizInfoMaxAttemptsOnCurrentQuestion",sb,rb);asg("cpQuizInfoPointsPerQuestionSlide",Qa,Pa);asg("cpQuizInfoNegativePointsOnCurrentQuestionSlide",Sa,Ra);asg("cpQuizInfoQuestionSlideTiming",ub,tb);asg("cpQuizInfoQuizPassPoints",lb,kb);asg("cpQuizInfoQuizPassPercent",Xa,Wa);asg("cpQuizInfoTotalProjectPoints",Za,Ya);asg("cpQuizInfoTotalUnansweredQuestions",pb,ob);asg("cpQuizInfoNoQuestionsPerQuiz",zb,yb);asg("cpQuizInfoPointsscored",Bb,Ab);asg("cpQuizInfoPretestPointsscored",
null,fc);asg("cpQuizInfoPretestScorePercentage",null,ic);asg("cpQuizInfoTotalCorrectAnswers",bb,ab);asg("cpInfoPercentage",hb,gb);asg("cpQuizInfoTotalQuizPoints",Mb,Lb);asg("cpQuizInfoAttempts",Jb,Ib);asg("cpQuizInfoTotalQuestionsPerProject",jb,ib);asg("cpQuizInfoQuestionPartialScoreOn",Ua,Ta);asg("cpQuizScopeSlide",null,cc);asg("cpInQuizScope",null,dc);asg("cpQuizInfoPassFail",null,$b);asg("cpInfoCourseID",null,kc);asg("cpInfoCourseName",null,lc);asg("cpQuizInfoPreTestTotalCorrectAnswers",fb,cb);
asg("cpInReviewMode",null,gc);asg("cpQuizInfoPreTestTotalQuestions",db,eb);asg("cpQuizInfoPreTestMaxScore",null,hc);asg("CaptivateVersion",null,E)}cp.initVariables();cp.vm.createVariable("cpQuizScopeSlide",-1,true,100);cp.initVariables=null};cp.VariablesManager.prototype={hasOwnProperty:function(a){try{return eval("vh._"+a)==void 0?false:true}catch(b){return false}},getVariableValue:function(a){var b=null;a&&a!=""&&(b=eval("vh._"+a));return b},createVariable:function(a,b,c,d){void 0==c&&(c=true);
if(a&&a!=""&&this.hasOwnProperty(a)==false){this.addVarInfo(a,d,c);vh["_"+a]=b;if(cp.em&&c!=true){oc(a);a={captivateVersion:E(),varName:a,varVal:b};cp.em.fireEvent("CPVariableCreatedEvent",a)}return true}return false},setVariableValue:function(a,b,c){c==void 0&&(c=true);var d=true;c?this.createVariable(a,b,true,1E4)==true&&(d=false):this.hasOwnProperty(a)==false&&(d=false);d&&(vh["_"+a]=b)},addVarInfo:function(a,b,c){this.varInfos.push(new cp.VarInfo(a,b,c))},getVariableLength:function(a){for(var b=
0,b=0;b<this.varInfos.length;++b)if(a==this.varInfos[b].name)return this.varInfos[b].len;return 1E3}};cp.EventVideo=function(a){this.vdm=cp.movie.vdm;this.vdm.verbose&&cp.log("EventVideo being constructed for el "+a.id);cp.EventVideo.baseConstructor.call(this,a);this.id=this.parentDivName=this.getAttribute("dn");a=cp.D[this.parentDivName];this.from=a.from;this.to=a.to;this.displayForDurationOfVideo=a.ddv;cp.IDEVICE==cp.device||cp.device==cp.ANDROID?this.cploop=this.getAttribute("l"):this.loop=this.getAttribute("l");
if(this.showControls=this.getAttribute("svc"))this.videoSkinStrings=this.getAttribute("vss");this.autoPlay=this.getAttribute("au");this.autoRewind=this.getAttribute("ar");this.src=this.getAttribute("mp4");if((cp.device==cp.IDEVICE||cp.device==cp.ANDROID)&&!cp.multiAudioTrack){var b=this.getAttribute("amp4");if(b)this.src=b}this.nativeVideo=null;this.ended=false;this.paused=true;this.started=false;this.visible=this.getAttribute("visible");this.transIn=a.trin;this.element.parentElement.drawingBoard=
this.element.parentElement;b=this.getAttribute("b");this.actualParent=a=document.getElementById(this.parentDivName);this.actualDrawingElement=this.element;this.bounds={minX:b[0],minY:b[1],maxX:b[2],maxY:b[3]};b=this.getAttribute("vb");this.vbounds={minX:b[0],minY:b[1],maxX:b[2],maxY:b[3],width:b[2]-b[0],height:b[3]-b[1]};if(a){a.drawingBoard=this.element.parentElement;a.bounds=this.bounds;a.drawingBoard.bounds=this.vbounds}this.isDrawn=false;this.tr=this.getAttribute("tr");if(!this.tr)this.tr="rotate(0deg)";
this.sh=this.getAttribute("sh");this.re=this.getAttribute("re");cp.movie.stage.addToParentChildMap(a.id,this.element.id)};cp.inherits(cp.EventVideo,cp.DisplayObject);cp.EventVideo.prototype.start=function(a){function b(a){if((cp.device==cp.IDEVICE||cp.device==cp.ANDROID)&&cp.multiAudioTrack){var d=a.from;d<cpInfoCurrentFrame&&(d=cpInfoCurrentFrame);var e=d+0.5*cpInfoFPS;if(e>a.to)e=a.to;if(cp.movie.am.doesAudioStartBetween(d,e)){a.vdm.verbose&&cp.log("500mS delay in start of "+a.id);a.delayStartTimer=
setTimeout(function(){b(a)},500);return}}a.drawIfNeeded();a.addNativeVideoIfNeeded()}b(this);if(!this.effectIsStarted||a){this.updateEffects(this.hasEffect);this.effectIsStarted=true}};cp.EventVideo.prototype.reset=function(a){this.vdm.verbose&&cp.log("EventVideo "+this.id+" reset("+a+")");if(this.delayStartTimer){clearTimeout(this.delayStartTimer);delete this.delayStartTimer}delete cp.ropMap[this.element.id];this.pause();if(this.nativeVideo){this.nativeVideo.cpVideo=null;try{this.nativeVideo.currentTime=
0}catch(b){}this.nativeVideo.style.display="none";if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID){var c=this.src;this.src="_cp_n_m_";var d=this.nativeVideo;setTimeout(function(){if(d.cpSrc==c){d.cpSrc="_cp_n_m_";try{d.src="_cp_n_m_"}catch(a){}try{d.load()}catch(b){}}},100)}this.nativeVideo=null}this.isDrawn=false;if(cp.device!=cp.IDEVICE&&cp.removeVideoSkin){(cp.device==cp.ANDROID?cp.movie.stage.NativeVideoElement:this.element).style.backgroundColor="";cp.removeVideoSkin(this.actualParent)}this.element.width=
0;this.element.height=0;this.element.style.width="0px";this.element.style.height="0px";this.element.left=0;this.element.top=0;this.element.style.left="0px";this.element.style.top="0px";if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID)cp.movie.stage.VideoPlaying=false;this.ended=false;delete this.seekToTime};cp.EventVideo.prototype.onEndOfMovie=function(){this.vdm.verbose&&cp.log("EventVideo "+this.id+" onEndOfMovie()");if(!this.displayForDurationOfVideo){this.pause();if(cp.device==cp.IDEVICE||cp.device==
cp.ANDROID)cp.movie.stage.VideoPlaying=false;this.ended=false;delete this.seekToTime}};cp.EventVideo.prototype.drawIfNeeded=function(){if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID){if(cp.movie.stage.VideoPlaying)return;cp.multiAudioTrack||cp.movie.am.pause(cp.ReasonForPause.ONLY_ONE_MEDIUM_CAN_PLAY);cp.movie.stage.VideoPlaying=true}if(!this.isDrawn){this.vdm.verbose&&cp.log("EventVideo "+this.id+" start()");var a=this.bounds,b=0;this.tr&&(b=cp.getAngleFromRotateStr(this.tr));var c;if(cp.device==
cp.IDEVICE||cp.device==cp.ANDROID){c=cp.movie.stage.NativeVideoElement;if(!c){c=this.element;cp.movie.stage.NativeVideoElement=this.element}}else c=this.element;var d=this.actualParent;d.style.left=a.minX+"px";d.style.top=a.minY+"px";d.style.width=a.maxX-a.minX+"px";d.style.height=a.maxY-a.minY+"px";var e=c.parentElement;e.style.left="0px";e.style.top="0px";e.style.width=cp.D.project.w+"px";e.style.height=cp.D.project.h+"px";c.rotateAngle=b;c.style.left=a.minX+"px";c.style.top=a.minY+"px";c.style.width=
a.maxX-a.minX+"px";c.style.height=a.maxY-a.minY+"px";c.style.display="block";c.style.position="absolute";if(this.tr){cp.applyTransform(c,this.tr);cp.applyTransform(d,this.tr);c.tr=this.tr;d.tr=this.tr}if(this.sh&&!this.sh.i){a=this.sh.a-b;cp.applyShadow(c,this.sh.d*Math.cos(Math.PI*a/180)+"px "+this.sh.d*Math.sin(Math.PI*a/180)+"px "+this.sh.b+"px "+cp.ConvertRGBToRGBA(this.sh.c,this.sh.o)+(this.sh.i?" inset":""))}if(this.re)c.parentElement.style.webkitBoxReflect="below "+this.re.d+"px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop("+
(1-this.re.s/100)+", transparent), to(rgba(255, 255, 255, "+(1-this.re.p/100)+")))";if(this.transIn)c.parentElement.style.opacity=0;this.visible||cp.hide(this.parentDivName);this.isDrawn=true}};cp.EventVideo.prototype.addNativeVideoIfNeeded=function(){if(this.isDrawn&&!this.nativeVideo){var a;a=cp.device==cp.IDEVICE||cp.device==cp.ANDROID?cp.movie.stage.NativeVideoElement:this.element;this.vdm.allocVideoChannel(this,cp.IDEVICE!=cp.device&&cp.device!=cp.ANDROID);if(this.nativeVideo){var b=this.bounds;
this.nativeVideo.style.display="block";this.nativeVideo.style.width=b.maxX-b.minX+"px";this.nativeVideo.style.height=b.maxY-b.minY+"px";if(cp.device==cp.IDEVICE&&cp.IOSMajor>=cp.IOS5||cp.device==cp.ANDROID){this.nativeVideo.CPcanPlay=false;this.nativeVideo.from=this.from;this.nativeVideo.to=this.to;this.nativeVideo.style.position="fixed";this.nativeVideo.style.left="-99999px"}if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID)if(this.nativeVideo.parentElement){cp.movie.stage.correctReWrapZOrder(a.parentElement,
this.element.parentElement);cp.movie.stage.correctParentZOrder(cp.movie.stage.VideoElement,this.actualParent)}else a.appendChild(this.nativeVideo);else a.appendChild(this.nativeVideo);if(this.visible){a.style.display="block";a.style.visibility="visible";if(this.showControls&&this.nativeVideo){if(cp.IDEVICE!=cp.device){a.style.backgroundColor="#000000";cp.addVideoSkin(this.actualParent,this,this.autoPlay)}else this.nativeVideo.controls=true;var c=this;this.nativeVideo.addEventListener("webkitbeginfullscreen",
function(){cp.movie.pause()});this.nativeVideo.addEventListener("webkitendfullscreen",function(){c.nativeVideo.ended&&cp.movie.play()})}this.autoPlay&&this.play()}}cp.redrawVideo(this.nativeVideo)}};cp.EventVideo.prototype.load=function(){this.nativeVideo&&this.nativeVideo.load()};cp.EventVideo.prototype.play=function(){if(!(this.ended==true||this.paused==false))if(cp.lastMediaPlayReqTime&&(new Date).getTime()-cp.lastMediaPlayReqTime.getTime()<50){this.vdm.verbose&&cp.log("crowded request postponed "+
this.id);var a=this;setTimeout(function(){a.play()},50)}else if(this.isSeekPending()){this.vdm.verbose&&cp.log("EventVideo.Play setting revoke "+this.id);this.revoke=true;this.finishPendingSeek()}else if(this.nativeVideo){this.paused=false;if(this.nativeVideo.src.indexOf(this.src)==-1){this.nativeVideo.cpSrc=this.src;this.nativeVideo.src=this.src;this.nativeVideo.load()}this.vdm.verbose&&cp.log("EventVideo.Play "+this.id+" "+this.src);if((cp.device==cp.IDEVICE||cp.device==cp.ANDROID)&&cp.multiAudioTrack)cp.lastMediaPlayReqTime=
new Date;this.nativeVideo.play();this.started=true}};cp.EventVideo.prototype.pause=function(){if(this.isSeekPending()){this.vdm.verbose&&cp.log("EventVideo.Pause deleting revoke "+this.id);delete this.revoke}if(!this.paused){this.paused=true;this.vdm.verbose&&cp.log("EventVideo.Pause "+this.id+" "+this.src);if(this.nativeVideo){this.nativeVideo.pause();this.nativeVideo.pausedAt=(new Date).getTime()}}};cp.EventVideo.prototype.setLoop=function(a,b){this.loop=a;this.loopFrames=b;if(cp.IDEVICE==cp.device||
cp.device==cp.ANDROID)this.cploop=a;else if(this.nativeVideo)a?this.nativeVideo.loop=true:delete this.nativeVideo.loop};cp.EventVideo.prototype.setCurrentTime=function(a){this.vdm.verbose&&cp.log("VideoObject "+this.id+"src "+this.src+" setCurrentTime("+a+")");if(this.nativeVideo){delete this.seekToTime;if(!this.paused){this.vdm.verbose&&cp.log("setting revoke");this.revoke=true;this.pause()}var b=true;try{this.nativeVideo.currentTime=a;var c=Math.abs(this.nativeVideo.currentTime-a);c>=0.05&&(b=false)}catch(d){c=
Math.abs(this.nativeVideo.currentTime-a);b=c>=0.05?false:true}this.vdm.verbose&&cp.log("seekSuccess = "+b);if(cp.movie.ms.enabled)if(b){if(this.revoke){this.vdm.verbose&&cp.log("revoking play");delete this.revoke;this.play()}}else{this.vdm.verbose&&cp.log("pause movie and add to seekQueue");this.seekToTime=a;cp.movie.ms.addToQueue(this)}else if(this.revoke){this.vdm.verbose&&cp.log("revoking play");delete this.revoke;this.play()}}else{this.seekToTime=a;this.vdm.verbose&&cp.log("no native video. Kept in pending...")}};
cp.EventVideo.prototype.isSeekPending=function(){return void 0!=this.seekToTime};cp.EventVideo.prototype.finishPendingSeek=function(){if(this.nativeVideo&&this.isSeekPending()){this.vdm.verbose&&cp.log("VideoObject "+this.id+" finishPendingSeek");this.setCurrentTime(this.seekToTime)}};cp.EventVideo.prototype.seekTo=function(a){this.vdm.verbose&&cp.log("VideoObject "+this.id+" seekTo("+a+")");if(this.loop&&this.loopFrames){if(this.from<=a){this.setCurrentTime((a-this.from)%this.loopFrames/cpInfoFPS);
this.ended=false;return true}}else{if(this.from<=a&&this.to>=a){this.setCurrentTime((a-this.from)/cpInfoFPS);this.ended=false;return true}if(this.to>=a){this.setCurrentTime(0);this.ended=false}}return false};cp.FMRVideo=function(a){cp.FMRVideo.baseConstructor.call(this,a)};cp.inherits(cp.FMRVideo,cp.EventVideo);cp.FMRVideo.prototype.addNativeVideoIfNeeded=function(){cp.FMRVideo.superClass.addNativeVideoIfNeeded.call(this);this.vdm.demoVideo=this.nativeVideo};cp.FMRVideo.prototype.reset=function(a){cp.FMRVideo.superClass.reset.call(this,
a);this.vdm.demoVideo=this.nativeVideo};cp.FMRVideo.prototype.onEndOfMovie=function(){cp.FMRVideo.superClass.onEndOfMovie.call(this);this.vdm.demoVideo=this.nativeVideo};cp.FMRVideo.prototype.updateFrame=function(){this.paused&&(!cp.movie.paused&&this.autoPlay&&this.visible)&&this.play()};cp.CPVCVideo=function(a){cp.CPVCVideo.baseConstructor.call(this,a)};cp.inherits(cp.CPVCVideo,cp.FMRVideo);cp.SlideVideo=function(a){cp.SlideVideo.baseConstructor.call(this,a);this.autoPlay=1;this.seek_From=this.getAttribute("vsf");
this.seek_To=this.getAttribute("vst");this.showInTOC=this.getAttribute("sit");this.continueToNextSlide=this.getAttribute("continueToNextSlide");this.continueFromPrevSlide=this.getAttribute("continueFromPrevSlide");this.type=cp.kCPOTVideo};cp.inherits(cp.SlideVideo,cp.EventVideo);cp.SlideVideo.prototype.reset=function(a){this.vdm.verbose&&cp.log("SlideVideo "+this.id+" reset("+a+")");if(this.delayStartTimer){clearTimeout(this.delayStartTimer);delete this.delayStartTimer}if(a&&this.continueToNextSlide){if(this.nativeVideo)this.nativeVideo=
this.nativeVideo.cpVideo=null}else{this.pause();if(this.showInTOC){cp.toc.rootObj.showVideo(false);if(this.nativeVideo){this.nativeVideo.cpVideo=null;if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID){var b=this.src;this.src="_cp_n_m_";var c=this.nativeVideo;setTimeout(function(){if(c.cpSrc==b){c.cpSrc="_cp_n_m_";try{c.src="_cp_n_m_"}catch(a){}try{c.load()}catch(e){}}},100)}this.nativeVideo=null}}else if(this.nativeVideo){this.nativeVideo.cpVideo=null;this.nativeVideo.style.display="none";if(cp.device==
cp.IDEVICE||cp.device==cp.ANDROID){b=this.src;this.src="_cp_n_m_";c=this.nativeVideo;setTimeout(function(){if(c.cpSrc==b){c.cpSrc="_cp_n_m_";try{c.src="_cp_n_m_"}catch(a){}try{c.load()}catch(e){}}},100)}this.nativeVideo=null}}this.isDrawn=false;if(!a||!this.continueToNextSlide){this.element.style.width="0px";this.element.style.height="0px";this.element.style.left="0px";this.element.style.top="0px"}if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID)cp.movie.stage.VideoPlaying=false;this.ended=false;delete this.seekToTime};
cp.SlideVideo.prototype.onEndOfMovie=function(){this.vdm.verbose&&cp.log("SlideVideo "+this.id+" onEndOfMovie()");this.pause();if(this.nativeVideo)this.nativeVideo=this.nativeVideo.cpVideo=null;this.isDrawn=false;if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID)cp.movie.stage.VideoPlaying=false;this.ended=false;delete this.seekToTime};cp.SlideVideo.prototype.drawIfNeeded=function(){if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID){if(cp.movie.stage.VideoPlaying)return;cp.movie.stage.VideoPlaying=true}if(!this.isDrawn){if(!this.showInTOC){this.vdm.verbose&&
cp.log("SlideVideo "+this.id+" start()");var a=this.bounds,b=0;this.tr&&(b=cp.getAngleFromRotateStr(this.tr));var c=cp.movie.stage.NativeSlideVideoElement;if(c)c.parentElement.style.zIndex=cp.D[cp.D[this.element.id].dn].zIndex;else{c=this.element;cp.movie.stage.NativeSlideVideoElement=this.element}this.actualDrawingElement=cp.movie.stage.NativeSlideVideoElement;var d=this.actualParent;d.style.left=a.minX+"px";d.style.top=a.minY+"px";d.style.width=a.maxX-a.minX+"px";d.style.height=a.maxY-a.minY+"px";
var e=c.parentElement;e.style.left="0px";e.style.top="0px";e.style.width=cp.D.project.w+"px";e.style.height=cp.D.project.h+"px";c.rotateAngle=b;c.style.left=a.minX+"px";c.style.top=a.minY+"px";c.style.width=a.maxX-a.minX+"px";c.style.height=a.maxY-a.minY+"px";c.style.display="block";c.style.position="absolute";if(this.tr){cp.applyTransform(c,this.tr);cp.applyTransform(d,this.tr);c.tr=this.tr;d.tr=this.tr}if(this.sh&&!this.sh.i){a=this.sh.a-b;cp.applyShadow(c,this.sh.d*Math.cos(Math.PI*a/180)+"px "+
this.sh.d*Math.sin(Math.PI*a/180)+"px "+this.sh.b+"px "+cp.ConvertRGBToRGBA(this.sh.c,this.sh.o)+(this.sh.i?" inset":""))}if(this.re)c.parentElement.style.webkitBoxReflect="below "+this.re.d+"px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop("+(1-this.re.s/100)+", transparent), to(rgba(255, 255, 255, "+(1-this.re.p/100)+")))";if(this.transIn)c.parentElement.style.opacity=0;this.visible||cp.hide(this.parentDivName)}this.isDrawn=true}};cp.SlideVideo.prototype.addNativeVideoIfNeeded=
function(){if(this.isDrawn&&!this.nativeVideo){if(this.showInTOC){if(!(cp.device==cp.IDEVICE||cp.device==cp.ANDROID)){this.vdm.tocVideoChannel.cpVideo=null;if(this.vdm.tocVideoChannel0.cpSrc==this.src){this.vdm.verbose&&cp.log("TOCVideo "+this.id+" found existing @ tocV0");this.vdm.tocVideoChannel=this.vdm.tocVideoChannel0}else if(this.vdm.tocVideoChannel1.cpSrc==this.src){this.vdm.verbose&&cp.log("TOCVideo "+this.id+" found existing @ tocV1");this.vdm.tocVideoChannel=this.vdm.tocVideoChannel1}else this.vdm.tocVideoChannel=
this.vdm.tocVideoChannel0}this.nativeVideo=this.vdm.tocVideoChannel}else{if(!(cp.device==cp.IDEVICE||cp.device==cp.ANDROID)){this.vdm.slideVideoChannel0.cpVideo=null;if(this.vdm.slideVideoChannel0.cpSrc==this.src){this.vdm.verbose&&cp.log("SlideVideo "+this.id+" found existing @ SV0");this.vdm.slideVideoChannel=this.vdm.slideVideoChannel0}else if(this.vdm.slideVideoChannel1.cpSrc==this.src){this.vdm.verbose&&cp.log("SlideVideo "+this.id+" found existing @ SV1");this.vdm.slideVideoChannel=this.vdm.slideVideoChannel1}else this.vdm.slideVideoChannel=
this.vdm.slideVideoChannel0}this.nativeVideo=this.vdm.slideVideoChannel}this.nativeVideo.cpVideo=this;this.paused=this.nativeVideo.paused;var a=false;if(this.continueFromPrevSlide)this.nativeVideo.paused&&this.seekTo(cpInfoCurrentFrame);else if(this.nativeVideo.cpSrc==this.src)this.seekTo(this.from);else{if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID){try{this.nativeVideo.src="_cp_n_m_"}catch(b){}try{this.nativeVideo.load()}catch(c){}}this.nativeVideo.cpSrc=this.src;this.nativeVideo.src=this.src;
this.nativeVideo.load();this.seekTo(this.from);a=true}if(this.showInTOC){this.nativeVideo.CPtoc=true;if(a&&(cp.device==cp.IDEVICE&&cp.IOSMajor>=cp.IOS5||cp.device==cp.ANDROID)){this.nativeVideo.CPcanPlay=false;this.nativeVideo.style.position="fixed";this.nativeVideo.style.left="-99999px";this.nativeVideo.style.width="192px";this.nativeVideo.style.height="144px";this.nativeVideo.from=this.from;this.nativeVideo.to=this.to;cp.toc.rootObj.showVideo(false)}else cp.toc.rootObj.showVideo(true)}else{this.nativeVideo.CPtoc=
false;var d=this.bounds;this.nativeVideo.style.display="block";this.nativeVideo.style.width=d.maxX-d.minX+"px";this.nativeVideo.style.height=d.maxY-d.minY+"px";if(a&&(cp.device==cp.IDEVICE&&cp.IOSMajor>=cp.IOS5||cp.device==cp.ANDROID)){this.nativeVideo.CPcanPlay=false;this.nativeVideo.style.position="fixed";this.nativeVideo.style.left="-99999px";this.nativeVideo.from=this.from;this.nativeVideo.to=this.to}a=cp.movie.stage.NativeSlideVideoElement;if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID)if(this.nativeVideo.parentElement){cp.movie.stage.correctReWrapZOrder(a.parentElement,
this.element.parentElement);cp.movie.stage.correctParentZOrder(cp.movie.stage.VideoElement,this.actualParent)}else a.appendChild(this.nativeVideo);else a.appendChild(this.nativeVideo);this.actualParent.drawingBoard=a.parentElement;if(this.visible){a.style.display="block";a.style.visibility="visible"}}if(this.visible)if(this.autoPlay)this.play();else{if(this.nativeVideo)this.nativeVideo.controls=true}else this.visible||cp.hide(this.parentDivName);cp.redrawVideo(this.nativeVideo)}};cp.SlideVideo.prototype.updateFrame=
function(){this.paused&&(!cp.movie.paused&&this.autoPlay&&this.visible)&&this.play();if(!this.effectIsStarted){this.updateEffects(this.hasEffect);this.effectIsStarted=true}};cp.SlideVideo.prototype.seekTo=function(a){this.vdm.verbose&&cp.log("SlideVideo "+this.id+" seekTo("+a+")");if(this.loop&&this.loopFrames){if(this.from<=a){this.setCurrentTime((a-this.from)%this.loopFrames/cpInfoFPS+this.seek_From);this.ended=false;return true}}else{if(this.from<=a&&this.to>=a){this.setCurrentTime((a-this.from)/
cpInfoFPS+this.seek_From);this.ended=false;return true}if(this.to>=a){this.setCurrentTime(this.seek_From);this.ended=false}}return false};cp.SlideVideo.prototype.pause=function(){var a=this.nativeVideo&&!this.nativeVideo.paused&&!this.nativeVideo.ended;cp.SlideVideo.superClass.pause.call(this);if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID)if(a&&this.nativeVideo&&(this.nativeVideo.paused||this.nativeVideo.ended))cp.movie.stage.VideoPlaying=false};cp.SlideVideo.prototype.play=function(){var a=this.nativeVideo&&
!this.nativeVideo.paused&&!this.nativeVideo.ended;cp.SlideVideo.superClass.play.call(this);if((cp.device==cp.IDEVICE||cp.device==cp.ANDROID)&&!a&&this.nativeVideo&&!this.nativeVideo.paused&&!this.nativeVideo.ended)cp.movie.stage.VideoPlaying=true};cp.NativeVideo=function(a){makeItDummyNativeVideo=function(a){a.currentTime=0;a.duration=0;a.paused=true;a.ended=true;a.defaultPlaybackRate=0;a.playbackRate=1;a.played=false;a.seeking=false;a.seekable=false;a.fastSeek=false;a.src="";a.crossorigin=false;
a.preload=false;a.autoplay=false;a.mediagroup="";a.loop=false;a.muted=false;a.controls=false;a.style={};a.load=function(){};a.play=function(){};a.pause=function(){};a.addEventListener=function(){};a.removeEventListener=function(){}};var b=cp.newElem("video");if(typeof Video==="undefined"||!Video)(b.load==void 0||b.play==void 0||b.pause==void 0||b.addEventListener==void 0)&&makeItDummyNativeVideo(b);if(a)b.id=a;return b};cp.VideoManager=function(){cp.movie.vdm=this;this.viewVideo=this.verbose=this.loaded=
false;this.errorCallBackFn=function(a){if(-1==this.src.indexOf("_cp_n_m_")){if(cp.exceptionalLogs){cp.log("src = "+this.src+" error code = "+(this.error?this.error.code:"NULL")+" n/w state = "+this.networkState);cp.log(a)}if(this.cpVideo){a=cp.D[this.cpVideo.id];if(a.psv)a.pausedOnce=true}this.waitCount=0}};this.waitingFn=function(){++this.waitCount;cp.movie.vdm.verbose&&cp.log("wait "+this.waitCount+" "+this.cpSrc+" "+(this.cpVideo?this.cpVideo.id:""))};this.canPlayCallBackFn=function(){this.waitCount=
0;if(this.CPcanPlay==false){this.CPcanPlay=true;var a=this;setTimeout(function(){var b=cpInfoCurrentFrame;if(a.from<=b&&b<=a.to){a.style.position="static";a.style.left="0px";a.CPtoc&&cp.toc.rootObj.showVideo(true)}},100)}if(this.cpVideo&&this.cpVideo.displayForDurationOfVideo)cp.D[this.cpVideo.parentDivName].to=this.duration*cp.movie.fps;cp.movie.vdm.verbose&&cp.log("cnPly "+this.cpSrc+" "+(this.cpVideo?this.cpVideo.id:""))};this.onEndedCallBackFn=function(){this.waitCount=0;if(this.cploop){cp.movie.vdm.verbose&&
cp.log(this.cpSrc+" loop");if(this.cpVideo){this.cpVideo.pause();this.cpVideo.seekTo(this.cpVideo.from);this.cpVideo.play()}}else{cp.movie.vdm.verbose&&cp.log(this.cpSrc+" ended");if(this.cpVideo)if(this.cpVideo.autoRewind){this.cpVideo.pause();this.cpVideo.seekTo(this.cpVideo.from)}else{this.cpVideo.ended=true;this.endedAt=(new Date).getTime();this.cpVideo.pause()}else this.endedAt=(new Date).getTime();if(cp.movie.paused)cp.ReasonForPause.EVENT_VIDEO_PAUSE==cp.movie.reasonForPause&&cp.movie.play();
else if(this.cpVideo)this.cpVideo.actualParent.pausedOnce=true;this.cpVideo&&this.cpVideo.displayForDurationOfVideo&&this.cpVideo.reset()}};this.PlayPauseCallBackFn=function(){if(this.paused)this.pausedAt=(new Date).getTime();if(this.cpVideo)this.cpVideo.paused=this.paused};if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID){this.slideVideoChannel=new cp.NativeVideo;this.slideVideoChannel.cpSrc="";this.slideVideoChannel.cpVideo=null;this.slideVideoChannel.ended=false;this.slideVideoChannel.addEventListener("error",
this.errorCallBackFn,false);if(cp.IOSMajor>=cp.IOS5||cp.device==cp.ANDROID){this.slideVideoChannel.addEventListener("waiting",this.waitingFn,false);this.slideVideoChannel.addEventListener("canplay",this.canPlayCallBackFn,false)}this.slideVideoChannel.addEventListener("play",this.PlayPauseCallBackFn,false);this.slideVideoChannel.addEventListener("pause",this.PlayPauseCallBackFn,false);this.slideVideoChannel.waitCount=0}else{this.slideVideoChannel0=new cp.NativeVideo;this.slideVideoChannel0.cpSrc="";
this.slideVideoChannel0.cpVideo=null;this.slideVideoChannel0.ended=false;this.slideVideoChannel0.addEventListener("error",this.errorCallBackFn,false);this.slideVideoChannel0.addEventListener("waiting",this.waitingFn,false);this.slideVideoChannel0.addEventListener("canplay",this.canPlayCallBackFn,false);this.slideVideoChannel0.addEventListener("play",this.PlayPauseCallBackFn,false);this.slideVideoChannel0.addEventListener("pause",this.PlayPauseCallBackFn,false);this.slideVideoChannel0.waitCount=0;
this.slideVideoChannel1=new cp.NativeVideo;this.slideVideoChannel1.cpSrc="";this.slideVideoChannel1.cpVideo=null;this.slideVideoChannel1.ended=false;this.slideVideoChannel1.addEventListener("error",this.errorCallBackFn,false);this.slideVideoChannel1.addEventListener("waiting",this.waitingFn,false);this.slideVideoChannel1.addEventListener("canplay",this.canPlayCallBackFn,false);this.slideVideoChannel1.addEventListener("play",this.PlayPauseCallBackFn,false);this.slideVideoChannel1.addEventListener("pause",
this.PlayPauseCallBackFn,false);this.slideVideoChannel1.waitCount=0;this.slideVideoChannel=this.slideVideoChannel0}if(cp.loadedModules.toc)if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID){this.tocVideoChannel=document.getElementById("tocVideo");if(!this.tocVideoChannel)this.tocVideoChannel=new cp.NativeVideo("tocVideo");this.tocVideoChannel.cpSrc="";this.tocVideoChannel.cpVideo=null;this.tocVideoChannel.ended=false;this.tocVideoChannel.addEventListener("error",this.errorCallBackFn,false);if(cp.IOSMajor>=
cp.IOS5||cp.device==cp.ANDROID){this.tocVideoChannel.addEventListener("waiting",this.waitingFn,false);this.tocVideoChannel.addEventListener("canplay",this.canPlayCallBackFn,false)}this.tocVideoChannel.addEventListener("play",this.PlayPauseCallBackFn,false);this.tocVideoChannel.addEventListener("pause",this.PlayPauseCallBackFn,false);this.tocVideoChannel.waitCount=0}else{this.tocVideoChannel0=document.getElementById("tocVideo");if(!this.tocVideoChannel0)this.tocVideoChannel0=new cp.NativeVideo("tocVideo");
this.tocVideoChannel0.cpSrc="";this.tocVideoChannel0.cpVideo=null;this.tocVideoChannel0.ended=false;this.tocVideoChannel0.addEventListener("error",this.errorCallBackFn,false);this.tocVideoChannel0.addEventListener("waiting",this.waitingFn,false);this.tocVideoChannel0.addEventListener("canplay",this.canPlayCallBackFn,false);this.tocVideoChannel0.addEventListener("play",this.PlayPauseCallBackFn,false);this.tocVideoChannel0.addEventListener("pause",this.PlayPauseCallBackFn,false);this.tocVideoChannel0.waitCount=
0;this.tocVideoChannel1=new cp.NativeVideo("tocVideo");this.tocVideoChannel1.cpSrc="";this.tocVideoChannel1.cpVideo=null;this.tocVideoChannel1.ended=false;this.tocVideoChannel1.addEventListener("error",this.errorCallBackFn,false);this.tocVideoChannel1.addEventListener("waiting",this.waitingFn,false);this.tocVideoChannel1.addEventListener("canplay",this.canPlayCallBackFn,false);this.tocVideoChannel1.addEventListener("play",this.PlayPauseCallBackFn,false);this.tocVideoChannel1.addEventListener("pause",
this.PlayPauseCallBackFn,false);this.tocVideoChannel1.waitCount=0;this.tocVideoChannel=this.tocVideoChannel0}this.MAX_VIDEO_CHANNELS=cp.device==cp.IDEVICE||cp.device==cp.ANDROID?2:10;this.videoChannels=[];for(var a=0;a<this.MAX_VIDEO_CHANNELS;++a){var b=new cp.NativeVideo;b.cpSrc="";b.cpVideo=null;b.ended=false;b.addEventListener("ended",this.onEndedCallBackFn,false);b.addEventListener("error",this.errorCallBackFn,false);if(cp.device==cp.DESKTOP||cp.device==cp.IDEVICE&&cp.IOSMajor>=cp.IOS5||cp.device==
cp.ANDROID){b.addEventListener("waiting",this.waitingFn,false);b.addEventListener("canplay",this.canPlayCallBackFn,false)}b.addEventListener("play",this.PlayPauseCallBackFn,false);b.addEventListener("pause",this.PlayPauseCallBackFn,false);b.waitCount=0;this.videoChannels[a]=b}};cp.VideoManager.prototype={pendingVideos:function(){var a=0,b=this.slideVideoChannel;b.waitCount>0&&(!b.endedAt&&!b.paused)&&++a;(b=this.tocVideoChannel)&&(b.waitCount>0&&!b.endedAt&&!b.paused)&&++a;for(b=0;b<this.MAX_VIDEO_CHANNELS;++b){var c=
this.videoChannels[b];c.waitCount>0&&(!c.endedAt&&!c.paused)&&++a}if(a>0){if(this.numPending!=a){this.numPending=a;cp.verbose&&cp.log(a+" videos pending")}}else{this.numPending&&cp.verbose&&cp.log("no videos pending");this.numPending=0}return a},resetAllWaitingVideos:function(){for(var a=0;a<this.MAX_VIDEO_CHANNELS;++a)this.videoChannels[a].waitCount=0},mute:function(a){var a=a==true||a>0?true:false,b;for(b in this.videoChannels)this.videoChannels[b].muted=a;this.slideVideoChannel.muted=a;if(this.tocVideoChannel)this.tocVideoChannel.muted=
a;this.muted=a},setVolume:function(a){a<0&&(a=0);a>1&&(a=1);this.volume=a;for(var b in this.videoChannels)this.videoChannels[b].volume=a;this.slideVideoChannel.volume=a;if(this.tocVideoChannel)this.tocVideoChannel.volume=a},LRUVideoIndex:function(){for(var a=(new Date).getTime(),b=-1,c=cpInfoCurrentFrame,d=0;d<this.MAX_VIDEO_CHANNELS;++d){var e=this.videoChannels[d];if(e.ended||e.paused)if(e.endedAt){if(a>e.endedAt){a=e.endedAt;b=d}}else if(e.pausedAt){if(a>e.pausedAt){a=e.pausedAt;b=d}}else b==-1&&
c>e.cpTo&&(b=d)}return b},allocVideoChannel:function(a){this.verbose&&cp.log("allocVideoChannel "+a.id+" "+a.src);if(cp.IDEVICE==cp.device||cp.device==cp.ANDROID){this._LRUVideoIndex=this._LRUVideoIndex==void 0?0:1-this._LRUVideoIndex;this.verbose&&cp.log("picking video @ index "+this._LRUVideoIndex);var b=this.videoChannels[this._LRUVideoIndex];if(b.cpVideo!=null)b.cpVideo.nativeVideo=null;a.nativeVideo=b;b.cpVideo=a;b.cploop=a.cploop;b.ended=false;delete b.endedAt;delete b.pausedAt;b.waitCount=
0;b.cpSrc=a.src;b.src=a.src;b.load()}else{for(var c=0;c<this.MAX_VIDEO_CHANNELS;++c){b=this.videoChannels[c];if(b.cpSrc==a.src&&(b.ended||b.paused)){if(b.cpVideo!=null){b.cpVideo.nativeVideo=null;b.cpVideo=null}a.nativeVideo=b;b.cpVideo=a;b.loop=a.loop;b.ended=false;delete b.endedAt;delete b.pausedAt;b.cpTo=a.to;a.isSeekPending()||a.seekTo(a.from);a.finishPendingSeek();this.verbose&&cp.log("allocVideoChannel found existing @ "+c);return true}}for(c=0;c<this.MAX_VIDEO_CHANNELS;++c){b=this.videoChannels[c];
if(b.cpSrc==""){b.waitCount=0;b.cpSrc=a.src;b.src=a.src;a.nativeVideo=b;b.cpVideo=a;b.loop=a.loop;b.ended=false;delete b.endedAt;delete b.pausedAt;b.cpTo=a.to;a.finishPendingSeek();b.load();this.verbose&&cp.log("allocVideoChannel found empty slot @ "+c);return true}}c=this.LRUVideoIndex();if(-1!=c){b=this.videoChannels[c];if(b.cpVideo!=null){b.cpVideo.nativeVideo=null;b.cpVideo=null}a.nativeVideo=b;b.cpVideo=a;b.loop=a.loop;b.ended=false;delete b.endedAt;delete b.pausedAt;b.cpTo=a.to;if(b.cpSrc!=
a.src){b.waitCount=0;b.cpSrc=a.src;b.src=a.src}else a.isSeekPending()||a.seekTo(a.from);a.finishPendingSeek();b.load();this.verbose&&cp.log("allocVideoChannel re-used LRU slot @ "+c);return true}return false}},preallocVideoChannel:function(a){this.verbose&&cp.log("preallocVideoChannel "+a);for(var b=0;b<this.MAX_VIDEO_CHANNELS;++b){var c=this.videoChannels[b];if(c.cpSrc==a){this.verbose&&cp.log("preallocVideoChannel found existing @ "+b);return true}}for(b=0;b<this.MAX_VIDEO_CHANNELS;++b){c=this.videoChannels[b];
if(c.cpSrc==""){c.waitCount=0;c.cpSrc=a;c.src=a;c.ended=false;delete c.endedAt;delete c.pausedAt;delete c.cpTo;c.load();this.verbose&&cp.log("preallocVideoChannel found empty slot @ "+b);return true}}return false},deviceSpecificInit:function(){function a(a){if(!a.cpSrc)try{a.src="_cp_n_m_"}catch(b){}try{a.load()}catch(e){}}if(cp.IDEVICE==cp.device||cp.device==cp.ANDROID){for(var b=0;b<this.MAX_VIDEO_CHANNELS;++b)a(this.videoChannels[b]);a(this.slideVideoChannel);this.tocVideoChannel&&a(this.tocVideoChannel)}},
load:function(){this.loaded=true},preload2:function(a){if(this.loaded&&1==cp.movie.speed){this.verbose&&cp.log("video manager preload "+a);a=cp.D[a];if(a.videos)for(var b=true,c=true,d=true,e=0;e<a.videos.length;++e){var f=cp.D[a.videos[e]];if(f.type==cp.kCPFullMotion||f.type==cp.kCPOTVideoResource||f.type==cp.kCPOTFLVItem){if(b){f=cp.D[f.mdi];b=this.preallocVideoChannel(f.mp4)}}else if(f.type==cp.kCPOTVideo){f=cp.D[f.mdi];if(f.sit){if(c)if(this.tocVideoChannel0.cpSrc==f.mp4||this.tocVideoChannel1.cpSrc==
f.mp4)this.verbose&&cp.log("vdm preload found existing "+f.mp4);else if(this.tocVideoChannel0.cpVideo)if(this.tocVideoChannel1.cpVideo)c=false;else{this.tocVideoChannel1.cpSrc=f.mp4;this.tocVideoChannel1.src=f.mp4;this.tocVideoChannel1.load();this.verbose&&cp.log("vdm preloaded tocV1 with "+f.mp4)}else{this.tocVideoChannel0.cpSrc=f.mp4;this.tocVideoChannel0.src=f.mp4;this.tocVideoChannel0.load();this.verbose&&cp.log("vdm preloaded tocV0 with "+f.mp4)}}else if(d)if(this.slideVideoChannel0.cpSrc==f.mp4||
this.slideVideoChannel1.cpSrc==f.mp4)this.verbose&&cp.log("vdm preload found existing "+f.mp4);else if(this.slideVideoChannel0.cpVideo)if(this.slideVideoChannel1.cpVideo)d=false;else{this.slideVideoChannel1.cpSrc=f.mp4;this.slideVideoChannel1.src=f.mp4;this.slideVideoChannel1.load();this.verbose&&cp.log("vdm preloaded SV1 with "+f.mp4)}else{this.slideVideoChannel0.cpSrc=f.mp4;this.slideVideoChannel0.src=f.mp4;this.slideVideoChannel0.load();this.verbose&&cp.log("vdm preloaded SV0 with "+f.mp4)}}}}},
preload:function(a){if(!(cp.device==cp.IDEVICE||cp.device==cp.ANDROID))return this.preload2(a)},seekTo:function(a,b){var c,d,e;if(this.slideVideoChannel)c=this.slideVideoChannel.cpVideo;if(this.tocVideoChannel)d=this.tocVideoChannel.cpVideo;if(this.demoVideo)e=this.demoVideo.cpVideo;if(b){c&&c.pause();d&&d.pause();e&&e.pause()}c&&c.seekTo(a);d&&d.seekTo(a);e&&e.seekTo(a)},pause:function(a){this.reasonForPause=a;if(a==cp.ReasonForPause.PLAYBAR_ACTION||a==cp.ReasonForPause.CPCMNDPAUSE||a==cp.ReasonForPause.MOVIE_REWIND_STOP||
a==cp.ReasonForPause.EVENT_VIDEO_PAUSE||a==cp.ReasonForPause.PPTX_PAUSE_FOR_ONCLICK_ANIMATION||a==cp.ReasonForPause.INTERACTIVE_ITEM||a==cp.ReasonForPause.CPCMNDGOTOFRAME){this.slideVideoChannel&&this.slideVideoChannel.cpVideo&&this.slideVideoChannel.cpVideo.pause();this.tocVideoChannel&&this.tocVideoChannel.cpVideo&&this.tocVideoChannel.cpVideo.pause();this.demoVideo&&this.demoVideo.cpVideo&&this.demoVideo.cpVideo.pause()}},pace:function(){if((cp.device==cp.IDEVICE||cp.device==cp.ANDROID)&&!cp.movie.stage.VideoPlaying)return null;
var a=this.slideVideoChannel;if(a){var b=a.cpVideo;if(b&&!a.ended&&!a.paused&&!b.loop&&a.currentTime>0)return b.from+(a.currentTime-b.seek_From)*cpInfoFPS}if(a=this.tocVideoChannel)if((b=a.cpVideo)&&!a.ended&&!a.paused&&!b.loop&&a.currentTime>0)return b.from+(a.currentTime-b.seek_From)*cpInfoFPS;if(a=this.demoVideo)if((b=a.cpVideo)&&!a.ended&&!a.paused&&!b.loop&&a.currentTime>0)return b.from+a.currentTime*cpInfoFPS;return null},updateVideoViews:function(){if(this.viewVideo&&this.videoViews)for(var a in this.videoViews)this.videoViews[a].update()}};
cp.ReasonForPause={};cp.ReasonForPause.PLAYBAR_ACTION=0;cp.ReasonForPause.INTERACTIVE_ITEM=1;cp.ReasonForPause.MOVIE_ENDED=2;cp.ReasonForPause.VIDEO_SYNC=3;cp.ReasonForPause.FEEDBACK_ITEM=4;cp.ReasonForPause.CANNOT_MOVE_AHEAD=5;cp.ReasonForPause.WAIT_FOR_RESOURCES=6;cp.ReasonForPause.MOVIE_REWIND_STOP=7;cp.ReasonForPause.CPCMNDPAUSE=8;cp.ReasonForPause.SHOW_VALUE_AT_FRAME=9;cp.ReasonForPause.DONT_CARE_DEPRECATED_CODE=10;cp.ReasonForPause.EVENT_VIDEO_PAUSE=11;cp.ReasonForPause.ONLY_ONE_MEDIUM_CAN_PLAY=
12;cp.ReasonForPause.PPTX_PAUSE_FOR_ONCLICK_ANIMATION=13;cp.ReasonForPause.CPCMNDGOTOFRAME=14;cp.ReasonForPlay={};cp.ReasonForPlay.PLAYBAR_ACTION=0;cp.ReasonForPlay.INTERNAL=1;cp.Movie=function(a){this.virgin=true;this.element=a;this.symbols={};this.main=null;this.cc=document.getElementById("cc");this.cpInfoLastVisitedSlideStartFrame=0;this.fps=cp.D[a.id].fps;this.hidePlaybarInQuiz=cp.D.quizzingData.hidePlaybarInQuiz;this.offset=(cp.offsetInnerWidth-cp.D[a.id].w+(cp.loadedModules.toc&&!cp.D.tocProperties.overlay?
cp.D.tocProperties.position==1?cp.D.tocProperties.width:-cp.D.tocProperties.width:0))/2;this.paused=true;this._parseElements();this.questions=[];this.questionObjs=[];this.element.style.backgroundColor=cp.D[this.element.id].prjBgColor;this.currAudioType="bg";this.currAudioStopFrame=this.currAudioStartFrame=-1;this.counter=0;this.speed=1;this.playKeyTap=cp.D[a.id].pkt;this.m_hasIsTrackedBeenSet=false;this.MIN_WAIT_TIME_TO_PAUSE_MOVIE=this.waitedForResources=0;this.MIN_WAIT_TIME_TO_BLOCK_UI=2E3;this.MAX_WAIT_TIME=
2E4;this.mRequestAnimationFrameFunc=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null};cp.Movie.prototype={updateMovie:function(){var a=cp.D[this.main.id].questions;if(a){this.questions=a.split(",");this.questionObjs=[]}this.stage.updateTimeline()},handleProjectOptions:function(){pc()},preloadProjectAssets:function(){var a=cp.model.projectImages;a&&a.length!=0&&cp.movie.im.loadImages(-1,
a,true,true)},rewind:function(){this.stage.handleRewindForFramesets();this.stage.RemoveFeedbacks(cp.FeedbackCloseReason.SLIDE_CHANGE);cp.movie.stage.itemsNotLoaded=[];this.jumpToFrame(1);this.play()},_parseElements:function(){for(var a=this.element.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE){var b=(a.className+"").split(" ");if(b.indexOf("cp-timeline")!=-1){var c=b.indexOf("cp-main")!=-1;b.indexOf("cp-symbol")!=-1&&(this.symbols[a.id]=a);if(c)this.main=a}}if(this.main!=null)this.stage=
cp.parseTimeline(this.main)},resetFPS:function(){if(cpInfoFPS!=0){this.POLL_INTERVAL=1E3/cpInfoFPS;if(!this.useRequestAnimationFrame||!this.mRequestAnimationFrameFunc){if(this.interval){clearInterval(this.interval);this.interval=0}var a=this;this.interval=setInterval(function(){a._onEnterFrame()},this.POLL_INTERVAL)}else{if(this.interval){clearInterval(this.interval);this.interval=0}this.mRequestAnimationFrameFunc.call(window,this.animationLoop)}}},resetMovieElapsedTime:function(a){this.startMovieTime=
(new Date).getTime()-cpInfoCurrentFrame*1E3/(cp.movie.fps*cp.movie.speed);if(arguments.length>0&&this.useRequestAnimationFrame!=a){this.useRequestAnimationFrame=a;this.resetFPS()}},animationLoop:function(){cp.movie.useRequestAnimationFrame&&cp.movie.mRequestAnimationFrameFunc.call(window,cp.movie.animationLoop);cp.movie._onEnterFrame()},startTimer:function(){if(!this.interval){this.stage.start();this.element.style.display="block";this.resetFPS()}},stop:function(){this.stage.reset();this.element.style.display=
"none";var a=document.getElementById("playbar");a.pause!=void 0&&a.pause()},play:function(a){if(!cp.isBlockedForLMS()){cp.verbose&&cp.log("movie.play deleting pendingPlay");delete this.pendingPlay;this.resetMovieElapsedTime();if(this.virgin){cp.verbose&&cp.log("movie virgin play");this.virgin=false;a=cp.getStartFrameOfMovie();1<a&&I(a);this.am.unlockWebAudio();(cp.IDEVICE==cp.device||cp.device==cp.ANDROID)&&cp.InitMedia();cp.beginMovie();return true}if(!this.paused)return false;if(this.waitingForResources()){cp.verbose&&
cp.log("set pendingPlay = true. movie cannot play since resources not available");this.pendingPlay=true;return false}cp.verbose&&cp.log("movie play");this.am.ssp=0;var b=document.getElementById("playbar");b&&b.play!=void 0&&b.play();if(!this.tocPlaybarHandlerSet){this.tocPlaybarHandlerSet=true;b&&b.animator&&b.animator.startTimer();var c=this.stage.getSlideDiv();if(c)if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID){if(b&&b.animator||cp.loadedModules.toc&&cp.D.tocProperties.overlay){cp.mainContainer.ontouchstart=
cp.handleMouseOver;cp.mainContainer.ontouchend=cp.handleMouseOut;c.touchstartX=null;c.isMoving=false;if(cp.loadedModules.toc&&cp.D.tocProperties.overlay){c.showTOC=true;c.swipeDir=cp.D.tocProperties.position}}}else if(b&&b.animator){cp.mainContainer.onmouseover=cp.handleMouseOver;cp.mainContainer.onmouseout=cp.handleMouseOut}}this.now=new Date;this.elapsedFramesResidue=0;if(this.startTime==void 0){this.startTime=this.now;cp.em.fireEvent("CPMovieStart")}else cp.em.fireEvent("CPMovieResume",a);this.paused=
false;ha();return true}},pause:function(a){if(this.paused&&a!=cp.ReasonForPause.WAIT_FOR_RESOURCES&&(this.waitingForResources()||this.reasonForPause==cp.ReasonForPause.WAIT_FOR_RESOURCES)){cp.verbose&&cp.log("set pendingPause = true. movie cannot pause since resources not available");this.pendingPause=true;this.pendingReasonForPause=a}else if(this.paused){this.am&&this.am.reasonForPause!=a&&this.am.pause(a);this.vdm&&this.vdm.reasonForPause!=a&&this.vdm.pause(a)}else{cp.verbose&&cp.log("movie pause "+
a);this.reasonForPause=a;cp.verbose&&cp.log("movie.pause deleting pendingPlay");delete this.pendingPlay;if(a==cp.ReasonForPause.INTERACTIVE_ITEM)this.stage.interactivePauseFrame=cpInfoCurrentFrame;var b=document.getElementById("playbar");b&&b.pause!=void 0&&a!=cp.ReasonForPause.WAIT_FOR_RESOURCES&&b.pause();a==cp.ReasonForPause.MOVIE_ENDED&&(b&&b.animator)&&b.animator.showPlaybar(true);this.paused=true;this.am&&this.am.pause(a);this.vdm&&this.vdm.pause(a);cp.em.fireEvent("CPMoviePause",a)}},blockUI:function(){if(!this.blockedUI){this.blockedUI=
true;cp("blockUserInteraction").style.display="block";cp("blockUserInteraction").style.width="100%";cp("blockUserInteraction").style.height="100%";cp("blockUserInteraction").style["z-index"]=1E4;this.preloadRot=0}},unblockUI:function(){if(this.blockedUI){this.blockedUI=false;cp("blockUserInteraction").style.display="none"}},jumpToFrame:function(a){if(a=="cpInfoLastVisitedSlide")a=this.cpInfoLastVisitedSlideStartFrame;var b=cp.movie.stage.getSlideIndexForFrame(a);if(this.waitingForResources()){if(b!=
cpInfoCurrentSlideIndex){this.am.resetAllWaitingAudios();this.vdm.resetAllWaitingVideos();cp.verbose&&cp.log("movie jumping to another slide. resetting pending audio/video")}else cp.verbose&&cp.log("movie cannot jumpToFrame since resources not available");this.pendingJump=a;return false}if(!this.stage.canUpdateToFrame(a,b)){cp.verbose&&cp.log("movie cannotUpdateToFrame "+a);return false}if(this.pm.isLoading()){cp.verbose&&cp.log("movie cannot jumpToFrame since prefetchManager is loading");this.pendingJump=
a;return false}this._jumpFrame=a;I(a);return true},executeAction:function(a){cp.verbose&&cp.log("execute action str ["+a+"]");if(a&&a!="")try{eval(a)}catch(b){cp.log(b)}},frameBasedExecuteAction:function(a){if(this.executedActionOnFrame!=this.stage.updatingFrame){this.executedActionOnFrame=this.stage.updatingFrame;this.executeAction(a)}},mousePath:function(a,b){if(!(b<a.afrom||b>a.ato)){var c=a.ato-a.afrom;if(c!=0){c=c-Math.floor(cpInfoFPS*0.5);c<=0&&(c=0);var d=this.motionPathArgs,e=d.b,f=e[2]-e[0],
g=e[3]-e[1],k=b-a.afrom,l=e[0],m=e[1],o=e[2],e=e[3],n=1;d.s==1&&(n=0.5);var p=o,r=e;if(c>0&&k<c){p=0==d.t||0==f||0==g;c=Math.pow(k/c,n);if(p){p=l+f*c;r=m+g*c}else{f=c*c;g=1-c;k=g*g;p=l*k+2*o*g*c+o*f;r=m*k+2*m*g*c+e*f}}a.children[0].element.left=p;a.children[0].element.style.left=p+"px";a.children[0].element.top=r;a.children[0].element.style.top=r+"px"}}},waitingForResources:function(){var a=this.im&&this.im.imagesNotLoaded(),b=this.stage&&!this.stage.hasItemsLoaded(),c=this.am&&this.am.pendingAudios()>
0,d=this.vdm&&this.vdm.pendingVideos()>0,e=this.ms&&this.ms.pendingItems()>0;if(a||b||c||d||e){cp.verbose&&cp.log("waiting for "+a+" "+b+" "+c+" "+d+" "+e+" yield = "+this.stage.yield);return true}return false},resetAllWaitingResources:function(){this.im&&this.im.reset();if(this.stage)this.stage.itemsNotLoaded=[];this.am&&this.am.resetAllWaitingAudios();this.vdm&&this.vdm.resetAllWaitingVideos();this.ms&&this.ms.reset();this.waitedForResources=0},_onEnterFrame:function(){if(!cp.isBlockedForLMS()){this.refreshMovie();
this.am.updateAudioViews();this.vdm.updateVideoViews();if(this.waitingForResources()){this.waitedForResources=this.waitedForResources+this.POLL_INTERVAL;if(this.waitedForResources>=this.MAX_WAIT_TIME){cp.verbose&&cp.log("waited too long...given up waiting! Paused = "+this.paused+" reason = "+this.reasonForPause+" pendingPlay = "+this.pendingPlay);this.resetAllWaitingResources();this.unblockUI();if(!this.paused&&this.pendingPause){this.pause(this.pendingReasonForPause);delete this.pendingPause;delete this.pendingReasonForPause}else(this.paused&&
this.reasonForPause==cp.ReasonForPause.WAIT_FOR_RESOURCES||this.pendingPlay)&&this.play()}else if(this.waitedForResources>=this.MIN_WAIT_TIME_TO_BLOCK_UI){this.pause(cp.ReasonForPause.WAIT_FOR_RESOURCES);this.blockUI()}else this.waitedForResources>=this.MIN_WAIT_TIME_TO_PAUSE_MOVIE&&this.pause(cp.ReasonForPause.WAIT_FOR_RESOURCES)}else{this.waitedForResources>0&&cp.verbose&&cp.log("finished waiting! Paused = "+this.paused+" reason = "+this.reasonForPause+" pendingPlay = "+this.pendingPlay);this.waitedForResources=
0;this.unblockUI();if(!this.paused&&this.pendingPause){this.pause(this.pendingReasonForPause);delete this.pendingPause;delete this.pendingReasonForPause}else if(this.paused&&this.reasonForPause==cp.ReasonForPause.WAIT_FOR_RESOURCES||this.pendingPlay)this.play();else{var a=this.pendingJump;if(a){cp.verbose&&cp.log("jumping to pending jump frame "+a);delete this.pendingJump;this.jumpToFrame(a)}else if(this.paused){if(cpInfoCurrentFrame==this._jumpFrame){if(this.stage.fallsOutsideCurrentSlide(cpInfoCurrentFrame)){var b=
this.stage.getSlideIndexForFrame(cpInfoCurrentFrame);if(b!=-1)if(cp.multiPassSetupSlide)if(this.stage.yield){if(1==this.stage.yield){this.stage.onEndOfSlide(cp.Timeline.ReasonForUpdate.JUMP);this.stage.selectivelyRemoveHTMLObjects(this.stage.getSlideDiv());this.stage.yield=2;return}if(2==this.stage.yield){this.stage.setupSlideBGDivAndCanvas(b);this.stage.yield=3;return}delete this.stage.yield}else{this.stage.loadAssetsForSlideAtIndex(b);this.stage.yield=1;return}else if(this.stage.yield)delete this.stage.yield;
else{this.stage.loadAssetsForSlideAtIndex(b);this.stage.yield=1;return}}this._jumpFrame=-1;this.stage.updateFrame(cp.Timeline.ReasonForUpdate.JUMP)}this.stage.UpdateFeedbacks();this.stage.updateFrameCurrentOnPause()}else{this.elapsedMovieTime=((new Date).getTime()-this.startMovieTime)*cp.movie.speed;a=new Date;this.stage.UpdateFeedbacks();if(this.stage.fallsOutsideCurrentSlide(cpInfoCurrentFrame)){b=this.stage.getSlideIndexForFrame(cpInfoCurrentFrame);if(b!=-1)if(cp.multiPassSetupSlide)if(this.stage.yield){if(1==
this.stage.yield){if(cpInfoCurrentFrame==this._jumpFrame)this.stage.onEndOfSlide(cp.Timeline.ReasonForUpdate.JUMP);else this.stage.onEndOfSlide(cp.Timeline.ReasonForUpdate.PROGRESS);this.stage.selectivelyRemoveHTMLObjects(this.stage.getSlideDiv());this.stage.yield=2;return}if(2==this.stage.yield){this.stage.setupSlideBGDivAndCanvas(b);this.stage.yield=3;return}delete this.stage.yield}else{this.stage.loadAssetsForSlideAtIndex(b);this.stage.yield=1;return}else if(this.stage.yield)delete this.stage.yield;
else{this.stage.loadAssetsForSlideAtIndex(b);this.stage.yield=1;return}}if(cpInfoCurrentFrame==this._jumpFrame){this._jumpFrame=-1;this.stage.updateFrame(cp.Timeline.ReasonForUpdate.JUMP)}else this.stage.updateFrame(cp.Timeline.ReasonForUpdate.PROGRESS);if(!this.paused){var c=new Date,b=this.now;this.now=c;if(cp.disablePaceMaker)this.framesToSkip=1;else{if(this.elapsedFramesResidue==void 0)this.elapsedFramesResidue=0;var d=0;if(1==this.speed&&this.am.pace)d=this.am.pace-cpInfoCurrentFrame;else if(cp.device==
cp.IDEVICE&&!cp.movie.PPTXSlide)d=this.speed;else{a=c.getTime()-a.getTime();cp.movie.PPTXSlide&&(a=0);d=(this.now.getTime()-b.getTime()-a)*cpInfoFPS/1E3}this.framesToSkipForPlaybar=this.elapsedFramesResidue=this.elapsedFramesResidue+d;this.framesToSkip=Math.floor(this.framesToSkipForPlaybar);this.elapsedFramesResidue=this.elapsedFramesResidue-this.framesToSkip}cp.verbose&&cp.log("am.pace = "+this.am.pace+" elapsedFramesResidue = "+this.elapsedFramesResidue+" skipping = "+this.framesToSkip);this.stage.attemptToAdvanceCurrentFrameByOffset(this.framesToSkip)}}}}}},
refreshMovie:function(){var a=cp("cpdmtxtn");if(!a){var b=cp("cpDocument"),a=cp.newElem("div");a.id="cpdmtxtn";a.style.display="block";document.body.insertBefore(a,b);a.style.opacity=0;if(cp.device==cp.ANDROID){a.style.width="1px";a.style.height="1px";a.style.left="-1000px";a.style.top="-1000px";a.style.position="absolute"}a.setAttribute("aria-hidden","true")}a.innerHTML=(new Date).toString()},registerQuizVariableSetters:function(){if(cp.movie.playbackController){var a=cp.movie.playbackController.GetQuizController();
if(a){a.quizInScopeSetter=ec;a.quizScopeSlideSetter=ua}}},initLMS:function(){if(this.playbackController){this.playbackController.GetLoadingResumeDataBln();if(!this.m_hasIsTrackedBeenSet){this.playbackController.GetIsTrackedFlag()?this.playbackController.SetIsTracked(true):this.playbackController.SetIsTracked(false);this.m_hasIsTrackedBeenSet=true;this.playbackController.GetLoadingResumeDataBln()}typeof cp.LMSDriverHolder=="undefined"&&(!this.playbackController.LMSIsAICC()&&!this.playbackController.IsRunningInConnect())&&
cp.handleVariablesInURLParams();!this.playbackController.IsRunningInConnect()&&(typeof cp.LMSDriverHolder!="undefined"&&cp.LMSDriverHolder&&cp.LMSDriverHolder.GetStudentName)&&cp.vm.setVariableValue("cpQuizInfoStudentName",cp.LMSDriverHolder.GetStudentName(),false)}},resumeMovieSpecificValue:function(){if(this.playbackController){var a=this.playbackController.GetRestoredQuizSlide();a>=0&&I(a)}}};cp.playPause=function(a){var b;if(cp.movie.paused){if(a==true)b=cp.ReasonForPlay.PLAYBAR_ACTION;cp.movie.play(b)}else{if(a==
true)b=cp.ReasonForPause.PLAYBAR_ACTION;cp.movie.pause(b)}};cp.goToPreviousSlide=function(){cp.jumpToPreviousSlide()};cp.goToNextSlide=function(){cp.jumpToNextSlide()};cp.jumpToSlide=function(a){cpCmndGotoSlideByUIDAndResume=a};cp.rewind=function(){cpCmndRewindAndPlay=1};cp.showHideCC=function(){cpCmndCC=cpCmndCC?0:1};cp.showHideTOC=function(){var a=document.getElementById("toc");a!=void 0&&a.animator&&(a.animator.direction==0?a.animator.showTOC():a.animator.hideTOC())};cp.fastForward=function(){cpCmndFastForward=
1};cp.shouldMoveTo=function(a){return cp.movie.stage.canUpdateToFrame(a)};cp.getCpInfoOriginalFPS=function(){return cp.movie.fps};cp.getCpInfoSpeed=function(){return cp.movie.speed};cp.getCpElapsedMovieTime=function(){return cp.movie.elapsedMovieTime};cp.getCpIsPlaying=function(){return!cp.movie.paused};cp.showValue=function(a){cp.showHideElements();cp.movie.pause(cp.ReasonForPause.SHOW_VALUE_AT_FRAME);cp.movie.jumpToFrame(a)};cp.showHideFeedbackCaptionsClickHandler=function(a,b,c,d){c||(c=cp.D[a.id].topMostObjectInteractiveObject);
if(!c)return false;return(a=cp.D[c])&&void 0!=a.val?false:cp.clickFailureHandler(a,b,d)};cp.vTEB=function(a){var b=cp.D[a];if(void 0==b||b.handled)return false;var c=0,d=b.currentAttempt;void 0!=d&&(c=d);d=b.ma;c=c+1;b.currentAttempt=c;var e=cp.isTEBValueCorrect(a,b),f=b.osc,g=b.oca,k=b.ofc,l=b.ofa,m=false,o="",n="",p=false,o=null,r=cp.FeedbackType.SUCCESS;if(e){o=f;n=g;p=b.pfc==1;cp.SubmitInteractions(a,cp.QuestionStatusEnum.CORRECT,c)}else{r=cp.FeedbackType.FAILURE;o=k;n=l;cp.SubmitInteractions(a,
cp.QuestionStatusEnum.INCORRECT,c)}o.length>2&&(m=true);a=d!=-1&&c==d||e;f=d==-1||c<=d||e;if(!b.handled)b.handled=d!=-1&&c>=d||e;if(m){a||(n="");o=new cp.Feedback(o,n,p,r);!p&&a&&cp.movie.executeAction(n);f&&o.show()}else a&&cp.movie.executeAction(n);return e};cp.TEBValidator=function(a){(a=cp.D[a.id])&&cp.vTEB(a.vid)};cp.hyperlinkClick=function(a){if(a=cp.D[a.id]){a=a.oca;cp.movie.paused&&(a=a.replace("cpCmndResume = 1;",""));cp.movie.executeAction(a)}};cp.clickHandler=function(a){cp.clickSuccessHandler(cp.D[a.id])};
cp.ch=function(a){return cp.clickHandler(a)};cp.wch=function(a){return cp.HandleInteractiveWidget(a)};cp.SubmitInteractions=function(a,b,c,d,e){var f=cp.D[a],g=f.type,k=b==cp.QuestionStatusEnum.CORRECT||b==cp.QuestionStatusEnum.PARTIAL_CORRECT;if(f){var l=f.siq!=void 0&&f.siq;if(l){var m=cp.getQuestionObject(a);if(m){if(!cp.movie.playbackController)return;var o=cp.movie.playbackController.GetQuizController();if(!o)return;var n=m.isDisabled,p=false;!o.GetIsInReviewMode()&&!o.GetIsQuizCompleted()&&
m.setCurrentAttempt(c+1);c=d;if(c==void 0||e==void 0)if(!m.getIsInteractiveWidget()&&m.getInteractionType()=="fill-in"){e=document.getElementById(a+"_inputField");if(!e)return false;c=f.exp;e=e.value}else{c=["1"];e=k?"1":"0"}m.questionData.cal=c;m.setSelectedAnswers(e);b==cp.QuestionStatusEnum.CORRECT||b==cp.QuestionStatusEnum.PARTIAL_CORRECT?p=true:m.getCurrentAttempt()>=m.getNumberOfAttempts()&&(p=true);m.setShouldAddToTotal(f.sat!=void 0&&f.sat);if(!o.GetIsInReviewMode()&&!o.GetIsQuizCompleted())if(p){k?
m.setQuestionStatus(m.QuestionStatusEnum.CORRECT):m.setQuestionStatus(m.QuestionStatusEnum.INCORRECT);n||m.endQuestion(true)}else m.endQuestion(false)}}a={itemname:a,frameNumber:cpInfoCurrentFrame,objecttype:g,issuccess:k,slideNumber:cpInfoCurrentSlideIndex+1,includedInQuiz:l};if(m)a.questioneventdata=m.getQuestionEventData();cp.em.fireEvent("CPInteractiveItemSubmit",a)}};cp.hotspotQuestionSlideHandler=function(a){var b=cp.getScaledPosition(getPageX(a),getPageY(a)),c=b.X,b=b.Y,a=a.currentTarget,d=
cp.getQuestionObject(a.childNodes[0].id);d&&d.hotspotQuestionHandler(a,c,b)};cp.handleClickExternal=function(a){function b(a){return cp.kCPOTClickBoxItem==a.type||cp.kCPOTScorableButtonItem==a.type||cp.kCPOTAutoShape==a.type}function c(a,c,d){function e(){cp.stopClickTimer();g=g+1;f.currentAttempt=g;var c=f.ma,d=f.mdi,k=cp.D[d].visible,d=cp.showHideFeedbackCaptionsClickHandler(a,c!=-1&&g==c&&k,cp.D[d].dn,(c==-1||g<=c)&&k);if(b(f)&&!f.handled)f.handled=c!=-1&&g>=c&&k;return d}var f=c,g=d;cp.isClickTimerRunning()||
cp.startClickTimer(500,e)}function d(){m=true;if(null==n&&(k.ofc||k.ma!=-1)){p=o;n=k;s=q;u=r;v=currElementDivData}}if(cp.isClickTimerRunning())return false;for(var e=cp.getScaledPosition(getPageX(a),getPageY(a)),f=e.X-window.pageXOffset,g=e.Y-window.pageYOffset,k=null,l=a.currentTarget.childNodes,m=false,o="",n=null,p="",r=-1,q=0,u=-1,s=0,v=null,z=l.length-1;z>=0;--z){e=l[z];if(e.nodeName=="DIV"&&e.style.display=="block"){currElementDivData=cp.D[e.id];var t=currElementDivData.mdi;if(cp.D[t].visible&&
currElementDivData.chfn&&void 0==currElementDivData.val){t=currElementDivData.mdi;drawingItemDivData=cp.D[t];var q=0,r=-1,x=currElementDivData.currentAttempt;x!=void 0&&(q=x);r=currElementDivData.ma;k=currElementDivData;o=e.id;if(void 0==k.amc||k.amc||!(cp.device!=cp.IDEVICE||cp.device==cp.ANDROID))if(currElementDivData&&drawingItemDivData&&cp.kCPOTWidgetItem==currElementDivData.type&&drawingItemDivData.iiw)cp.HandleInteractiveWidget(a,t);else{var y=x=t=0,A=0;if(e.getBoundingClientRect==void 0){t=
parseFloat(e.style.left);x=parseFloat(e.style.top);y=parseFloat(e.style.left)+parseFloat(e.style.width);A=parseFloat(e.style.top)+parseFloat(e.style.height)}else{A=cp.getHitTestingRect(e);t=A.minX;x=A.minY;y=A.maxX;A=A.maxY}var D=0;if(e.rotateAngle)D=e.rotateAngle;var B=f,C=g,B=B-(t+y)/2,C=C-(x+A)/2,E=B*Math.cos(Math.PI*-D/180)-C*Math.sin(Math.PI*-D/180),D=B*Math.sin(Math.PI*-D/180)+C*Math.cos(Math.PI*-D/180),E=E+(t+y)/2,D=D+(x+A)/2,t=E>=t&&E<=y&&D>=x&&D<=A?true:false;if(t){if(currElementDivData.iqb||
currElementDivData.vid)return true;if(cp.kCPOTAutoShape==k.type&&currElementDivData.isCanvasClicked&&!currElementDivData.isCanvasClicked(a))d();else{if(currElementDivData.enabled){if(k.actionInProgress)return false;if(k.dclk||k.rclk){c(e,k,q);return false}l=k;if(!l||cp.kCPOTAutoShape!=l.type)l=true;else{var F=cp.movie.stage.currentSlide,f=a=false,G=0;if(F){G=F.from;if(F.st=="Question Slide"&&F.qs){(g=cp.D[F.qs])&&g.qtp=="Hotspot"&&(a=true);(F=cp.getQuestionObject(F.qs))&&F.shouldDisableOptions()&&
(f=true)}}l=!a||f?true:!l.rp||!l.rpa||l.from>G?false:true}if(!l)return false;l=currElementDivData.chfn;cp.SubmitInteractions(e.id,cp.QuestionStatusEnum.CORRECT,q);a=cp.movie.stage.currentSlide;l(e);if(a==cp.movie.stage.currentSlide&&b(k))k.handled=true;return true}m=false;break}}else currElementDivData.vid||d()}}}}if(m){if(n){k=n;o=p;q=s;r=u;currElementDivData=v}if(k&&k.actionInProgress)return false;if(k){q=q+1;k.currentAttempt=q;k.mdi&&(F=cp.D[k.mdi]);if(F)G=F.dn;cp.SubmitInteractions(G,cp.QuestionStatusEnum.INCORRECT,
q-1)}t=currElementDivData.mdi;e=cp.D[t].visible;a=r!=-1&&q==r&&e;f=(r==-1||q<=r)&&e;G="";k&&b(k)&&(G=o);cp.showHideFeedbackCaptionsClickHandler(l[0],a,G,f);if(k&&b(k)&&!k.handled)k.handled=r!=-1&&q>=r&&e}return false};cp.handleCCClick=function(a){var b=document.getElementById("div_Slide");if(cp.ccdv){document.getElementById("cc").style.display="none";b=document.elementFromPoint(a.clientX,a.clientY);document.getElementById("cc").style.display="block";if(a.initMouseEvent){var c=document.createEvent("MouseEvent");
c.initMouseEvent("click",true,true,window,0,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);b.dispatchEvent(c)}else if(document.createEventObject){c=document.createEventObject(window.event);c.button=1;b.fireEvent("onclick",c)}}};cp.handleClick=function(a){if(!cp.handleClickExternal(a)){var b=a.currentTarget.childNodes[0];if(b&&b.nodeName=="DIV"&&b.style.display=="block"){if(cp.getQuestionObjectName){b=cp.getQuestionObjectName(b.id);(b=cp.D[b])&&b.qtp=="Hotspot"&&
cp.hotspotQuestionSlideHandler(a)}if(cp.extObjInfo)for(a=0;a<cp.extObjInfo.length;++a)if(cp.IsValidObj(cp.extObjInfo[a].chcb)&&cp.extObjInfo[a].chcb())break}}};cp.showInfoDialog=function(){var a=false;if(!cp.movie.paused){cp.movie.pause(cp.ReasonForPause.PLAYBAR_ACTION);a=true}var b=cp.movie.im.m_projectImages["assets/playbar/PlaybarIcons/infobg.png"],c=cp.newElem("div");cp.project.appendChild(c);c.id="infoDialog";c.style.position="absolute";c.style.backgroundImage="url("+b.src+")";c.style.left=(cp.D.project.w-
b.nativeImage.width)/2+"px";c.style.top=(cp.D.project.h-b.nativeImage.height)/2+"px";c.style.width=b.nativeImage.width+"px";c.style.height=b.nativeImage.height+"px";b=cp.newElem("div");b.onclick=function(){cp.project.removeChild(c);a&&cp.movie.play()};b.style.cursor="pointer";b.style.backgroundColor="#ffffff";b.style.opacity=0;b.style.left="170px";b.style.top="5px";b.style.width="15px";b.style.height="15px";b.style.position="absolute";b.style.display="block";c.appendChild(b);var b=cp.newElem("div"),
d;d="<ul style='padding-left:15px;padding-right:15px;padding-top:20px;list-style-type: none;'>"+("<li style='overflow:hidden'>"+cpInfoAuthor+"</li>");d=d+("<li style='overflow:hidden'>"+cpInfoCompany+"</li>");d=d+("<li style='overflow:hidden;cursor:pointer;' onclick='cp.sendEmail(\""+cpInfoEmail+"\")'>"+cpInfoEmail+"</li>");var e="http://",e=cpInfoWebsite.indexOf("://")==-1?e+cpInfoWebsite:cpInfoWebsite;d=d+("<li style='overflow:hidden;cursor:pointer;' onclick='cp.openURL(\""+e+"\")'>"+cpInfoWebsite+
"</li>");d=d+("<li style='overflow:hidden'>"+cpInfoCopyright+"</li>");b.innerHTML=d+"</ul>";c.appendChild(b);b=cp.newElem("div");b.onclick=function(){cp.openURL("http://www.adobe.com/products/captivate")};b.style.cursor="pointer";b.style.backgroundColor="#ffffff";b.style.opacity=0;b.style.left="10px";b.style.bottom="10px";b.style.width="170px";b.style.height="25px";b.style.position="absolute";b.style.display="block";c.appendChild(b)};cp.toggleMute=function(){cp.movie.am.muted?cp.movie.am.mute(false):
cp.movie.am.mute(true);cp.em.fireEvent("CPMovieAudioMute",cp.movie.am.muted)};cp.playbarMoved=function(){cpCmndPlaybarMoved=1};cp.showHideElements=function(){cp("blockUserInteraction").style.display="none";cp.autoplayDiv.style.display="none";cp.autoplayDiv.style.visibility="hidden";if(cp.loadedModules.playbar)document.getElementById("playbar").style.display="block";var a=document.getElementById("firstSlideSnapshot");if(a)a.style.display="none"};cp.beginMovie=function(){cp.showHideElements();1==cpInfoCurrentFrame&&
cp.movie.am.play(1,true);cp.movie.play()};cp.InitMedia=function(){cp.movie.vdm.deviceSpecificInit();cp.movie.am.deviceSpecificInit()};cp.playMovie=function(){cp.movie.play()};cp.pauseMovie=function(){cp.movie.pause()};cp.mouse_click_draw=function(a,b){var c="#000000",d=3;if(void 0!=b.c){c=b.c;d=b.r}a.save();a.fillStyle=c;a.beginPath();a.arc(d,d,d,0,Math.PI*2,true);a.closePath();a.fill();a.restore();return true};cp.mcd=function(a,b,c,d,e){return cp.mouse_click_draw(a,b,c,d,e)};cp.frameset_mc_draw=
function(a,b,c,d,e,f,g){if(b=="")return true;var k=false;a.save();if(cp.D[e].shouldShowDisabledState)a.globalAlpha=0.5;var l=cp.movie.im.images[b];if(l)if(l.nativeImage.complete){cp.verbose&&cp.log("drawing completed img "+b);if(a.centreImage&&(f||g)){a.clearRect(-a.width,-a.height,2*a.width,2*a.height);a.drawImage(l.nativeImage,-l.nativeImage.width/2+a.tex,-l.nativeImage.height/2+a.tey,l.nativeImage.width,l.nativeImage.height)}else a.drawImage(l.nativeImage,0,0);k=true;if(c){cp.verbose&&cp.log("hiding1 "+
b);cp.hide(c)}else if(!d){cp.verbose&&cp.log("hiding2 "+b);cp.hide(e)}}else cp.exceptionalLogs&&console.log("**** drawing failed. img incomplete "+b);else b&&cp.exceptionalLogs&&console.log("***** drawing failed. img not found "+b);return k};cp.fd=function(a,b,c,d,e,f,g){return cp.frameset_mc_draw(a,b,c,d,e,f,g)};cp.setMovieLeftTopRightBottom=function(a,b,c,d){var e=cp.getProjectContainer();e.style.width=parseFloat(e.style.width)+a+c+"px";e.style.height=parseFloat(e.style.height)+b+d+"px";var f=cp.getMainContainer(),
g=(cp.getInnerWidth()-parseFloat(f.style.width))/2;f.style.left=(g>0?g:0)+"px";f=cp.getProject();cp.movie.topOffset=cp.movie.topOffset+(b+parseFloat(e.style.top));f.style.top=b+"px";f.style.left=parseFloat(f.style.left)+a+"px";cp.loadedModules.toc&&cp.tocInit(cp.D,a,b,c,d);cp.updateBorderPosition(cp.D);cp.adjustWindow()};cp.setCCPosition=function(a){cp.movie.cc.style["pointer-events"]="auto";cp.movie.cc.style.left=cp.project.style.left;cp.movie.cc.style.bottom=a+"px"};cp.ConvertRGBToRGBA=function(a,
b){return a.replace(")"," ,"+(b+"")+")").replace("rgb","rgba")};cp.ConvertColorToRGBA=function(a,b){return"rgba("+parseInt(a.substr(1,2),16)+" ,"+parseInt(a.substr(3,2),16)+" ,"+parseInt(a.substr(5,2),16)+" ,"+b+")"};cp.getAngleFromRotateStr=function(a){a=a.replace("rotate(","");return parseFloat(a.replace("deg)",""))};cp.applyTransform=function(a,b){a.style.transform=b;a.style.msTransform=b;a.style.MozTransform=b;a.style.WebkitTransform=b;a.style.OTransform=b};cp.applyShadow=function(a,b){a.style.mozBoxShadow=
b;a.style.webkitBoxShadow=b;a.style.boxShadow=b};cp.setFillStrokeStyle=function(a,b,c,d){var e=b.getContext("2d");if(a.gf){if(a.gf.t==0)switch(a.gf.di){case 0:b=e.createLinearGradient(0,b.height/2,b.width,b.height/2);break;case 1:b=e.createLinearGradient(b.width,b.height/2,0,b.height/2);break;case 2:b=e.createLinearGradient(0,0,b.width,b.height);break;case 3:b=e.createLinearGradient(b.width,b.height,0,0);break;case 5:b=e.createLinearGradient(b.width/2,b.height,b.width/2,0);break;case 6:b=e.createLinearGradient(0,
b.height,b.width,b.height);break;case 7:b=e.createLinearGradient(b.width,b.height,0,b.height);break;default:case 4:b=e.createLinearGradient(b.width/2,0,b.width/2,b.height)}else{var f=0;switch(a.gf.di){case 0:b=e.createRadialGradient(b.width/2,b.height/2,0,b.width,b.height/2,b.width/2);break;case 2:f=b.width<b.height?b.width:b.height;b=e.createRadialGradient(0,0,0,f,0,f);break;case 3:b=e.createRadialGradient(b.width/2,0,0,b.width/2,b.height,b.height);break;case 4:f=b.width<b.height?b.width:b.height;
b=e.createRadialGradient(b.width,0,0,b.width,f,f);break;case 5:b=e.createRadialGradient(b.width,b.height/2,0,0,b.height/2,b.width);break;case 6:f=b.width<b.height?b.width:b.height;b=e.createRadialGradient(b.width,b.height,0,b.width-f,b.height-f,f);break;case 7:b=e.createRadialGradient(b.width/2,b.height,0,b.width/2,0,b.height);break;case 8:f=b.width<b.height?b.width:b.height;b=e.createRadialGradient(0,b.height,0,f,b.height,f);break;case 9:b=e.createRadialGradient(0,b.height/2,0,b.width,b.height/2,
b.width);break;default:case 4:b=e.createRadialGradient(b.width/2,b.height/2,0,b.width,b.height,Math.sqrt(b.width*b.width+b.height*b.height))}}for(f=0;f<a.gf.cs.length;++f){var g=a.gf.cs[f],k=cp.getRGBA(g.c,g.o);b.addColorStop(g.p/100,k)}c?e.strokeStyle=b:e.fillStyle=b}else c?e.strokeStyle=a.bc:e.fillStyle=a.bc;if(!d)e.globalAlpha=a.alpha/100};cp.loadjscssfile=function(a,b,c){var d;if(b=="js"){d=document.createElement("script");d.setAttribute("type","text/javascript");d.setAttribute("src",a);d.onload=
c}else if(b=="css"){d=document.createElement("link");d.setAttribute("rel","stylesheet");d.setAttribute("type","text/css");d.setAttribute("href",a);d.onload=c;var e=document.styleSheets.length,f=setInterval(function(){if(document.styleSheets.length>e){clearInterval(f);c()}},50)}d!=void 0&&document.getElementsByTagName("head")[0].appendChild(d);return d};cp.CPPlayButtonHandle=function(a){var b;if(a.keyCode)b=a.keyCode;else if(a.which)b=a.which;b==32&&cp.movie.play()};cp.ccInit=function(a){if(cp.ccdv){var b=
cp.ccdv;b.style.width=a.w+"px";b.style.height=a.h+"px";var c=b.firstElementChild;c.style.backgroundColor=cp.ConvertColorToRGBA(a.c,a.o/100);c.style.fontFamily=a.f;c.style.fontSize=a.fs+"px";c.style.color=a.tc;cp.movie.ccText=c.firstElementChild;cp.movie.ccLines=a.lc;a=cp.getProject();b.style.left=a.style.left;b.style.bottom="0px"}};cp.handleVariablesInURLParams=function(){var a=window.location.toString();if(a.indexOf("?")!=-1)for(var a=a.split("?")[1].split("&"),b=0;b<a.length;++b){var c=a[b];if(c.indexOf("=")!=
-1){c=c.split("=");cp.vm.setVariableValue(c[0],unescape(c[1]),false)}}};cp.getInnerWidth=function(){cp.offsetInnerWidth=!window.innerWidth||window.innerWidth==0?640:window.innerWidth;return cp.offsetInnerWidth};cp.getProjectContainer=function(){if(!cp.projectContainer)cp.projectContainer=cp("project_container");return cp.projectContainer};cp.getMainContainer=function(){if(!cp.mainContainer)cp.mainContainer=cp("main_container");return cp.mainContainer};cp.getProject=function(){if(!cp.project)cp.project=
cp("project");return cp.project};cp.adjustWindow=function(a){if((a?a.type:a)=="resize"&&cp.device!=cp.DESKTOP)if((a=document.activeElement)&&(a.tagName.toLowerCase()=="input"&&a.type=="text"||a.tagName.toLowerCase()=="textarea")){if(cp.device!=cp.IDEVICE){var b=cp.getMainContainer();b.style.position="absolute";document.body.style.overflow="scroll";a=parseFloat(b.parentElement.parentElement.style.left);b=parseFloat(b.parentElement.parentElement.style.top);window.scrollTo(a,b)}return}if(!cp.SetScaleAndPosition()){cp.getInnerWidth();
var a=cp.getMainContainer(),b=cp.getProjectContainer(),c=cp.getProject(),d=(cp.offsetInnerWidth-parseFloat(a.style.width))/2;a.style.left=(d>0?d:0)+"px";cp.movie.offset=(d>0?d:0)+(cp.movie.m_scaleFactor?cp.movie.m_scaleFactor:1)*(parseFloat(c.style.left)+parseFloat(b.style.left))}cp("blockUserInteraction").style.width="100%";cp("blockUserInteraction").style.height="100%";window.scrollTo(0,0)};cp.getOffsetPosition=function(a,b){var c={};c.X=a-cp.movie.offset;c.Y=b-cp.movie.topOffset;return c};cp.getScaledPosition=
function(a,b){var c={};if(!cp.shouldScale)return cp.getOffsetPosition(a,b);var d=(b-cp.movie.newMainContainerT)/cp.movie.newMainContainerH,e=Math.round(cp.movie.oldMainContainerW*((a-cp.movie.newMainContainerL)/cp.movie.newMainContainerW)),d=Math.round(cp.movie.oldMainContainerH*d),f=cp.getProjectContainer(),g=cp.getProject();c.X=e-parseFloat(f.style.left)-parseFloat(g.style.left);c.Y=d-parseFloat(f.style.top)-parseFloat(g.style.top);return c};cp.SetScaleAndPosition=function(){var a=cp.getMainContainer(),
b=window;if(window.parent!=void 0)b=window.parent;var c=b.innerWidth,b=b.innerHeight;cp.movie.oldMainContainerW=parseFloat(a.style.width);cp.movie.oldMainContainerH=parseFloat(a.style.height);var d=cp.movie.oldMainContainerW==void 0||cp.movie.oldMainContainerW==0?1:c/cp.movie.oldMainContainerW,e=cp.movie.oldMainContainerH==void 0||cp.movie.oldMainContainerH==0?1:b/cp.movie.oldMainContainerH;cp.movie.m_scaleFactor=1;if(!cp.shouldScale)return false;cp.movie.m_scaleFactor=d<e?d:e;if(cp.verbose){cp.log(cp.D.project.shc);
cp.log(cp.movie.m_scaleFactor);cp.log(cp.shouldScale)}cp.movie.newMainContainerW=Math.round(cp.movie.m_scaleFactor*cp.movie.oldMainContainerW);cp.movie.newMainContainerH=Math.round(cp.movie.m_scaleFactor*cp.movie.oldMainContainerH);cp.movie.oldMainContainerL=parseFloat(a.style.left);cp.movie.oldMainContainerT=parseFloat(a.style.top);a.style.webkitTransformOrigin="left top";a.style.MozTransformOrigin="left top";a.style.msTransformOrigin="left top";cp.movie.newMainContainerL=Math.round((c-cp.movie.newMainContainerW)/
2>0?(c-cp.movie.newMainContainerW)/2:0);cp.movie.newMainContainerT=Math.round((b-cp.movie.newMainContainerH)/2>0?(b-cp.movie.newMainContainerH)/2:0);a.style.left=cp.movie.newMainContainerL+"px";a.style.top=cp.movie.newMainContainerT+"px";cp.getProjectContainer();cp.getProject();cp.movie.offset=cp.movie.newMainContainerL;cp.movie.topOffset=cp.movie.newMainContainerT;a.style.webkitTransform="scale("+cp.movie.m_scaleFactor+")";a.style.MozTransform="scale("+cp.movie.m_scaleFactor+")";a.style.msTransform=
"scale("+cp.movie.m_scaleFactor+")";document.body.style.overflow="hidden";a.style.position="fixed";return true};cp.trimStartingAndTrailingSpaces=function(a){var b="",b=a.replace(/^[\s|\t|\n]+/g,"");return b=b.replace(/[\s|\t|\n]+$/g,"")};cp.cpJoin=function(a,b){if(a&&!(b==""||b==void 0)&&!(a.length<=0)){for(var c=a[0],d=1;d<a.length;++d)c=c+(b+a[d]);return c}};cp.getLeftTopAfterTranslate=function(a){var b=new WebKitCSSMatrix(window.getComputedStyle(a).webkitTransform),c={};c.L=parseFloat(a.style.left)+
b.m41;c.T=parseFloat(a.style.top)+b.m42;return c};cp.createAlternativeAccessibleText=function(a,b,c){if(cp.SAFARI===cp.browser){c!==""&&a.setAttribute("role",c);a.setAttribute("aria-label",b)}else{if(cp.D.pref.acc===0||b==="")b=" ";c=cp.newElem("p");c.innerHTML=b;b=cp.newElem("div");b.id=a.id+"accStr";b.style.opacity=0;b.style.width="0px";b.style.height="0px";b.style.left="-1999px";b.style.position="fixed";b.appendChild(c);a.appendChild(b)}};cp.getRGBA=function(a,b){return"rgba("+parseInt(a.substring(1,
3),16)+" , "+parseInt(a.substring(3,5),16)+" , "+parseInt(a.substring(5,7),16)+" , "+b+" )"};cp.QuizLibraryInit=function(){cp.g_ShouldRandomize&&cp.NewQuizLibraryInit()};cp.NewQuizLibraryInit=function(){if(cp.PlaybackController){cp.movie.playbackController=new cp.PlaybackController;cp.movie.playbackController.InitializeReportingVariables();cp.movie.playbackController.InitializePlaybackController()}cp.movie.registerQuizVariableSetters();if(cp.g_ShouldRandomize)cp.ContinueQuizLibraryInit();else if(cp.resumeDataChunk!=
""&&cp.resumeDataChunk!=void 0&&cp.resumeDataChunk!="0"){var a=cp.movie.playbackController;a&&a.RestoreQuizState()}cp.movie.initLMS()};cp.ContinueQuizLibraryInit=function(){cp.movie.updateMovie();cp.movie.stage.createQuestionObjs();cp.movie.playbackController&&cp.movie.playbackController.AddQuestionSlideNames();cp.movie.stage.initializeGraphManager()};cp.IsRunningInConnect=function(){return!document.location||!document.URL||!document.referrer?false:document.location.href.indexOf("airspeed")!=-1||
document.URL.indexOf("airspeed")!=-1||document.referrer.indexOf("airspeed")!=-1};cp.isBlockedForLMS=function(){return typeof cp.LMSDriverHolder!="undefined"&&cp.LMSDriverHolder&&cp.LMSDriverHolder.blockedForLMS};cp.unblockFromLMS=function(){if(typeof cp.LMSDriverHolder!="undefined"&&cp.LMSDriverHolder)cp.LMSDriverHolder.blockedForLMS=false;cp("blockUserInteraction").style.display="none"};cp.CPPreInit=function(){cp.CPProjInit();cp.shouldScale=cp.D.project.shc;cp.loadedModules={playbar:cp.D.playBarProperties.hasPlayBar&&
cp("playbar")!=void 0,border:cp.D.borderProperties.hasBorder,toc:cp.D.project.hasTOC&&cp("toc")!=void 0};cp.multiPassSetupSlide=false;if(cp.device==cp.IDEVICE)if(cp.mat==void 0){if(cp.IOSMajor<=cp.IOS5)cp.multiAudioTrack=false}else cp.multiAudioTrack=false;if(cp.device==cp.ANDROID)cp.multiAudioTrack=true;var a=cp.D.project_main.pools;if(a==void 0||a.length<=0)cp.poolManager=void 0;else{cp.poolManager=new cp.PoolManager;cp.poolManager.loadPools();cp.g_ShouldRandomize&&cp.poolManager.randomizePools()}PPTXLib.initializePPTXLibrary();
if(a=cp.D.project_main.slideVideos)for(var b=0,c=1;c<a.length;++b,++c){var d=cp.D[a[b]],e=cp.D[a[c]];if(d.to+1==e.from){d=cp.D[d.mdi];e=cp.D[e.mdi];if(Math.abs(d.vst-e.vsf)<=0.1&&d.mp4==e.mp4){d.continueToNextSlide=1;e.continueFromPrevSlide=1}}}for(var a=(cp.D.project_main.slideAudios||"").split(","),b=(cp.D.project_main.slides||"").split(","),c=a.length,e=b.length,f=d=0;f<e&&d<c;++f){var g=cp.D[b[f]];if(!g)break;var k=cp.D[a[d]];if(!k)break;if(k.from<=g.to)g.audioName=a[d];g.to>=k.to&&++d}a=(cp.D.project_main.slides||
"").split(",");b=a.length;for(c=0;c<b;++c){e=cp.D[a[c]];if(!e)break;for(var l in e.si){d=e.si[l];if(cp.kCPOTFLVItem==d.t||cp.kCPOTVideo==d.t||cp.kCPFullMotion==d.t||cp.kCPOTVideoResource==d.t){if(!e.videos)e.videos=[];e.videos.push(d.n)}}}cp.offsetInnerWidth=0;cp.getInnerWidth();l=cp.getProjectContainer();l.style.width=cp.D.project.w+(cp.loadedModules.toc&&!cp.D.tocProperties.overlay?cp.D.tocProperties.width:0)+"px";l.style.height=cp.D.project.h+"px";l=cp.getMainContainer();a=(cp.offsetInnerWidth-
parseFloat(l.style.width))/2;l.style.left=(a>0?a:0)+"px";if(!cp.playImage)cp.playImage=cp("playImage");if(!cp.autoplayImage)cp.autoplayImage=cp("autoplayImage");if(!cp.autoplayDiv)cp.autoplayDiv=cp("autoplayDiv");if(cp.device!=cp.DESKTOP)cp.playImage.className="autoPlayButton";else if(!cp.D.project_main.autoplay)cp.playImage.className="autoPlayButton";if(!cp.ccdv){cp.ccdv=cp("cc");cp.fixWebkitScaling(cp.ccdv)}if(!cp.pwdv)cp.pwdv=cp("pwdv");if(!cp.exdv)cp.exdv=cp("exdv");if(!cp.preloaderImage)cp.preloaderImage=
cp("preloaderImage");if(cp.movie==void 0){cp.movie=new cp.Movie(cp("project"));cp.eventManager=new cp.EventManager;cp.variablesManager=new cp.VariablesManager;cp.movie.audioManager=new cp.AudioManager;cp.movie.videoManager=new cp.VideoManager;cp.movie.mediaSeeker=new cp.MediaSeeker;cp.g_ShouldRandomize||cp.NewQuizLibraryInit();cp.movie.vdm.load();cp.movie.am.load();l=cp.movie.stage.getSlideNameForIndex(0);cp.multiAudioTrack&&l!=""&&cp.movie.am.preload(l);l!=""&&cp.movie.vdm.preload(l);cp.movie.imageManager=
new cp.ImageManager;cp.movie.prefetchManager=new cp.PrefetchManager;cp.movie.handleProjectOptions();cp.movie.pm.preloadSlideAssets(0);cp.movie.topOffset=0;cp.getProject().style.left=(cp.loadedModules.toc&&!cp.D.tocProperties.overlay&&cp.D.tocProperties.position==1?cp.D.tocProperties.width:0)+"px"}if(l=cp.movie.stage.getSlideDiv()){l.ondblclick=cp.handleDblClick;l.oncontextmenu=cp.handleRightClick}cp.ccInit(cp.D.ccProperties);cp.loadedModules.border&&cp.borderInit(cp.D);cp.loadedModules.playbar?cp.playBarInit(cp.D):
cp.setMovieLeftTopRightBottom(0,0,0,0);cp.playImage.style.left=(cp.D.project.w-96)/2+"px";cp.playImage.style.top=(cp.D.project.h-96)/2+"px";cp.autoplayImage.style.left=(cp.D.project.w-cp.movie.autoplayimagew)/2+"px";cp.autoplayImage.style.top=(cp.D.project.h-cp.movie.autoplayimageh)/2+"px";cp("project").style["z-index"]=1;cp.loadedModules.toc&&(cp("toc").style["z-index"]=2);cp.loadedModules.playbar&&(cp("playbar").style["z-index"]=3);cp.ccdv=cp("cc");cp.pwdv=cp("pwdv");cp.exdv=cp("exdv");cp.ccdv&&
(cp("cc").style["z-index"]=4);cp.pwdv&&(cp("pwdv").style["z-index"]=5);cp.exdv&&(cp("exdv").style["z-index"]=6);if(cp.dynamicLogControl){if(cp.consolidateLogs)cp.logArray=[];var m=cp.newElem("div");m.style.cssText="z-index:100;position:absolute;left:0px; top:0px; width:20px; height:20px;display:block;background-image:url(assets/htmlimages/hotspot_correct_answer_normal.png);opacity:"+(cp.consolidateLogs?1:0.5);m.onclick=function(){if(!cp.logArray)cp.logArray=[];if(cp.consolidateLogs){for(var a=0;a<
cp.logArray.length;++a)console.log(cp.logArray[a]);cp.logArray.length=0}cp.consolidateLogs=!cp.consolidateLogs;m.style.opacity=cp.consolidateLogs?1:0.5};m.innerHTML="<font color='#000000' style='font-size:10px'>consolidateLogs</font>";document.body.appendChild(m);var o=cp.newElem("div");o.style.cssText="z-index:100;position:absolute;left:0px; top:30px; width:20px; height:20px;display:block;background-image:url(assets/htmlimages/hotspot_correct_answer_normal.png);opacity:"+(cp.movie.im.verbose?1:0.5);
o.onclick=function(){cp.movie.im.verbose=!cp.movie.im.verbose;o.style.opacity=cp.movie.im.verbose?1:0.5};o.innerHTML="<font color='#000000' style='font-size:10px'>imageLogs</font>";document.body.appendChild(o);var n=cp.newElem("div");n.style.cssText="z-index:100;position:absolute;left:60px; top:30px; width:20px; height:20px;display:block;background-image:url(assets/htmlimages/arrow_right.gif);opacity:"+(cp.movie.pm.viewCache?1:0.5);n.onclick=function(){cp.movie.pm.viewCache=!cp.movie.pm.viewCache;
if(cp.movie.pm.viewCache){cp.movie.pm.cacheViews=[];for(var a=0;a<cp.movie.pm.cache.length;++a)cp.movie.pm.cacheViews[a]=new cp.CacheView(a);cp.movie.pm.showCache()}else{for(a in cp.movie.pm.cacheViews){document.body.removeChild(cp.movie.pm.cacheViews[a].view);--cp.CacheView.NUM_CACHE_VIEWS}delete cp.movie.am.cacheViews}n.style.opacity=cp.movie.pm.viewCache?1:0.5};n.innerHTML="<font color='#000000' style='font-size:10px'>view</font>";document.body.appendChild(n);var p=cp.newElem("div");p.style.cssText=
"z-index:100;position:absolute;left:0px; top:60px; width:20px; height:20px;display:block;background-image:url(assets/htmlimages/hotspot_correct_answer_normal.png);opacity:"+(cp.movie.am.verbose?1:0.5);p.onclick=function(){cp.movie.am.verbose=!cp.movie.am.verbose;p.style.opacity=cp.movie.am.verbose?1:0.5};p.innerHTML="<font color='#000000' style='font-size:10px'>audioLogs</font>";document.body.appendChild(p);var r=cp.newElem("div");r.style.cssText="z-index:100;position:absolute;left:60px; top:60px; width:20px; height:20px;display:block;background-image:url(assets/htmlimages/arrow_right.gif);opacity:"+
(cp.movie.am.viewAudio?1:0.5);r.onclick=function(){cp.movie.am.viewAudio=!cp.movie.am.viewAudio;r.style.opacity=cp.movie.am.viewAudio?1:0.5;if(cp.movie.am.viewAudio){cp.movie.am.audioViews=[];for(var a=0;a<cp.movie.am.MAX_AUDIO_CHANNELS;++a){var b=cp.movie.am.audioChannels[a];cp.movie.am.audioViews[a]=new cp.AudioView(b)}}else{for(a in cp.movie.am.audioViews){b=cp.movie.am.audioViews[a];document.body.removeChild(b.view);--cp.MediaView.NUM_MEDIA_VIEWS}delete cp.movie.am.audioViews}};r.innerHTML="<font color='#000000' style='font-size:10px'>view</font>";
document.body.appendChild(r);l=cp.newElem("div");l.style.cssText="z-index:100;position:absolute;left:120px; top:60px; width:20px; height:20px;display:block;background-image:url(assets/htmlimages/hotspot_correct_answer_normal.png);opacity:1";l.onclick=function(){cp.movie.am.resetAllWaitingAudios()};l.innerHTML="<font color='#000000' style='font-size:10px'>!Wait</font>";document.body.appendChild(l);var q=cp.newElem("div");q.style.cssText="z-index:100;position:absolute;left:0px; top:90px; width:20px; height:20px;display:block;background-image:url(assets/htmlimages/hotspot_correct_answer_normal.png);opacity:"+
(cp.movie.vdm.verbose?1:0.5);q.onclick=function(){cp.movie.vdm.verbose=!cp.movie.vdm.verbose;q.style.opacity=cp.movie.vdm.verbose?1:0.5};q.innerHTML="<font color='#000000' style='font-size:10px'>videoLogs</font>";document.body.appendChild(q);var s=cp.newElem("div");s.style.cssText="z-index:100;position:absolute;left:60px; top:90px; width:20px; height:20px;display:block;background-image:url(assets/htmlimages/arrow_right.gif);opacity:"+(cp.movie.vdm.viewVideo?1:0.5);s.onclick=function(){cp.movie.vdm.viewVideo=
!cp.movie.vdm.viewVideo;s.style.opacity=cp.movie.vdm.viewVideo?1:0.5;if(cp.movie.vdm.viewVideo){cp.movie.vdm.videoViews=[];if(cp.device==cp.IDEVICE||cp.device==cp.ANDROID){cp.movie.vdm.slideVideoChannel&&cp.movie.vdm.videoViews.push(new cp.VideoView(cp.movie.vdm.slideVideoChannel));cp.movie.vdm.tocVideoChannel&&cp.movie.vdm.videoViews.push(new cp.VideoView(cp.movie.vdm.tocVideoChannel))}else{cp.movie.vdm.slideVideoChannel0&&cp.movie.vdm.videoViews.push(new cp.VideoView(cp.movie.vdm.slideVideoChannel0));
cp.movie.vdm.slideVideoChannel1&&cp.movie.vdm.videoViews.push(new cp.VideoView(cp.movie.vdm.slideVideoChannel1));cp.movie.vdm.tocVideoChannel0&&cp.movie.vdm.videoViews.push(new cp.VideoView(cp.movie.vdm.tocVideoChannel0));cp.movie.vdm.tocVideoChannel1&&cp.movie.vdm.videoViews.push(new cp.VideoView(cp.movie.vdm.tocVideoChannel1))}for(var a=0;a<cp.movie.vdm.MAX_VIDEO_CHANNELS;++a){var b=cp.movie.vdm.videoChannels[a];cp.movie.vdm.videoViews.push(new cp.VideoView(b))}}else{for(a in cp.movie.vdm.videoViews){b=
cp.movie.vdm.videoViews[a];document.body.removeChild(b.view);--cp.MediaView.NUM_MEDIA_VIEWS}delete cp.movie.vdm.videoViews}};s.innerHTML="<font color='#000000' style='font-size:10px'>view</font>";document.body.appendChild(s);l=cp.newElem("div");l.style.cssText="z-index:100;position:absolute;left:120px; top:90px; width:20px; height:20px;display:block;background-image:url(assets/htmlimages/hotspot_correct_answer_normal.png);opacity:1";l.onclick=function(){cp.movie.vdm.resetAllWaitingVideos()};l.innerHTML=
"<font color='#000000' style='font-size:10px'>!Wait</font>";document.body.appendChild(l);var v=cp.newElem("div");v.style.cssText="z-index:100;position:absolute;left:0px; top:120px; width:20px; height:20px;display:block;background-image:url(assets/htmlimages/hotspot_incorrect_answer_normal.png);opacity:"+(cp.exceptionalLogs?1:0.5);v.onclick=function(){cp.exceptionalLogs=!cp.exceptionalLogs;v.style.opacity=cp.exceptionalLogs?1:0.5};v.innerHTML="<font color='#000000' style='font-size:10px'>ErrorExcpn</font>";
document.body.appendChild(v);var z=cp.newElem("div");z.style.cssText="z-index:100;position:absolute;left:0px; top:150px; width:20px; height:20px;display:block;background-image:url(assets/htmlimages/hotspot_correct_answer_normal.png);opacity:"+(cp.verbose?1:0.5);z.onclick=function(){cp.verbose=!cp.verbose;z.style.opacity=cp.verbose?1:0.5};z.innerHTML="<font color='#000000' style='font-size:10px'>verbose</font>";document.body.appendChild(z);var B=cp.newElem("div");B.style.cssText="z-index:100;position:absolute;left:0px; top:180px; width:20px; height:20px;display:block;background-image:url(assets/htmlimages/hotspot_correct_answer_normal.png);opacity:"+
(cp.disablePaceMaker?0.5:1);B.onclick=function(){cp.disablePaceMaker=!cp.disablePaceMaker;B.style.opacity=cp.disablePaceMaker?0.5:1};B.innerHTML="<font color='#000000' style='font-size:10px'>PaceMaker</font>";document.body.appendChild(B);var t=cp.newElem("div");t.style.cssText="z-index:100;position:absolute;left:0px; top:210px; width:20px; height:20px;display:block;background-image:url(assets/htmlimages/hotspot_correct_answer_normal.png);opacity:"+(cp.movie.ms.verbose?1:0.5);t.onclick=function(){cp.movie.ms.verbose=
!cp.movie.ms.verbose;t.style.opacity=cp.movie.ms.verbose?1:0.5};t.innerHTML="<font color='#000000' style='font-size:10px'>seekLogs</font>";document.body.appendChild(t);if(cp.device!=cp.IDEVICE){var x=cp.newElem("div");x.style.cssText="z-index:100;position:absolute;left:0px; top:240px; width:20px; height:20px;display:block;background-image:url(assets/htmlimages/hotspot_correct_answer_normal.png);opacity:"+(cp.device==cp.IDEVICE?0.5:1);x.onclick=function(){if(cp.origDevice){cp.device=cp.origDevice;
delete cp.origDevice}else{cp.origDevice=cp.device;cp.device=cp.IDEVICE}x.style.opacity=cp.device==cp.IDEVICE?0.5:1};x.innerHTML="<font color='#000000' style='font-size:10px'>emulateiDevice</font>";document.body.appendChild(x)}var y=cp.newElem("div");y.style.cssText="z-index:100;position:absolute;left:0px; top:270px; width:20px; height:20px;display:block;background-image:url(assets/htmlimages/hotspot_correct_answer_normal.png);opacity:"+(cp.customConsole?0.5:1);y.onclick=function(){if(cp.customConsole){document.body.removeChild(cp.customConsole);
delete cp.customConsole}else{cp.customConsole=cp.newElem("textarea");cp.customConsole.style.cssText="z-index:100;position:absolute;left:0px; top:300px; width:300px; height:100px;display:block;";cp.customConsole.readonly=true;document.body.appendChild(cp.customConsole);cp.log("navigator.userAgent = "+navigator.userAgent);cp.log("browser = "+cp.browser);cp.log("browserVersion = "+cp.browserVersion);cp.log("device = "+cp.device);if(cp.device==cp.IDEVICE){cp.log("device flavor = "+cp.deviceFlavor);cp.log("IOS Version = "+
cp.IOSMajor+"_"+cp.IOSMinor+"_"+cp.IOSBuild)}}y.style.opacity=cp.customConsole?0.5:1};y.innerHTML="<font color='#000000' style='font-size:10px'>customConsole</font>";document.body.appendChild(y)}cp.adjustWindow();setTimeout("window.scrollTo(0,0);",500)};cp.CPPostInit=function(){cp.initObjectFactory();cp.loadedModules.playbar&&cp.setPlaybarCallback(cp.movie);cp.loadedModules.toc&&cp.setTOCCallback(cp.movie,cp.em);typeof cptb!="undefined"&&cptb.PostInit();cp.movie.startTimer();window.onorientationchange=
window.onresize=cp.adjustWindow};cp.getStartFrameOfMovie=function(){return cp.loadedModules.toc&&cp.toc.movieProperties.tocProperties.hasSelfPaced&&cp.toc.tocPersistanceManager.lastVisitedEntry!=-1&&cp.toc.movieProperties["Slide"+cp.toc.rootObj.tocEntries[cp.toc.tocPersistanceManager.lastVisitedEntry].link]?cp.toc.movieProperties["Slide"+cp.toc.rootObj.tocEntries[cp.toc.tocPersistanceManager.lastVisitedEntry].link].from:cpInfoCurrentFrame};cp.addAndUpdateProjectBackgroundDiv=function(a){var b=cp("proj_bg"),
c=cp("playbar"),d=cp("toc"),e=a.playBarProperties;if(b==void 0){b=cp.newElem("div");b.id="proj_bg";d.parentElement.insertBefore(b,d);b.style.display="none";b.style.cssFloat="left";b.style.position="absolute";b.style.backgroundColor=a.project.prjBgColor}if(e.hasPlayBar){if(e.position==0||e.position==2){b.style.width=e.playBarHeight+"px";b.style.height=a.project.h+"px";b.style.top="0px";b.style.left=e.position==0?c.style.left:parseFloat(c.style.left)+a.project.w+"px"}else if(e.position==1||e.position==
3){b.style.width=a.project.w+"px";b.style.height=e.playBarHeight+"px";b.style.top=e.position==1?"0px":a.project.h+"px";b.style.left=c.style.left}if(e.position==0&&cp.lBorderW==0||e.position==1&&cp.tBorderW==0||e.position==2&&cp.rBorderW==0||e.position==3&&cp.bBorderW==0)b.style.display="block"}};cp.updateBorderPosition=function(a,b){var c=cp("main_container"),d=document.getElementById("projectBorder"),e=cp.getProjectContainer(),f=a.playBarProperties;f.playBarHeight=f.playBarHeight!=void 0?f.playBarHeight:
0;var g=a.borderProperties;if(g)if(g.hasBorder){cp.lBorderW=cp.lBorderW!=void 0?cp.lBorderW:0;cp.tBorderW=cp.tBorderW!=void 0?cp.tBorderW:0;cp.rBorderW=cp.rBorderW!=void 0?cp.rBorderW:0;cp.bBorderW=cp.bBorderW!=void 0?cp.bBorderW:0;b||cp.addAndUpdateProjectBackgroundDiv(a);if(b)c.style.left=parseFloat(e.style.left)-cp.lBorderW+"px";else if((f.position==0||f.position==2)&&!f.overlay){if(f.position==0){if(f.playBarHeight>cp.lBorderW){g.w=g.w+(f.playBarHeight-cp.lBorderW);c.style.width=d.style.width=
g.w+"px";cp.lBorderW=f.playBarHeight}e.style.left=cp.lBorderW-f.playBarHeight+"px"}else{if(f.playBarHeight>cp.rBorderW){g.w=g.w+(f.playBarHeight-cp.rBorderW);c.style.width=d.style.width=g.w+"px";cp.rBorderW=f.playBarHeight}e.style.left=cp.lBorderW+"px"}var k=f&&f.playBarHeight?f.playBarHeight:0,k=f.position==0?k/2:-(k/2);c.style.left=parseFloat(c.style.left)+k+"px"}else e.style.left=cp.lBorderW+"px";if(f.position!=1){if(f.position==3&&f.playBarHeight>cp.bBorderW&&!f.overlay){g.h=g.h+(f.playBarHeight-
cp.bBorderW);c.style.height=d.style.height=g.h+"px";cp.bBorderW=f.playBarHeight}e.style.top=cp.tBorderW+"px"}else if(f.overlay)e.style.top=cp.tBorderW+"px";else{if(f.playBarHeight>cp.tBorderW){g.h=g.h+(f.playBarHeight-cp.tBorderW);c.style.height=d.style.height=g.h+"px";cp.tBorderW=f.playBarHeight}e.style.top=cp.tBorderW-f.playBarHeight+"px"}}else{c.style.left=parseFloat(e.style.left)+"px";c.style.top=parseFloat(e.style.top)+"px";c.style.width=parseFloat(e.style.width)+"px";c.style.height=parseFloat(e.style.height)+
"px"}}})();
(function(){cp.borderInit=function(d){cp.borderCreated=!1;cp.lBorderW=0;cp.tBorderW=0;cp.rBorderW=0;cp.bBorderW=0;var a=d.borderProperties;if(a){var b=document.getElementById("projectBorder"),c=cp.getMainContainer();c.style.width=b.style.width=a.w+"px";c.style.height=b.style.height=a.h+"px";a.l=void 0!=a.l?a.l:0;a.t=void 0!=a.t?a.t:0;a.r=void 0!=a.r?a.r:0;a.b=void 0!=a.b?a.b:0;cp.lBorderW=a.l;cp.tBorderW=a.t;cp.rBorderW=a.r;cp.bBorderW=a.b;b.style.backgroundColor=a.bc;(c=a.ip)&&(b.style["background-image"]=
"url('"+c+"')");a.hasSqEd||(b.style["border-radius"]="20px");cp.updateBorderPosition(d,!0);cp.borderCreated=!0;cp.complete()}}})();
cp.playbar=function(b){return document.getElementById(b)};cp.PB=cp.playbar;cp.PB.Btns={kBtnAudioOff:"AudioOff",kBtnAudioOn:"AudioOn",kBtnBackward:"Backward",kBtnCC:"CC",kBtnExit:"Exit",kBtnFastForward:"FastForward",kBtnFastForward1:"FastForward1",kBtnFastForward2:"FastForward2",kBtnForward:"Forward",kBtnInfo:"Info",kBtnLogo:"Logo",kBtnPlay:"Play",kBtnPause:"Pause",kBtnPrint:"Print",kBtnProgress:"Progress",kBtnRewind:"Rewind",kBtnThumb:"Thumb",kBtnThumbBase:"ThumbBase",kBtnTOC:"TOC"};
cp.PB.BtnStyleImages="Color ColorSmall Glow GlowSmall Height Shadow ShadowSmall InnerStroke InnerStrokeSmall Shade ShadeSmall Stroke StrokeSmall".split(" ");cp.PB.kLargeBtn=0;cp.PB.kSmallBtn=1;cp.PB.kBtnMargin=2;cp.PB.kIndentMargin=8;cp.PB.movieProperties=null;cp.PB.assetsLoaded=0;cp.PB.isVertical=!1;cp.PB.numBtns=0;cp.PB.playBarDim=0;cp.PB.mainMovie=null;cp.PB.playBarOtherDim=0;cp.PB.playbarHasLogo=!1;cp.PB.playbarHasInfo=!1;cp.PB.playbarHasPrint=!1;cp.PB.loadedAssetArr={};
cp.PB.playBarIconsFolder="./assets/playbar/PlaybarIcons/";cp.PB.PNGSuffix=".png";cp.PB.btnSizeMap={};cp.PB.btnSizeMap[cp.PB.Btns.kBtnAudioOff]=cp.PB.kSmallBtn;cp.PB.btnSizeMap[cp.PB.Btns.kBtnAudioOn]=cp.PB.kSmallBtn;cp.PB.btnSizeMap[cp.PB.Btns.kBtnBackward]=cp.PB.kSmallBtn;cp.PB.btnSizeMap[cp.PB.Btns.kBtnCC]=cp.PB.kSmallBtn;cp.PB.btnSizeMap[cp.PB.Btns.kBtnExit]=cp.PB.kSmallBtn;cp.PB.btnSizeMap[cp.PB.Btns.kBtnFastForward]=cp.PB.kSmallBtn;cp.PB.btnSizeMap[cp.PB.Btns.kBtnFastForward1]=cp.PB.kSmallBtn;
cp.PB.btnSizeMap[cp.PB.Btns.kBtnFastForward2]=cp.PB.kSmallBtn;cp.PB.btnSizeMap[cp.PB.Btns.kBtnForward]=cp.PB.kSmallBtn;cp.PB.btnSizeMap[cp.PB.Btns.kBtnPlay]=cp.PB.kLargeBtn;cp.PB.btnSizeMap[cp.PB.Btns.kBtnPause]=cp.PB.kLargeBtn;cp.PB.btnSizeMap[cp.PB.Btns.kBtnRewind]=cp.PB.kSmallBtn;cp.PB.btnSizeMap[cp.PB.Btns.kBtnTOC]=cp.PB.kSmallBtn;cp.PB.btnSizeMap[cp.PB.Btns.kBtnInfo]=cp.PB.kSmallBtn;cp.PB.btnSizeMap[cp.PB.Btns.kBtnPrint]=cp.PB.kSmallBtn;cp.PB.playBarHeight=0;cp.PB.playBarCSSLoaded=!1;
cp.PB.toolTips={};cp.PB.toolTips[cp.PB.Btns.kBtnRewind]="Rewind ;\u5012\u5e36 ;Rembobiner ;Zur\u00fcckspulen ;Riavvolgi ;\u5dfb\u304d\u623b\u3057 ;Rebobinar ;\ub418\uac10\uae30 ;Retroceder ".split(";");cp.PB.toolTips[cp.PB.Btns.kBtnBackward]="Back ;\u5f8c\u9000 ;Retour ;Zur\u00fcck ;Indietro ;\u623b\u308b ;Atr\u00e1s ;\ub4a4\ub85c ;Voltar ".split(";");cp.PB.toolTips[cp.PB.Btns.kBtnPlay]="Play ;\u64ad\u653e ;Lire ;Abspielen ;Esegui ;\u518d\u751f ;Reproducir ;\uc7ac\uc0dd ;Reproduzir ".split(";");
cp.PB.toolTips[cp.PB.Btns.kBtnPause]="Pause ;\u66ab\u505c ;Pause ;Anhalten ;Pausa ;\u4e00\u6642\u505c\u6b62 ;Pausa ;\uc77c\uc2dc \uc911\uc9c0 ;Pausar ".split(";");cp.PB.toolTips[cp.PB.Btns.kBtnForward]="Forward ;\u524d\u9032 ;Avancer ;Weiter ;Avanti ;\u9032\u3080 ;Adelante ;\uc55e\uc73c\ub85c ;Avan\u00e7ar ".split(";");cp.PB.toolTips[cp.PB.Btns.kBtnCC]="Closed Captioning ;\u96b1\u85cf\u5f0f\u5b57\u5e55 ;Sous-titrage ;Bilduntertitel ;Didascalie ;\u30af\u30ed\u30fc\u30ba\u30c9\u30ad\u30e3\u30d7\u30b7\u30e7\u30f3 ;Subt\u00edtulos opcionales ;\ud3d0\uc1c4 \ucea1\uc158 ;Legenda codificada ".split(";");
cp.PB.toolTips[cp.PB.Btns.kBtnAudioOn]="Audio Off ;\u95dc\u9589\u97f3\u8a0a ;Audio d\u00e9sactiv\u00e9 ;Audio aus ;Audio spento ;\u97f3\u58f0 \u30aa\u30d5 ;Audio desact. ;\uc624\ub514\uc624 \ub044\uae30 ;\u00c1udio ligado ".split(";");cp.PB.toolTips[cp.PB.Btns.kBtnAudioOff]="Audio On ;\u958b\u555f\u97f3\u8a0a ;Audio activ\u00e9 ;Audio an ;Audio acceso ;\u97f3\u58f0 \u30aa\u30f3 ;Audio act.;\uc624\ub514\uc624 \ucf1c\uae30 ;\u00c1udio desligado ".split(";");cp.PB.toolTips[cp.PB.Btns.kBtnExit]="Exit ;\u7d50\u675f ;Quitter ;Beenden ;Esci ;\u9589\u3058\u308b ;Salir ;\ub05d\ub0b4\uae30 ;Sair ".split(";");
cp.PB.toolTips[cp.PB.Btns.kBtnInfo]="Information ;\u8cc7\u8a0a ;Informations ;Informationen ;Informazioni ;\u60c5\u5831 ;Informaci\u00f3n ;\uc815\ubcf4 ;Informa\u00e7\u00f5es ".split(";");cp.PB.toolTips[cp.PB.Btns.kBtnTOC]="Table of Contents ;\u76ee\u9304 ;Table des mati\u00e8res ;Inhaltsverzeichnis ;Sommario ;\u76ee\u6b21 ;Contenido ;\ubaa9\ucc28 ;\u00cdndice anal\u00edtico ".split(";");cp.PB.toolTips[cp.PB.Btns.kBtnFastForward]="2x Fast Forward Speed ;2 \u500d\u901f\u5feb\u8f49 ;Vitesse d'avance rapide x2 ;Zweifache Vorspulgeschwindigkeit ;Velocit\u00e0 avanzamento rapido 2x ;2 \u500d\u901f ;Velocidad de avance r\u00e1pido 2x ;2\ubc30\uc18d \ube68\ub9ac \uac10\uae30 ;Velocidade 2x de avan\u00e7ar ".split(";");
cp.PB.toolTips[cp.PB.Btns.kBtnFastForward1]="4x Fast Forward Speed ;4 \u500d\u901f\u5feb\u8f49 ;Vitesse d'avance rapide x4 ;Vierfache Vorspulgeschwindigkeit ;Velocit\u00e0 avanzamento rapido 4x ;4 \u500d\u901f ;Velocidad de avance r\u00e1pido 4x ;4\ubc30\uc18d \ube68\ub9ac \uac10\uae30 ;Velocidade 4x de avan\u00e7ar ".split(";");cp.PB.toolTips[cp.PB.Btns.kBtnFastForward2]="Normal Speed ;\u6b63\u5e38\u901f\u5ea6 ;Vitesse normale ;Normale Geschwindigkeit ;Velocit\u00e0 normale ;\u6a19\u6e96\u901f\u5ea6 ;Velocidad normal ;\uc77c\ubc18 \uc18d\ub3c4 ;Velocidade normal ".split(";");
cp.PB.toolTips[cp.PB.Btns.kBtnPrint]="Print;\u5217\u5370 ;Imprimer ;Drucken ;Stampa ;\u5370\u5237 ;Imprimir ;\uc778\uc1c4 ;Imprimir ".split(";");cp.PB.toolTipLocaleIndex=0;cp.localizeToolTips=function(b){return cp.PB.toolTips[b][cp.PB.toolTipLocaleIndex]?cp.PB.toolTips[b][cp.PB.toolTipLocaleIndex]:cp.playbarTooltips&&cp.playbarTooltips[b]?cp.playbarTooltips[b]:b};
cp.PB.PlayBarButton=function(b,a,c){this.SmallSuffix="Small";this.isSmall=cp.PB.btnSizeMap[b];this.iconName=b;this.playBarDiv=a;this.currDiv=document.createElement("canvas");this.currDiv.parentObj=this;this.playBarDiv.appendChild(this.currDiv);this.currDiv.setAttribute("class",this.isSmall?"playbarSmallButton":"playbarBigButton");this.currDiv.width=this.currDiv.clientWidth;this.currDiv.height=this.currDiv.clientHeight;this.ctx=this.currDiv.getContext("2d");this.currDiv.imgElemArray=[];this.currDiv.toggleimgElemArray=
[];this.currDiv.title=cp.PB.MP.PBP.noToolTips?"":this.iconName;this.currDiv.curIcon=0;this.currDiv.tabIndex=0;this.currDiv.setAttribute("role","button");this.clickHandler=c;this.currDiv.style.marginTop=0==cp.PB.MP.PBP.tworow?(this.playBarDiv.height-this.currDiv.height)/2+"px":"0px";this.currDiv.style.marginLeft="0px"};
cp.PB.PlayBarButton.prototype={setImage:function(b){var a=cp.PB.loadedAssetArr[b+(this.isSmall?this.SmallSuffix:"")];void 0!=a&&(a.isGlow="Glow"==b,a.showImage=!0,a.imageName=b+(this.isSmall?this.SmallSuffix:""),this.currDiv.imgElemArray[this.currDiv.imgElemArray.length]=a)},getWidth:function(){return this.currDiv.clientWidth},destroy:function(){this.playBarDiv.removeChild(this.currDiv)},setPosNWidth:function(b,a){this.currDiv.onclick=this.onClick;this.currDiv.onkeydown=this.onKeyDown;var c=parseFloat(window.getComputedStyle(this.currDiv).marginLeft.replace("px",
""));this.currDiv.style.marginLeft=c+b+"px";c=parseFloat(window.getComputedStyle(this.currDiv).marginTop.replace("px",""));this.currDiv.style.marginTop=c+a+"px";this.refresh();return cp.PB.kBtnMargin},setIcon:function(b){var a=cp.PB.loadedAssetArr[b];a.parentElem=this.currDiv;a.isGlow=!1;a.imageName=b;cp.PB.isVertical&&cp.applyTransform(a,"matrix(0,1,-1,0,0,0)");this.currDiv.toggleimgElemArray[this.currDiv.toggleimgElemArray.length]=a;this.currDiv.title=cp.PB.MP.PBP.noToolTips?"":cp.localizeToolTips(this.currDiv.toggleimgElemArray[this.currDiv.curIcon].imageName)},
onClick:function(b){this.parentObj.toggleImage(b);void 0!=this.parentObj.clickHandler&&this.parentObj.clickHandler()},onKeyDown:function(b){var a;b.keyCode?a=b.keyCode:b.which&&(a=b.which);32==a&&(this.parentObj.toggleImage(b),void 0!=this.parentObj.clickHandler&&this.parentObj.clickHandler())},toggleImage:function(b){var a=this.currDiv;null==a&&(a=this);a.curIcon=(a.curIcon+1)%a.toggleimgElemArray.length;var c=cp.localizeToolTips(a.toggleimgElemArray[a.curIcon].imageName);a.title=cp.PB.MP.PBP.noToolTips?
"":c;cp.modifyAlternativeAccessibleText(a,c);a.parentObj.onMouseOver(b)},changeImage:function(b){var a=this.currDiv;null==a&&(a=this);for(var c=0;c<a.toggleimgElemArray.length;++c)if(b==a.toggleimgElemArray[c].imageName){if(c==a.curIcon)return;a.curIcon=c;a.title=cp.localizeToolTips(a.toggleimgElemArray[a.curIcon].imageName)}if(a.rollover)a.parentObj.onMouseOver(null);else a.parentObj.onMouseOut(null)},refresh:function(){this.onMouseOut(null)},onMouseOver:function(){var b=this.ctx,a=this.currDiv;
null==a&&(a=this);null==b&&(b=this.getContext("2d"));a.rollover=!0;var c;b.clearRect(0,0,a.clientWidth,a.clientHeight);for(var d=0;d<a.imgElemArray.length;++d)c=a.imgElemArray[d],b.drawImage(c,(a.clientWidth-c.width)/2,(a.clientHeight-c.height)/2);c=a.toggleimgElemArray[a.curIcon];var d=a.clientWidth/2,a=a.clientHeight/2,e=c.width,f=c.height;b.translate(d,a);b.rotate(Math.PI/180*(cp.PB.isVertical?-90:0));b.drawImage(c,-e/2,-f/2,e,f);b.rotate(Math.PI/180*(cp.PB.isVertical?90:0));b.translate(-d,-a)},
onMouseOut:function(){var b=this.ctx,a=this.currDiv;null==a&&(a=this);null==b&&(b=this.getContext("2d"));a.rollover=!1;b.clearRect(0,0,a.clientWidth,a.clientHeight);for(var c=0;c<a.imgElemArray.length;++c){var d=a.imgElemArray[c];d.isGlow||b.drawImage(d,(a.clientWidth-d.width)/2,(a.clientHeight-d.height)/2)}var d=a.toggleimgElemArray[a.curIcon],c=a.clientWidth/2,a=a.clientHeight/2,e=d.width,f=d.height;b.translate(c,a);b.rotate(Math.PI/180*(cp.PB.isVertical?-90:0));b.drawImage(d,-e/2,-f/2,e,f);b.rotate(Math.PI/
180*(cp.PB.isVertical?90:0));b.translate(-c,-a)}};
cp.PB.PlayBarSlider=function(b){this.thumbBase="ThumbBase";this.progress="Progress";this.thumb="Thumb";this.playBarDiv=b;this.currDiv=document.createElement("div");this.currDiv.setAttribute("class","playbarSlider");this.playBarDiv.appendChild(this.currDiv);this.currDiv.border="0px";this.currDiv.margin="0px";this.currDiv.padding="0px";this.progressDiv=document.createElement("canvas");this.currDiv.appendChild(this.progressDiv);this.currDiv.progressDiv=this.progressDiv;this.progressDiv.id="playbarSlider";
this.thumbimg=cp.PB.loadedAssetArr[this.thumb];this.thumbDiv=document.createElement("div");b=-1;0===cp.D.pref.rkt&&(b=10006);this.thumbDiv.setAttribute("tabindex",b);this.thumbDiv.setAttribute("class","playbarSliderThumb");this.currDiv.appendChild(this.thumbDiv);cp.fixWebkitScaling(this.thumbDiv);var b=this.thumbimg.width,a=this.thumbimg.height;this.thumbDiv.style.width=b+"px";this.thumbDiv.style.height=a+"px";this.thumbimg.style.display="block";this.thumbDiv.appendChild(this.thumbimg);this.thumbDiv.width=
b;this.thumbDiv.height=a;this.thumbimg.style.width=this.thumbDiv.width+"px";this.thumbimg.style.height=this.thumbDiv.height+"px";this.thumbimg.width=this.thumbDiv.width+"px";this.thumbimg.height=this.thumbDiv.height+"px";this.progressDiv.thumbDiv=this.thumbDiv;this.thumbDiv.progressDiv=this.progressDiv;this.thumbDiv.id="playbarSliderThumb";this.currDiv.style.marginLeft="0px";""==this.currDiv.style.marginTop&&(this.currDiv.style.marginTop="0px");this.currDiv.height=1==cp.PB.MP.PBP.tworow?this.playBarDiv.height/
2:this.playBarDiv.height};
cp.PB.PlayBarSlider.prototype={setPosNWidth:function(b,a,c){c-=this.progressDiv.thumbDiv.width;this.currDiv.width=c;this.currDiv.style.width=c+"px";c=parseFloat(window.getComputedStyle(this.currDiv).marginLeft.replace("px",""));this.currDiv.style.marginLeft=c+b+2*cp.PB.kBtnMargin+"px";b=parseFloat(window.getComputedStyle(this.currDiv).marginTop.replace("px",""));this.currDiv.style.marginTop=b+a+"px";this.init();this.refresh();this.currDiv.style.display="inline";return 2*cp.PB.kBtnMargin},getWidth:function(){return this.currDiv.clientWidth+
this.progressDiv.thumbDiv.width},destroy:function(){this.playBarDiv.removeChild(this.currDiv)},init:function(){var b=cp.PB.loadedAssetArr[this.thumbBase];this.progressDiv.parentObj=this;this.progressDiv.onclick=this.moveSlider;this.progressDiv.updateSlider=this.updateSlider;this.progressDiv.thumbBasePattern=this.progressDiv.getContext("2d").createPattern(b,"repeat");b=cp.PB.loadedAssetArr[this.progress];this.progressDiv.progressPattern=this.progressDiv.getContext("2d").createPattern(b,"repeat");this.progressDiv.width=
this.currDiv.width;this.progressDiv.height=b.height;this.progressDiv.style.marginTop="0px";this.progressDiv.style.marginLeft=this.thumbDiv.width/2+"px";this.progressDiv.maxFrameWidth=this.progressDiv.width;this.progressDiv.maxFrameHeight=this.progressDiv.height;this.progressDiv.style.marginTop=0==cp.PB.MP.PBP.tworow?(this.playBarDiv.height-this.progressDiv.height)/2+"px":(this.playBarDiv.height/2-this.progressDiv.height)/2+"px";this.currDiv.width+=this.thumbDiv.width;this.currDiv.style.width=this.currDiv.width+
"px";this.currDiv.height=this.playBarDiv.height;cp.browser!=cp.FIREFOX&&(cp.device==cp.IDEVICE?this.thumbDiv.ontouchstart=this.onMouseDown:this.thumbDiv.onmousedown=this.onMouseDown);b=parseFloat(window.getComputedStyle(this.thumbDiv).top.replace("px",""));this.thumbDiv.style.top=1==cp.PB.MP.PBP.tworow?b+this.playBarDiv.height/2+(this.playBarDiv.height/2-this.progressDiv.height)/2+"px":b+(this.playBarDiv.height-this.progressDiv.height)/2+"px";cp.D.project_main.isPublishedFromLacuna||cp.createAlternativeAccessibleText(this.thumbDiv,
"Progress, Slide "+(cpInfoCurrentSlideIndex+1)+" of "+cp.movie.stage.slides.length,"slider")},refresh:function(){this.updateSlider(1)},onMouseDown:function(b){this.underDrag=!0;cp.em&&cp.em.fireEvent("CPStartPlaybarScrub");this.style.position="absolute";var a=document.getElementById("playbarSliderThumb").progressDiv,c=a.progLen,d=document.onmousemove,e=document.onmouseup;cp.device==cp.IDEVICE&&(d=document.ontouchmove,e=document.ontouchend);var f=b;cp.device==cp.IDEVICE&&(f=b.touches[0]);b=function(b){cp.playbarMoved();
b.stopPropagation();var d=b;if(cp.device==cp.IDEVICE){d=b.touches[0];b.preventDefault()}b=0;b=cp.PB.isVertical?d.clientY-f.clientY:d.clientX-f.clientX;if(b!=0){d=Math.round((c+b)*cp.PB.MP.project_main.to/a.width);if(d<1)d=1;else if(cp.frame>cp.PB.MP.project_main.to)d=cp.PB.MP.project_main.to;if(cp.PB.mainMovie&&!cp.PB.mainMovie.virgin){cp.PB.mainMovie.pause(cp.ReasonForPause.PLAYBAR_ACTION);cp.PB.mainMovie.jumpToFrame(d)}}};cp.device==cp.IDEVICE?document.ontouchmove=b:document.onmousemove=b;b=function(){if(cp.device==
cp.IDEVICE){document.ontouchmove=d;document.ontouchend=e}else{document.onmousemove=d;document.onmouseup=e}cp.em&&cp.em.fireEvent("CPEndPlaybarScrub")};cp.device==cp.IDEVICE?document.ontouchend=b:document.onmouseup=b;return!1},moveSlider:function(b){cp.playbarMoved();b=Math.round((void 0==b.offsetX?b.layerX-b.currentTarget.offsetLeft:b.offsetX)*cp.PB.MP.project_main.to/this.width);1>b?b=1:b>cp.PB.MP.project_main.to&&(b=cp.PB.MP.project_main.to);cp.PB.mainMovie&&!cp.PB.mainMovie.virgin&&(cp.PB.mainMovie.pause(cp.ReasonForPause.PLAYBAR_ACTION),
cp.PB.mainMovie.jumpToFrame(b))},updateSlider:function(b){b>cp.PB.MP.project_main.to&&(b=cp.PB.MP.project_main.to);var a=this.progressDiv;null==a&&(a=this);var c=a.getContext("2d");c.clearRect(0,0,a.width,a.height);c.fillStyle=a.thumbBasePattern;c.fillRect(0,0,a.width,a.height);c.fillStyle=a.progressPattern;c.fillRect(0,0,a.width*b/cp.PB.MP.project_main.to,a.height);a.progLen=a.width*b/cp.PB.MP.project_main.to;a.thumbDiv.style.marginLeft=a.progLen+"px";a.thumbDiv.title=cpInfoCurrentSlideIndex+1+"/"+
cp.movie.stage.slides.length;cp.modifyAlternativeAccessibleText(this.thumbDiv,"Progress, Slide "+(cpInfoCurrentSlideIndex+1)+" of "+cp.movie.stage.slides.length)}};cp.PB.playBarConstruct=function(b){this.playBarDiv=b;this.slider=this.bkGrndDiv=null;this.firstRowArray=[];this.secondRowArray=[];this.btnMap={};this.secondRowMinWidth=this.firstRowMinWidth=this.minWidth=0;this.logo=null};
cp.PB.playBarConstruct.prototype={createSlider:function(b,a){if(void 0==cp.PB.MP.playBarProperties.hasSlider||0==cp.PB.MP.playBarProperties.hasSlider)return 0;this.slider=new cp.PB.PlayBarSlider(this.bkGrndDiv);if(this.slider.getWidth()+4*cp.PB.kBtnMargin+a+2*cp.PB.kIndentMargin>cp.PB.playBarDim)return this.slider.destroy(),this.slider=null,0;b[b.length]=this.slider;this.slider.expectedWidth=this.slider.getWidth();return this.slider.expectedWidth+4*cp.PB.kBtnMargin},createBackground:function(){var b=
document.getElementById("playbarBkGrnd");b.height=b.clientHeight;this.bkGrndDiv=b},setBackGroundWidth:function(b){this.bkGrndDiv.width=b;this.bkGrndDiv.style.width=b+"px";b=cp.PB.loadedAssetArr.BackGround.src;if(cp.PB.MP.PBP.applyColors){var a=document.createElement("canvas");a.width=this.bkGrndDiv.width;a.height=this.bkGrndDiv.height;b=a.getContext("2d");b.clearRect(0,0,this.bkGrndDiv.width,this.bkGrndDiv.height);b.globalAlpha=cp.PB.MP.PBP.alpha/100;cp.setFillStrokeStyle(cp.PB.MP.PBP.BkColor,a);
b.fillRect(0,0,this.bkGrndDiv.width,this.bkGrndDiv.height);b=a.toDataURL("image/png");this.bkGrndDiv.style.backgroundImage='url("'+b+'")';this.bkGrndDiv.style.backgroundSize="100% 100%"}else a=document.createElement("canvas"),this.bkGrndDiv.insertBefore(a,this.bkGrndDiv.firstChild),a.width=this.bkGrndDiv.width,a.height=this.bkGrndDiv.height,a.style.position="absolute",a.style.display="block",b=a.getContext("2d"),b.clearRect(0,0,this.bkGrndDiv.width,this.bkGrndDiv.height),b.globalAlpha=cp.PB.MP.PBP.alpha/
100,b.drawImage(cp.PB.loadedAssetArr.BackGround,0,0,this.bkGrndDiv.width,this.bkGrndDiv.height),a.style.zIndex=-10},createButton:function(b,a,c,d,e){if(b[0]!=cp.PB.Btns.kBtnInfo&&b[0]!=cp.PB.Btns.kBtnPrint){if(void 0==cp.PB.MP.playBarProperties["has"+b[0]]||0==cp.PB.MP.playBarProperties["has"+b[0]])return 0}else if(b[0]==cp.PB.Btns.kBtnInfo&&!1==cp.PB.playbarHasInfo||b[0]==cp.PB.Btns.kBtnPrint&&!1==cp.PB.playbarHasPrint)return 0;if(void 0==cp.PB.loadedAssetArr[b[0]])return 0;c=new cp.PB.PlayBarButton(b[0],
this.bkGrndDiv,c);if(c.getWidth()+cp.PB.kBtnMargin+d+2*cp.PB.kIndentMargin>cp.PB.playBarDim)return c.destroy(),0;c.setImage("Shadow");c.setImage("Stroke");c.setImage("Color");c.setImage("Shade");c.setImage("InnerStroke");c.setImage("Glow");c.setImage("InnerShade");for(d=0;d<b.length;++d)c.setIcon(b[d]),this.btnMap[b[d]]=c;c.currDiv.setAttribute("tabindex",e);cp.createAlternativeAccessibleText(c.currDiv,cp.localizeToolTips(b[0]),"");c.currDiv.onmouseover=c.onMouseOver;c.currDiv.onclick=c.toggleImage;
c.currDiv.onmouseout=c.onMouseOut;a[a.length]=c;c.expectedWidth=c.getWidth();return c.expectedWidth+cp.PB.kBtnMargin},createLogo:function(b){if(!1==cp.PB.playbarHasLogo)return 0;var a=document.createElement("div");a.id="playbarLogo";this.bkGrndDiv.appendChild(a);a.setAttribute("class","playbarLogo");a.style.marginTop=0==cp.PB.MP.PBP.tworow?(this.bkGrndDiv.height-a.clientHeight)/2+"px":"0px";if(a.clientWidth+cp.PB.kBtnMargin+b+2*cp.PB.kIndentMargin>cp.PB.playBarDim)return this.bkGrndDiv.removeChild(a),
0;this.logo=a;return a.clientWidth+cp.PB.kBtnMargin},initComponents:function(){var b=cp.D.quizzingData.quizBranchAware;if(0==cp.PB.MP.PBP.tworow){for(var a=cp.PB.kIndentMargin,c=0,c=void 0==this.slider&&!b?1<this.firstRowArray.length?(this.bkGrndDiv.width-this.firstRowMinWidth)/(this.firstRowArray.length-1):(this.bkGrndDiv.width-this.firstRowMinWidth)/2:0,b=0;b<this.firstRowArray.length;++b)a=this.firstRowArray[b].setPosNWidth(a,0,this.firstRowArray[b].expectedWidth),a+=c;null!=this.logo&&(this.logo.style.marginLeft=
a+"px")}else{for(var a=cp.PB.kIndentMargin,c=1<this.firstRowArray.length?(this.bkGrndDiv.width-this.firstRowMinWidth)/(this.firstRowArray.length-1):(this.bkGrndDiv.width-this.firstRowMinWidth)/2,d=0,b=0;b<this.firstRowArray.length;++b)a=this.firstRowArray[b].setPosNWidth(a,(this.bkGrndDiv.height/2-this.firstRowArray[b].currDiv.height)/2,this.firstRowArray[b].expectedWidth),a+=c,d<(this.bkGrndDiv.height/2+this.firstRowArray[b].currDiv.height)/2&&(d=(this.bkGrndDiv.height/2+this.firstRowArray[b].currDiv.height)/
2);a=cp.PB.kIndentMargin;c=void 0==this.slider?1<this.secondRowArray.length?(this.bkGrndDiv.width-this.secondRowMinWidth)/(this.secondRowArray.length-1):(this.bkGrndDiv.width-this.secondRowMinWidth)/2:0;for(b=0;b<this.secondRowArray.length;++b)a=this.secondRowArray[b].setPosNWidth(a,this.bkGrndDiv.height/2-d+(this.bkGrndDiv.height/2-this.secondRowArray[b].currDiv.height)/2,this.secondRowArray[b].expectedWidth),a+=c;null!=this.logo&&(this.logo.style.marginLeft=a+"px",this.logo.style.marginTop=this.bkGrndDiv.height/
2-d+(this.bkGrndDiv.height/2-this.secondRowArray[b].currDiv.height)/2+"px")}},transformPlaybar:function(){var b="matrix(",b=cp.PB.isVertical?b+"0,1,-1,0,":b+"1,0,0,1,";this.playBarDiv.style.left="0px";this.playBarDiv.style.top="0px";var a=0,c=0;switch(cp.PB.MP.PBP.position){case 2:a+=cp.PB.playBarOtherDim,cp.PB.MP.PBP.overlay&&(a-=this.bkGrndDiv.height);case 0:a+=(-this.bkGrndDiv.width+this.bkGrndDiv.height)/2;cp.loadedModules.toc&&1==cp.toc.movieProperties.tocProperties.position&&(a+=cp.D.tocProperties.width);
switch(cp.PB.MP.PBP.layout){case 0:c=(this.bkGrndDiv.width-this.bkGrndDiv.height)/2;break;case 1:c=(cp.PB.playBarDim-this.bkGrndDiv.height)/2;break;case 2:c=cp.PB.playBarDim-(this.bkGrndDiv.width+this.bkGrndDiv.height)/2;break;case 3:c=(cp.PB.playBarDim-this.bkGrndDiv.height)/2}break;case 3:c+=cp.PB.playBarOtherDim,cp.PB.MP.PBP.overlay&&(c-=this.bkGrndDiv.height);case 1:switch(cp.PB.MP.PBP.layout){case 0:a=0;break;case 1:a=cp.PB.playBarDim-this.bkGrndDiv.width;break;case 2:a=(cp.PB.playBarDim-this.bkGrndDiv.width)/
2;break;case 3:a=0}cp.loadedModules.toc&&(1==cp.toc.movieProperties.tocProperties.position&&!cp.toc.movieProperties.tocProperties.overlay)&&(a+=cp.D.tocProperties.width)}cp.applyTransform(this.playBarDiv,b+(a+","+c+")"))},applyColor:function(b,a){var c=document.createElement("canvas"),d=document.createElement("canvas");d.width=a.width;d.height=a.height;c.width=a.width;c.height=a.height;var e=c.getContext("2d");e.clearRect(0,0,a.width,a.height);cp.setFillStrokeStyle(b,c,void 0,!0);e.fillRect(0,0,a.width,
a.height);e=d.getContext("2d");e.clearRect(0,0,a.width,a.height);e.globalAlpha=b.alpha/100;e.drawImage(a,0,0,a.width,a.height);e.globalCompositeOperation="source-atop";e.drawImage(c,0,0,a.width,a.height);return d},layoutPlaybar:function(){var b=0,a=-cp.PB.kBtnMargin;cp.PB.isVertical=0==cp.PB.MP.PBP.position%2?!0:!1;cp.PB.playBarDim=cp.PB.isVertical?cp.PB.MP.project.h:cp.PB.MP.project.w;cp.PB.playBarOtherDim=!1==cp.PB.isVertical?cp.PB.MP.project.h:cp.PB.MP.project.w;this.createBackground(cp.PB.playBarDim);
if(cp.PB.MP.PBP.tworow)a+=this.createButton([cp.PB.Btns.kBtnRewind],this.firstRowArray,this.rewindHandler,a),a+=this.createButton([cp.PB.Btns.kBtnBackward],this.firstRowArray,this.backwardHandler,a),a+=this.createButton([cp.PB.Btns.kBtnPlay,cp.PB.Btns.kBtnPause],this.firstRowArray,this.playPauseHandler,a),a+=this.createButton([cp.PB.Btns.kBtnForward],this.firstRowArray,this.forwardHandler,a),a+=this.createButton([cp.PB.Btns.kBtnFastForward,cp.PB.Btns.kBtnFastForward1,cp.PB.Btns.kBtnFastForward2],
this.firstRowArray,this.fastForwardHandler,a),this.firstRowMinWidth=a+=2*cp.PB.kIndentMargin,a=-cp.PB.kBtnMargin,a+=this.createButton([cp.PB.Btns.kBtnTOC],this.secondRowArray,this.tocHandler,a),a+=this.createButton([cp.PB.Btns.kBtnPrint],this.secondRowArray,null,a),a+=this.createButton([cp.PB.Btns.kBtnExit],this.secondRowArray,this.exitHandler,a),c=this.createSlider(this.secondRowArray,a),cp.device!=cp.IDEVICE&&(a+=this.createButton([cp.PB.Btns.kBtnAudioOn,cp.PB.Btns.kBtnAudioOff],this.secondRowArray,
this.audioOnOffHandler,a)),a+=this.createButton([cp.PB.Btns.kBtnCC],this.secondRowArray,this.ccHandler,a),a+=this.createButton([cp.PB.Btns.kBtnInfo],this.secondRowArray,this.showInfoHandler,a),a+=this.createLogo(a),a+=2*cp.PB.kIndentMargin,this.secondRowMinWidth=a+c,this.minWidth=this.firstRowMinWidth>this.secondRowMinWidth?this.firstRowMinWidth:this.secondRowMinWidth,3==cp.PB.MP.PBP.layout?(b=cp.PB.playBarDim,void 0!=this.slider&&(c=b-a-4*cp.PB.kBtnMargin,this.slider.expectedWidth=c)):b=this.minWidth;
else{if(0===cp.D.pref.rkt){var a=a+this.createButton([cp.PB.Btns.kBtnRewind],this.firstRowArray,this.rewindHandler,a,10001),a=a+this.createButton([cp.PB.Btns.kBtnPlay,cp.PB.Btns.kBtnPause],this.firstRowArray,this.playPauseHandler,a,10002),a=a+this.createButton([cp.PB.Btns.kBtnBackward],this.firstRowArray,this.backwardHandler,a,10003),a=a+this.createButton([cp.PB.Btns.kBtnForward],this.firstRowArray,this.forwardHandler,a,10004),a=a+this.createButton([cp.PB.Btns.kBtnFastForward,cp.PB.Btns.kBtnFastForward1,
cp.PB.Btns.kBtnFastForward2],this.firstRowArray,this.fastForwardHandler,a,10005),c=this.createSlider(this.firstRowArray,a);cp.device!=cp.IDEVICE&&(a+=this.createButton([cp.PB.Btns.kBtnAudioOn,cp.PB.Btns.kBtnAudioOff],this.firstRowArray,this.audioOnOffHandler,a,10007));a+=this.createButton([cp.PB.Btns.kBtnCC],this.firstRowArray,this.ccHandler,a,10008);a+=this.createButton([cp.PB.Btns.kBtnTOC],this.firstRowArray,this.tocHandler,a,10009);a+=this.createButton([cp.PB.Btns.kBtnPrint],this.firstRowArray,
null,a,10010);a+=this.createButton([cp.PB.Btns.kBtnExit],this.firstRowArray,this.exitHandler,a,10011);a+=this.createButton([cp.PB.Btns.kBtnInfo],this.firstRowArray,this.showInfoHandler,a,10012)}else a+=this.createButton([cp.PB.Btns.kBtnRewind],this.firstRowArray,this.rewindHandler,a,-1),a+=this.createButton([cp.PB.Btns.kBtnPlay,cp.PB.Btns.kBtnPause],this.firstRowArray,this.playPauseHandler,a,-1),a+=this.createButton([cp.PB.Btns.kBtnBackward],this.firstRowArray,this.backwardHandler,a,-1),a+=this.createButton([cp.PB.Btns.kBtnForward],
this.firstRowArray,this.forwardHandler,a,-1),a+=this.createButton([cp.PB.Btns.kBtnFastForward,cp.PB.Btns.kBtnFastForward1,cp.PB.Btns.kBtnFastForward2],this.firstRowArray,this.fastForwardHandler,a,-1),c=this.createSlider(this.firstRowArray,a),cp.device!=cp.IDEVICE&&(a+=this.createButton([cp.PB.Btns.kBtnAudioOn,cp.PB.Btns.kBtnAudioOff],this.firstRowArray,this.audioOnOffHandler,a,-1)),a+=this.createButton([cp.PB.Btns.kBtnCC],this.firstRowArray,this.ccHandler,a,-1),a+=this.createButton([cp.PB.Btns.kBtnTOC],
this.firstRowArray,this.tocHandler,a,-1),a+=this.createButton([cp.PB.Btns.kBtnPrint],this.firstRowArray,null,a,-1),a+=this.createButton([cp.PB.Btns.kBtnExit],this.firstRowArray,this.exitHandler,a,-1),a+=this.createButton([cp.PB.Btns.kBtnInfo],this.firstRowArray,this.showInfoHandler,a,-1);a+=this.createLogo(a);this.minWidth=this.firstRowMinWidth=a+=2*cp.PB.kIndentMargin;3==cp.PB.MP.PBP.layout?(b=cp.PB.playBarDim,void 0!=this.slider&&(c=b-a-4*cp.PB.kBtnMargin,this.slider.expectedWidth=c)):b=a+c}this.setBackGroundWidth(b);
this.initComponents();this.transformPlaybar();this.playBarDiv.constrObj=this;this.playBarDiv.play=this.onMovieResume;this.playBarDiv.pause=this.onMoviePaused;this.playBarDiv.mute=this.onAudioOff;this.playBarDiv.unmute=this.onAudioOn;cp.handleSpecialForPlaybar(this);cp.PB.MP.PBP.showOnHover&&(b=new cp.PB.playbarAnimator(this.playBarDiv),b.init(cp.PB.playBarHeight),this.playBarDiv.animator=b)},morphImages:function(){for(var b=0;b<cp.playbarAssetArr.length;++b){var a=cp.PB.loadedAssetArr[cp.playbarAssetArr[b]];
if(void 0!=a){var c=a.playbarassetName,c=c.replace("Small","");if("Glow"==c||"Progress"==c)cp.PB.loadedAssetArr[cp.playbarAssetArr[b]]=this.applyColor(cp.PB.MP.PBP.GlowColor,a);else if("Color"==c||"ThumbBase"==c)cp.PB.loadedAssetArr[cp.playbarAssetArr[b]]=this.applyColor(cp.PB.MP.PBP.FaceColor,a);else if(c==cp.PB.Btns.kBtnAudioOff||c==cp.PB.Btns.kBtnAudioOn||c==cp.PB.Btns.kBtnBackward||c==cp.PB.Btns.kBtnCC||c==cp.PB.Btns.kBtnExit||c==cp.PB.Btns.kBtnFastForward||c==cp.PB.Btns.kBtnFastForward1||c==
cp.PB.Btns.kBtnFastForward2||c==cp.PB.Btns.kBtnForward||c==cp.PB.Btns.kBtnPlay||c==cp.PB.Btns.kBtnPause||c==cp.PB.Btns.kBtnRewind||c==cp.PB.Btns.kBtnTOC)cp.PB.loadedAssetArr[cp.playbarAssetArr[b]]=this.applyColor(cp.PB.MP.PBP.IconColor,a)}}},exitHandler:function(){DoCPExit&&DoCPExit()},showInfoHandler:function(){cp.showInfoDialog()},audioOnOffHandler:function(){cp.toggleMute()},playPauseHandler:function(){cp.playPause(!0)},backwardHandler:function(){cp.goToPreviousSlide()},forwardHandler:function(){cp.goToNextSlide()},
fastForwardHandler:function(){cp.fastForward()},rewindHandler:function(){cp.rewind()},ccHandler:function(){cp.showHideCC()},tocHandler:function(){cp.showHideTOC()},onMoviePaused:function(){var b=this.constrObj;void 0!=b&&void 0!=b.btnMap[cp.PB.Btns.kBtnPause]&&b.btnMap[cp.PB.Btns.kBtnPause].changeImage(cp.PB.Btns.kBtnPlay)},onMovieResume:function(){var b=this.constrObj;void 0!=b&&void 0!=b.btnMap[cp.PB.Btns.kBtnPlay]&&b.btnMap[cp.PB.Btns.kBtnPlay].changeImage(cp.PB.Btns.kBtnPause)},onAudioOn:function(){var b=
this.constrObj;void 0!=b&&void 0!=b.btnMap[cp.PB.Btns.kBtnAudioOff]&&b.btnMap[cp.PB.Btns.kBtnAudioOff].changeImage(cp.PB.Btns.kBtnAudioOn)},onAudioOff:function(){var b=this.constrObj;void 0!=b&&void 0!=b.btnMap[cp.PB.Btns.kBtnAudioOn]&&b.btnMap[cp.PB.Btns.kBtnAudioOn].changeImage(cp.PB.Btns.kBtnAudioOff)},playbarAssetsLoaded:function(){cp.PB.playbarCreated=!1;cp.PB.assetsLoaded++;cp.PB.assetsLoaded==cp.playbarAssetArr.length&&(cp.PB.MP.PBP.applyColors&&this.parentObj.morphImages(),this.parentObj.layoutPlaybar(),
cp.PB.playbarCreated=!0,cp.complete())},createBkDiv:function(){var b=document.createElement("div");this.playBarDiv.appendChild(b);b.setAttribute("class","playbarBackGround");b.style.webkitBoxShadow="";b.style.boxShadow="";b.style.mozBoxShadow="";b.id="playbarBkGrnd";cp.PB.MP.PBP.tworow&&(b.style.height=2*b.clientHeight+"px");b=parseFloat(window.getComputedStyle(b).height.replace("px",""));cp.PB.playBarHeight=b;cp.PB.MP.PBP.playBarHeight=b;if(cp.PB.MP.PBP.overlay)cp.setMovieLeftTopRightBottom(0,0,
0,0);else{var a=0,c=0,d=0,e=0;0==cp.PB.MP.PBP.position?a=b:1==cp.PB.MP.PBP.position?c=b:2==cp.PB.MP.PBP.position?d=b:3==cp.PB.MP.PBP.position&&(e=b);cp.setMovieLeftTopRightBottom(a,c,d,e)}3==cp.PB.MP.PBP.position?cp.setCCPosition(b):cp.setCCPosition(0)},loadPlaybarAssets:function(){for(var b=0;b<cp.playbarAssetArr.length;++b){var a=new Image;a.playbarassetName=cp.playbarAssetArr[b];cp.playbarAssetArr[b]==cp.PB.Btns.kBtnLogo&&(cp.PB.playbarHasLogo=!0);cp.playbarAssetArr[b]==cp.PB.Btns.kBtnInfo&&(cp.PB.playbarHasInfo=
!0);cp.playbarAssetArr[b]==cp.PB.Btns.kBtnPrint&&(cp.PB.playbarHasPrint=!0);a.parentObj=this;cp.PB.loadedAssetArr[cp.playbarAssetArr[b]]=a;a.onload=this.playbarAssetsLoaded;a.onerror=this.playbarAssetsLoaded;a.src=cp.PB.playBarIconsFolder+cp.playbarAssetArr[b]+cp.PB.PNGSuffix}},shrinkPlaybarAssetsArr:function(){var b={},a;for(a in cp.PB.Btns)b[cp.PB.Btns[a]]=cp.playbarAssetArr.indexOf(cp.PB.Btns[a]);!cp.PB.MP.PBP.hasRewind&&0<=b[cp.PB.Btns.kBtnRewind]&&delete cp.playbarAssetArr[b[cp.PB.Btns.kBtnRewind]];
!cp.PB.MP.PBP.hasBackward&&0<=b[cp.PB.Btns.kBtnBackward]&&delete cp.playbarAssetArr[b[cp.PB.Btns.kBtnBackward]];!cp.PB.MP.PBP.hasForward&&0<=b[cp.PB.Btns.kBtnForward]&&delete cp.playbarAssetArr[b[cp.PB.Btns.kBtnForward]];!cp.PB.MP.PBP.hasCC&&0<=b[cp.PB.Btns.kBtnCC]&&delete cp.playbarAssetArr[b[cp.PB.Btns.kBtnCC]];!cp.PB.MP.PBP.hasExit&&0<=b[cp.PB.Btns.kBtnExit]&&delete cp.playbarAssetArr[b[cp.PB.Btns.kBtnExit]];cp.PB.MP.PBP.hasPlay||(0<=b[cp.PB.Btns.kBtnPlay]&&delete cp.playbarAssetArr[b[cp.PB.Btns.kBtnPlay]],
0<=b[cp.PB.Btns.kBtnPause]&&delete cp.playbarAssetArr[b[cp.PB.Btns.kBtnPause]]);cp.PB.MP.PBP.hasSlider||(0<=b[cp.PB.Btns.kBtnProgress]&&delete cp.playbarAssetArr[b[cp.PB.Btns.kBtnProgress]],0<=b[cp.PB.Btns.kBtnThumb]&&delete cp.playbarAssetArr[b[cp.PB.Btns.kBtnThumb]],0<=b[cp.PB.Btns.kBtnThumbBase]&&delete cp.playbarAssetArr[b[cp.PB.Btns.kBtnThumbBase]]);cp.PB.MP.PBP.hasAudioOn||(0<=b[cp.PB.Btns.kBtnAudioOn]&&delete cp.playbarAssetArr[b[cp.PB.Btns.kBtnAudioOn]],0<=b[cp.PB.Btns.kBtnAudioOff]&&delete cp.playbarAssetArr[b[cp.PB.Btns.kBtnAudioOff]]);
cp.PB.MP.PBP.hasFastForward||(0<=b[cp.PB.Btns.kBtnFastForward]&&delete cp.playbarAssetArr[b[cp.PB.Btns.kBtnFastForward]],0<=b[cp.PB.Btns.kBtnFastForward1]&&delete cp.playbarAssetArr[b[cp.PB.Btns.kBtnFastForward1]],0<=b[cp.PB.Btns.kBtnFastForward2]&&delete cp.playbarAssetArr[b[cp.PB.Btns.kBtnFastForward2]]);(!cp.PB.MP.project.hasTOC||!cp.PB.MP.tocProperties.overlay)&&0<=b[cp.PB.Btns.kBtnTOC]&&delete cp.playbarAssetArr[b[cp.PB.Btns.kBtnTOC]];b=!1;for(a in cp.PB.Btns)cp.playbarAssetArr.indexOf(0<=cp.PB.Btns[a])&&
(b=!0);if(!b)for(a=0;a<cp.PB.BtnStyleImages.length;++a)b=cp.playbarAssetArr.indexOf(cp.PB.BtnStyleImages[a]),0<=b&&cp.playbarAssetArr.splice(b,1);for(a=cp.playbarAssetArr.length-1;0<=a;--a)void 0==cp.playbarAssetArr[a]&&cp.playbarAssetArr.splice(a,1)}};cp.loadplaybar=function(){cp.PB.rootObj.createBkDiv();cp.PB.rootObj.shrinkPlaybarAssetsArr();cp.PB.rootObj.loadPlaybarAssets()};
cp.PB.playbarAnimator=function(b){this.endVal=this.startVal=0;this.param="";this.objDiv=b;this.totalSteps=25;this.currStep=0;this.direction=1;this.intervalId=this.timeoutId=-1;this.isAnimating=!1};
cp.PB.playbarAnimator.prototype={init:function(b){3==cp.PB.MP.PBP.position?(this.startVal=parseFloat(window.getComputedStyle(this.objDiv).top.replace("px","")),this.endVal=this.startVal+b,this.param="top"):2==cp.PB.MP.PBP.position?(this.startVal=parseFloat(window.getComputedStyle(this.objDiv).left.replace("px","")),this.endVal=this.startVal+b,cp.loadedModules.toc&&0==cp.toc.movieProperties.tocProperties.position&&(this.endVal+=cp.toc.movieProperties.tocProperties.width),this.param="left"):1==cp.PB.MP.PBP.position?
(this.startVal=parseFloat(window.getComputedStyle(this.objDiv).top.replace("px","")),this.endVal=this.startVal-b,this.param="top"):0==cp.PB.MP.PBP.position&&(this.startVal=parseFloat(window.getComputedStyle(this.objDiv).left.replace("px","")),this.endVal=this.startVal-b,cp.loadedModules.toc&&1==cp.toc.movieProperties.tocProperties.position&&(this.endVal-=cp.toc.movieProperties.tocProperties.width),this.param="left")},startTimer:function(){clearTimeout(this.timeoutId);this.timeoutId=setTimeout(this.hidePlaybar,
2E3)},easeOut:function(b,a){var c=b+Math.pow(1/this.totalSteps*this.currStep,0.3)*(a-b);return Math.ceil(c)},beginAnim:function(){var b=document.getElementById("playbar");if(null!=b){var a=b.animator;a.direction?(a.currStep++,a.currStep>=a.totalSteps?(clearInterval(a.intervalId),a.currStep=0,a.isAnimating=!1,b.style[a.param]=a.endVal+"px"):b.style[a.param]=a.easeOut(a.startVal,a.endVal)+"px"):(a.currStep++,a.currStep>=a.totalSteps?(clearInterval(a.intervalId),a.currStep=0,a.isAnimating=!1,b.style[a.param]=
a.startVal+"px"):b.style[a.param]=a.easeOut(a.endVal,a.startVal)+"px")}},hidePlaybar:function(){var b=document.getElementById("playbar");b&&(clearTimeout(b.animator.timeoutId),b.animator.direction=1,b.animator.isAnimating=!0,clearInterval(b.animator.intervalId),b.animator.intervalId=setInterval(b.animator.beginAnim,20))},showPlaybar:function(b){var a=document.getElementById("playbar");if(a&&(clearTimeout(a.animator.timeoutId),b||(a.animator.timeoutId=setTimeout(a.animator.hidePlaybar,2E3)),!(a.animator.isAnimating&&
0==a.animator.direction)&&parseFloat(window.getComputedStyle(a)[a.animator.param].replace("px",""))!=this.startVal))a.animator.direction=0,a.animator.isAnimating=!0,clearInterval(a.animator.intervalId),a.animator.intervalId=setInterval(a.animator.beginAnim,20)}};
cp.playBarInit=function(b){cp.PB.movieProperties=b;cp.PB.MP=cp.PB.movieProperties;cp.PB.MP.PBP=cp.PB.MP.playBarProperties;cp.PB.MP.PBP.locale&&(cp.PB.toolTipLocaleIndex=cp.PB.MP.PBP.locale);b=document.getElementById("playbar");cp.PB.MP.PBP.hasPlayBar||(b.style.display="none",cp.setMovieLeftTopRightBottom(0,0,0,0));cp.PB.rootObj=new cp.PB.playBarConstruct(b);b.style.left=0==cp.PB.MP.PBP.position?"0px":(cp.PB.MP.project.hasTOC&&!cp.PB.MP.tocProperties.overlay?cp.D.tocProperties.width:0)+"px";b.style.top=
"0px";cp.PB.MP.project.hasTOC&&cp.PB.MP.tocProperties.overlay&&(cp.PB.MP.PBP.hasTOC=!0);cp.PB.MP.PBP.hasPlayBar&&cp.loadplaybar()};cp.setPlaybarCallback=function(b){cp.PB.mainMovie=b};cp.modifyAlternativeAccessibleText=function(b,a){if(""!=a&&b&&"undefined"!=b)if(cp.SAFARI===cp.browser)b.setAttribute("aria-label",a);else{if(0===cp.D.pref.acc||""===a)a=" ";var c=b.firstChild;if(c&&("DIV"!==c.tagName&&(c=c.nextSibling),c))if(c=c.firstChild)c.innerHTML=a}};
cp.CPProjInit();
cp.DoCPInit=function(){if(!cp.D.project_main.isPublishedFromLacuna&&!cp.sbw&&RuntimeBrowserDetect){var a="This browser does not support some of the content in the file you are trying to view. Use one of the following browsers:<ul><li>Internet Explorer 9 or later</li><li>Safari 5.1 or later</li><li>Google Chrome 17 or later</li></ul>",b="Adobe Captivate",c="OK";if(cp&&cp.model&&cp.model.data){var d=cp.model.data.rtDialog;d&&(a=d.rtUnsupportedBowser,b=d.rtWarningTitle,c=d.rtokb)}RuntimeBrowserDetect.init(a,b,
c)}cp.initiated=!1;cp.LMSTypes={};cp.LMSTypes.NONE=0;cp.LMSTypes.SCORM2004=1;cp.LMSTypes.SCORM12=2;cp.LMSTypes.Authorware=3;cp.LMSTypes.AICC=4;cp.LMSTypes.QuestionMark=5;cp.LMSTypes.Email=6;cp.LMSTypes.Breeze=7;cp.LMSTypes.Acrobat=8;cp.LMSTypes.InternalServer=9;cp.LMSTypes.TinCan=10;a=cp.ContinueCPInit;b=function(){jQuery(window).unload(function(){cp.UnloadActivties()})};if(cp.D&&cp.D.quizReportingData)switch(c=cp.D.quizReportingData.lmsType,cp.LMSDriverHolder=void 0,c){case cp.LMSTypes.SCORM2004:case cp.LMSTypes.SCORM12:case cp.LMSTypes.TinCan:cp.LMSDriverHolder=
window;a=cp.LoadActivities;b();break;case cp.LMSTypes.AICC:cp.LMSDriverHolder=window.parent;cp.LMSDriverHolder.blockedForLMS||(cp.LMSDriverHolder.blockedForLMS=!0,cp("blockUserInteraction").style.display="block",cp("blockUserInteraction").style.width="100%",cp("blockUserInteraction").style.height="100%");a=cp.LMSDriverHolder.HTMLContentLoadedCallback;b();break;default:cp.LMSDriverHolder=void 0}a=cp.IsRunningInConnect()?cp.LoadActivities:a;a();cp.Automate()};
cp.ContinueCPInit=function(){cp.CPPreInit();cp.QuizLibraryInit();cp.CPPostInit();"undefined"!=typeof CPAutomator&&CPAutomator.init();document.getElementById("playImage").focus();cp.initiated=!0;cp.complete()};window.DoCPExit=function(){if(window!=window.parent&&window.parent&&window.parent.hasOwnProperty("DoCPExit"))window.parent.DoCPExit();else if(cp.IsRunningInConnect())window.parent.close();else if(window.top==self){var a=window.open("","_self");a.close()}else a=window.top.open("","_self"),a.top.close()};
cp.Automate=function(){"undefined"!=typeof CPAutomator&&CPAutomator.CPRunSuite.model.workflow&&setTimeout(function(){CPAutomator.Replay.init()},1E4)};
